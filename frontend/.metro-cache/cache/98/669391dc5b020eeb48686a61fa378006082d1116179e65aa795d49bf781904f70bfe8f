{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./vad/local-vad","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":299},"end":{"line":9,"column":38,"index":337}}],"key":"+a18EXtkk+xbuwN1/2+ufd1GJ4A=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":55,"column":24,"index":1577},"end":{"line":55,"column":42,"index":1595}}],"key":"Zo2OD1UlwSKfA7XPavzmMQoVCN4=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.startRecording = startRecording;\n  exports.stopRecording = stopRecording;\n  exports.isRecording = isRecording;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _vadLocalVad = require(_dependencyMap[1], \"./vad/local-vad\");\n  /**\n   * Audio Recorder â€” cross-platform audio capture with VAD auto-stop.\n   *\n   * Uses expo-av on native, MediaRecorder on web.\n   * Outputs ~250ms audio chunks as base64 for WS streaming.\n   * VAD drives auto-stop after silence detected (Siri-like behaviour).\n   */\n\n  let _recording = false;\n  let _seq = 0;\n  let _chunkInterval = null;\n  let _vadInterval = null;\n  let _onSpeechEnd = null;\n\n  // For native, we'd use expo-av Audio.Recording\n  let _expoRecording = null;\n\n  /**\n   * Start audio recording and emit chunks every ~250ms.\n   * onSpeechEnd is called automatically when VAD detects end-of-utterance (Siri-like).\n   */\n  async function startRecording(onChunk, onSpeechEnd) {\n    if (_recording) return;\n    _recording = true;\n    _seq = 0;\n    _onSpeechEnd = onSpeechEnd || null;\n    _vadLocalVad.vad.reset();\n    if (Platform.default.OS === 'web') {\n      // Web: Use MediaRecorder API if available, else simulate\n      try {\n        await _startWebRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Web recording not available, using simulation:', err);\n        _startSimulatedRecording(onChunk);\n      }\n    } else {\n      // Native: Use expo-av with metering for VAD\n      try {\n        const {\n          Audio\n        } = require(_dependencyMap[2], \"expo-av\");\n\n        // Request microphone permission first\n        const {\n          granted\n        } = await Audio.requestPermissionsAsync();\n        if (!granted) {\n          console.warn('[Recorder] Microphone permission denied, using simulated recording');\n          _startSimulatedRecording(onChunk);\n          return;\n        }\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true\n        });\n        const recording = new Audio.Recording();\n        await recording.prepareToRecordAsync(Object.assign({}, Audio.RecordingOptionsPresets.HIGH_QUALITY, {\n          isMeteringEnabled: true\n        }));\n\n        // Wire VAD via metering updates\n        recording.setProgressUpdateInterval(100);\n        recording.setOnRecordingStatusUpdate(status => {\n          if (!_recording) return;\n          if (status.metering !== undefined) {\n            // Convert dBFS (typically -160 to 0) to linear RMS for VAD\n            const rms = Math.pow(10, status.metering / 20);\n            const event = _vadLocalVad.vad.processEnergy(rms);\n            if (event === 'speechEnd' && _onSpeechEnd) {\n              console.log('[Recorder] VAD: speechEnd detected (native)');\n              _onSpeechEnd();\n            }\n          }\n        });\n        await recording.startAsync();\n        _expoRecording = recording;\n\n        // Emit simulated chunks for WS streaming (expo-av doesn't stream directly)\n        _startSimulatedRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Native recording unavailable, using simulated:', err?.message || err);\n        _startSimulatedRecording(onChunk);\n      }\n    }\n  }\n\n  /**\n   * Stop recording and cleanup.\n   */\n  async function stopRecording() {\n    _recording = false;\n    _onSpeechEnd = null;\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') {\n        _webRecorder.stop();\n      }\n      _webRecorder = null;\n    }\n    if (_expoRecording) {\n      try {\n        await _expoRecording.stopAndUnloadAsync();\n      } catch {\n        // ignore\n      }\n      _expoRecording = null;\n    }\n  }\n  function isRecording() {\n    return _recording;\n  }\n\n  // ---- Web MediaRecorder ----\n  let _webStream = null;\n  let _webRecorder = null;\n  async function _startWebRecording(onChunk) {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    _webStream = stream;\n    const recorder = new MediaRecorder(stream, {\n      mimeType: 'audio/webm;codecs=opus'\n    });\n    _webRecorder = recorder;\n    recorder.ondataavailable = async event => {\n      if (event.data.size > 0 && _recording) {\n        const buffer = await event.data.arrayBuffer();\n        const base64 = _arrayBufferToBase64(buffer);\n        _seq++;\n        onChunk({\n          data: base64,\n          seq: _seq,\n          timestamp: Date.now(),\n          durationMs: 250\n        });\n      }\n    };\n\n    // Attach VAD to the live stream for auto-stop\n    _vadLocalVad.vad.attachStream(stream);\n    _vadInterval = setInterval(() => {\n      if (!_recording) return;\n      const event = _vadLocalVad.vad.sampleStream();\n      if (event === 'speechEnd' && _onSpeechEnd) {\n        console.log('[Recorder] VAD: speechEnd detected (web)');\n        _onSpeechEnd();\n      }\n    }, 100);\n\n    // Request data every 250ms\n    recorder.start(250);\n  }\n\n  // ---- Simulated Recording (fallback) ----\n  function _startSimulatedRecording(onChunk) {\n    _chunkInterval = setInterval(() => {\n      if (!_recording) return;\n      _seq++;\n\n      // Generate a small fake audio chunk (~1KB of random data)\n      const fakeData = new Uint8Array(1024);\n      for (let i = 0; i < fakeData.length; i++) {\n        fakeData[i] = Math.floor(Math.random() * 256);\n      }\n      const base64 = _uint8ToBase64(fakeData);\n      onChunk({\n        data: base64,\n        seq: _seq,\n        timestamp: Date.now(),\n        durationMs: 250\n      });\n    }, 250);\n  }\n\n  // ---- Utils ----\n  function _arrayBufferToBase64(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n  }\n  function _uint8ToBase64(data) {\n    let binary = '';\n    for (let i = 0; i < data.length; i++) {\n      binary += String.fromCharCode(data[i]);\n    }\n    return btoa(binary);\n  }\n});","lineCount":221,"map":[[12,2,33,0,"exports"],[12,9,33,0],[12,10,33,0,"startRecording"],[12,24,33,0],[12,27,33,0,"startRecording"],[12,41,33,0],[13,2,106,0,"exports"],[13,9,106,0],[13,10,106,0,"stopRecording"],[13,23,106,0],[13,26,106,0,"stopRecording"],[13,39,106,0],[14,2,144,0,"exports"],[14,9,144,0],[14,10,144,0,"isRecording"],[14,21,144,0],[14,24,144,0,"isRecording"],[14,35,144,0],[15,2,146,1],[15,6,146,1,"_reactNativeWebDistExportsPlatform"],[15,40,146,1],[15,43,146,1,"require"],[15,50,146,1],[15,51,146,1,"_dependencyMap"],[15,65,146,1],[16,2,146,1],[16,6,146,1,"Platform"],[16,14,146,1],[16,17,146,1,"_interopDefault"],[16,32,146,1],[16,33,146,1,"_reactNativeWebDistExportsPlatform"],[16,67,146,1],[17,2,9,0],[17,6,9,0,"_vadLocalVad"],[17,18,9,0],[17,21,9,0,"require"],[17,28,9,0],[17,29,9,0,"_dependencyMap"],[17,43,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[26,2,20,0],[26,6,20,4,"_recording"],[26,16,20,14],[26,19,20,17],[26,24,20,22],[27,2,21,0],[27,6,21,4,"_seq"],[27,10,21,8],[27,13,21,11],[27,14,21,12],[28,2,22,0],[28,6,22,4,"_chunkInterval"],[28,20,22,57],[28,23,22,60],[28,27,22,64],[29,2,23,0],[29,6,23,4,"_vadInterval"],[29,18,23,55],[29,21,23,58],[29,25,23,62],[30,2,24,0],[30,6,24,4,"_onSpeechEnd"],[30,18,24,37],[30,21,24,40],[30,25,24,44],[32,2,26,0],[33,2,27,0],[33,6,27,4,"_expoRecording"],[33,20,27,23],[33,23,27,26],[33,27,27,30],[35,2,29,0],[36,0,30,0],[37,0,31,0],[38,0,32,0],[39,2,33,7],[39,17,33,22,"startRecording"],[39,31,33,36,"startRecording"],[39,32,34,2,"onChunk"],[39,39,34,26],[39,41,35,2,"onSpeechEnd"],[39,52,35,26],[39,54,36,17],[40,4,37,2],[40,8,37,6,"_recording"],[40,18,37,16],[40,20,37,18],[41,4,39,2,"_recording"],[41,14,39,12],[41,17,39,15],[41,21,39,19],[42,4,40,2,"_seq"],[42,8,40,6],[42,11,40,9],[42,12,40,10],[43,4,41,2,"_onSpeechEnd"],[43,16,41,14],[43,19,41,17,"onSpeechEnd"],[43,30,41,28],[43,34,41,32],[43,38,41,36],[44,4,42,2,"vad"],[44,16,42,5],[44,17,42,5,"vad"],[44,20,42,5],[44,21,42,6,"reset"],[44,26,42,11],[44,27,42,12],[44,28,42,13],[45,4,44,2],[45,8,44,6,"Platform"],[45,16,44,14],[45,17,44,14,"default"],[45,24,44,14],[45,25,44,15,"OS"],[45,27,44,17],[45,32,44,22],[45,37,44,27],[45,39,44,29],[46,6,45,4],[47,6,46,4],[47,10,46,8],[48,8,47,6],[48,14,47,12,"_startWebRecording"],[48,32,47,30],[48,33,47,31,"onChunk"],[48,40,47,38],[48,41,47,39],[49,6,48,4],[49,7,48,5],[49,8,48,6],[49,15,48,13,"err"],[49,18,48,16],[49,20,48,18],[50,8,49,6,"console"],[50,15,49,13],[50,16,49,14,"warn"],[50,20,49,18],[50,21,49,19],[50,80,49,78],[50,82,49,80,"err"],[50,85,49,83],[50,86,49,84],[51,8,50,6,"_startSimulatedRecording"],[51,32,50,30],[51,33,50,31,"onChunk"],[51,40,50,38],[51,41,50,39],[52,6,51,4],[53,4,52,2],[53,5,52,3],[53,11,52,9],[54,6,53,4],[55,6,54,4],[55,10,54,8],[56,8,55,6],[56,14,55,12],[57,10,55,14,"Audio"],[58,8,55,20],[58,9,55,21],[58,12,55,24,"require"],[58,19,55,31],[58,20,55,31,"_dependencyMap"],[58,34,55,31],[58,48,55,41],[58,49,55,42],[60,8,57,6],[61,8,58,6],[61,14,58,12],[62,10,58,14,"granted"],[63,8,58,22],[63,9,58,23],[63,12,58,26],[63,18,58,32,"Audio"],[63,23,58,37],[63,24,58,38,"requestPermissionsAsync"],[63,47,58,61],[63,48,58,62],[63,49,58,63],[64,8,59,6],[64,12,59,10],[64,13,59,11,"granted"],[64,20,59,18],[64,22,59,20],[65,10,60,8,"console"],[65,17,60,15],[65,18,60,16,"warn"],[65,22,60,20],[65,23,60,21],[65,91,60,89],[65,92,60,90],[66,10,61,8,"_startSimulatedRecording"],[66,34,61,32],[66,35,61,33,"onChunk"],[66,42,61,40],[66,43,61,41],[67,10,62,8],[68,8,63,6],[69,8,65,6],[69,14,65,12,"Audio"],[69,19,65,17],[69,20,65,18,"setAudioModeAsync"],[69,37,65,35],[69,38,65,36],[70,10,66,8,"allowsRecordingIOS"],[70,28,66,26],[70,30,66,28],[70,34,66,32],[71,10,67,8,"playsInSilentModeIOS"],[71,30,67,28],[71,32,67,30],[72,8,68,6],[72,9,68,7],[72,10,68,8],[73,8,70,6],[73,14,70,12,"recording"],[73,23,70,21],[73,26,70,24],[73,30,70,28,"Audio"],[73,35,70,33],[73,36,70,34,"Recording"],[73,45,70,43],[73,46,70,44],[73,47,70,45],[74,8,71,6],[74,14,71,12,"recording"],[74,23,71,21],[74,24,71,22,"prepareToRecordAsync"],[74,44,71,42],[74,45,71,42,"Object"],[74,51,71,42],[74,52,71,42,"assign"],[74,58,71,42],[74,63,72,11,"Audio"],[74,68,72,16],[74,69,72,17,"RecordingOptionsPresets"],[74,92,72,40],[74,93,72,41,"HIGH_QUALITY"],[74,105,72,53],[75,10,73,8,"isMeteringEnabled"],[75,27,73,25],[75,29,73,27],[76,8,73,31],[76,10,74,7],[76,11,74,8],[78,8,76,6],[79,8,77,6,"recording"],[79,17,77,15],[79,18,77,16,"setProgressUpdateInterval"],[79,43,77,41],[79,44,77,42],[79,47,77,45],[79,48,77,46],[80,8,78,6,"recording"],[80,17,78,15],[80,18,78,16,"setOnRecordingStatusUpdate"],[80,44,78,42],[80,45,78,44,"status"],[80,51,78,55],[80,55,78,60],[81,10,79,8],[81,14,79,12],[81,15,79,13,"_recording"],[81,25,79,23],[81,27,79,25],[82,10,80,8],[82,14,80,12,"status"],[82,20,80,18],[82,21,80,19,"metering"],[82,29,80,27],[82,34,80,32,"undefined"],[82,43,80,41],[82,45,80,43],[83,12,81,10],[84,12,82,10],[84,18,82,16,"rms"],[84,21,82,19],[84,24,82,22,"Math"],[84,28,82,26],[84,29,82,27,"pow"],[84,32,82,30],[84,33,82,31],[84,35,82,33],[84,37,82,35,"status"],[84,43,82,41],[84,44,82,42,"metering"],[84,52,82,50],[84,55,82,53],[84,57,82,55],[84,58,82,56],[85,12,83,10],[85,18,83,16,"event"],[85,23,83,21],[85,26,83,24,"vad"],[85,38,83,27],[85,39,83,27,"vad"],[85,42,83,27],[85,43,83,28,"processEnergy"],[85,56,83,41],[85,57,83,42,"rms"],[85,60,83,45],[85,61,83,46],[86,12,84,10],[86,16,84,14,"event"],[86,21,84,19],[86,26,84,24],[86,37,84,35],[86,41,84,39,"_onSpeechEnd"],[86,53,84,51],[86,55,84,53],[87,14,85,12,"console"],[87,21,85,19],[87,22,85,20,"log"],[87,25,85,23],[87,26,85,24],[87,71,85,69],[87,72,85,70],[88,14,86,12,"_onSpeechEnd"],[88,26,86,24],[88,27,86,25],[88,28,86,26],[89,12,87,10],[90,10,88,8],[91,8,89,6],[91,9,89,7],[91,10,89,8],[92,8,91,6],[92,14,91,12,"recording"],[92,23,91,21],[92,24,91,22,"startAsync"],[92,34,91,32],[92,35,91,33],[92,36,91,34],[93,8,92,6,"_expoRecording"],[93,22,92,20],[93,25,92,23,"recording"],[93,34,92,32],[95,8,94,6],[96,8,95,6,"_startSimulatedRecording"],[96,32,95,30],[96,33,95,31,"onChunk"],[96,40,95,38],[96,41,95,39],[97,6,96,4],[97,7,96,5],[97,8,96,6],[97,15,96,13,"err"],[97,18,96,16],[97,20,96,18],[98,8,97,6,"console"],[98,15,97,13],[98,16,97,14,"warn"],[98,20,97,18],[98,21,97,19],[98,80,97,78],[98,82,97,81,"err"],[98,85,97,84],[98,87,97,96,"message"],[98,94,97,103],[98,98,97,107,"err"],[98,101,97,110],[98,102,97,111],[99,8,98,6,"_startSimulatedRecording"],[99,32,98,30],[99,33,98,31,"onChunk"],[99,40,98,38],[99,41,98,39],[100,6,99,4],[101,4,100,2],[102,2,101,0],[104,2,103,0],[105,0,104,0],[106,0,105,0],[107,2,106,7],[107,17,106,22,"stopRecording"],[107,30,106,35,"stopRecording"],[107,31,106,35],[107,33,106,53],[108,4,107,2,"_recording"],[108,14,107,12],[108,17,107,15],[108,22,107,20],[109,4,108,2,"_onSpeechEnd"],[109,16,108,14],[109,19,108,17],[109,23,108,21],[110,4,110,2],[110,8,110,6,"_chunkInterval"],[110,22,110,20],[110,24,110,22],[111,6,111,4,"clearInterval"],[111,19,111,17],[111,20,111,18,"_chunkInterval"],[111,34,111,32],[111,35,111,33],[112,6,112,4,"_chunkInterval"],[112,20,112,18],[112,23,112,21],[112,27,112,25],[113,4,113,2],[114,4,115,2],[114,8,115,6,"_vadInterval"],[114,20,115,18],[114,22,115,20],[115,6,116,4,"clearInterval"],[115,19,116,17],[115,20,116,18,"_vadInterval"],[115,32,116,30],[115,33,116,31],[116,6,117,4,"_vadInterval"],[116,18,117,16],[116,21,117,19],[116,25,117,23],[117,4,118,2],[118,4,120,2,"vad"],[118,16,120,5],[118,17,120,5,"vad"],[118,20,120,5],[118,21,120,6,"detach"],[118,27,120,12],[118,28,120,13],[118,29,120,14],[119,4,121,2,"vad"],[119,16,121,5],[119,17,121,5,"vad"],[119,20,121,5],[119,21,121,6,"reset"],[119,26,121,11],[119,27,121,12],[119,28,121,13],[120,4,123,2],[120,8,123,6,"_webStream"],[120,18,123,16],[120,20,123,18],[121,6,124,4,"_webStream"],[121,16,124,14],[121,17,124,15,"getTracks"],[121,26,124,24],[121,27,124,25],[121,28,124,26],[121,29,124,27,"forEach"],[121,36,124,34],[121,37,124,35,"t"],[121,38,124,36],[121,42,124,40,"t"],[121,43,124,41],[121,44,124,42,"stop"],[121,48,124,46],[121,49,124,47],[121,50,124,48],[121,51,124,49],[122,6,125,4,"_webStream"],[122,16,125,14],[122,19,125,17],[122,23,125,21],[123,4,126,2],[124,4,127,2],[124,8,127,6,"_webRecorder"],[124,20,127,18],[124,22,127,20],[125,6,128,4],[125,10,128,8,"_webRecorder"],[125,22,128,20],[125,23,128,21,"state"],[125,28,128,26],[125,33,128,31],[125,44,128,42],[125,46,128,44],[126,8,129,6,"_webRecorder"],[126,20,129,18],[126,21,129,19,"stop"],[126,25,129,23],[126,26,129,24],[126,27,129,25],[127,6,130,4],[128,6,131,4,"_webRecorder"],[128,18,131,16],[128,21,131,19],[128,25,131,23],[129,4,132,2],[130,4,134,2],[130,8,134,6,"_expoRecording"],[130,22,134,20],[130,24,134,22],[131,6,135,4],[131,10,135,8],[132,8,136,6],[132,14,136,12,"_expoRecording"],[132,28,136,26],[132,29,136,27,"stopAndUnloadAsync"],[132,47,136,45],[132,48,136,46],[132,49,136,47],[133,6,137,4],[133,7,137,5],[133,8,137,6],[133,14,137,12],[134,8,138,6],[135,6,138,6],[136,6,140,4,"_expoRecording"],[136,20,140,18],[136,23,140,21],[136,27,140,25],[137,4,141,2],[138,2,142,0],[139,2,144,7],[139,11,144,16,"isRecording"],[139,22,144,27,"isRecording"],[139,23,144,27],[139,25,144,39],[140,4,145,2],[140,11,145,9,"_recording"],[140,21,145,19],[141,2,146,0],[143,2,148,0],[144,2,149,0],[144,6,149,4,"_webStream"],[144,16,149,34],[144,19,149,37],[144,23,149,41],[145,2,150,0],[145,6,150,4,"_webRecorder"],[145,18,150,38],[145,21,150,41],[145,25,150,45],[146,2,152,0],[146,17,152,15,"_startWebRecording"],[146,35,152,33,"_startWebRecording"],[146,36,152,34,"onChunk"],[146,43,152,58],[146,45,152,75],[147,4,153,2],[147,10,153,8,"stream"],[147,16,153,14],[147,19,153,17],[147,25,153,23,"navigator"],[147,34,153,32],[147,35,153,33,"mediaDevices"],[147,47,153,45],[147,48,153,46,"getUserMedia"],[147,60,153,58],[147,61,153,59],[148,6,153,61,"audio"],[148,11,153,66],[148,13,153,68],[149,4,153,73],[149,5,153,74],[149,6,153,75],[150,4,154,2,"_webStream"],[150,14,154,12],[150,17,154,15,"stream"],[150,23,154,21],[151,4,156,2],[151,10,156,8,"recorder"],[151,18,156,16],[151,21,156,19],[151,25,156,23,"MediaRecorder"],[151,38,156,36],[151,39,156,37,"stream"],[151,45,156,43],[151,47,156,45],[152,6,157,4,"mimeType"],[152,14,157,12],[152,16,157,14],[153,4,158,2],[153,5,158,3],[153,6,158,4],[154,4,159,2,"_webRecorder"],[154,16,159,14],[154,19,159,17,"recorder"],[154,27,159,25],[155,4,161,2,"recorder"],[155,12,161,10],[155,13,161,11,"ondataavailable"],[155,28,161,26],[155,31,161,29],[155,37,161,36,"event"],[155,42,161,41],[155,46,161,46],[156,6,162,4],[156,10,162,8,"event"],[156,15,162,13],[156,16,162,14,"data"],[156,20,162,18],[156,21,162,19,"size"],[156,25,162,23],[156,28,162,26],[156,29,162,27],[156,33,162,31,"_recording"],[156,43,162,41],[156,45,162,43],[157,8,163,6],[157,14,163,12,"buffer"],[157,20,163,18],[157,23,163,21],[157,29,163,27,"event"],[157,34,163,32],[157,35,163,33,"data"],[157,39,163,37],[157,40,163,38,"arrayBuffer"],[157,51,163,49],[157,52,163,50],[157,53,163,51],[158,8,164,6],[158,14,164,12,"base64"],[158,20,164,18],[158,23,164,21,"_arrayBufferToBase64"],[158,43,164,41],[158,44,164,42,"buffer"],[158,50,164,48],[158,51,164,49],[159,8,165,6,"_seq"],[159,12,165,10],[159,14,165,12],[160,8,166,6,"onChunk"],[160,15,166,13],[160,16,166,14],[161,10,167,8,"data"],[161,14,167,12],[161,16,167,14,"base64"],[161,22,167,20],[162,10,168,8,"seq"],[162,13,168,11],[162,15,168,13,"_seq"],[162,19,168,17],[163,10,169,8,"timestamp"],[163,19,169,17],[163,21,169,19,"Date"],[163,25,169,23],[163,26,169,24,"now"],[163,29,169,27],[163,30,169,28],[163,31,169,29],[164,10,170,8,"durationMs"],[164,20,170,18],[164,22,170,20],[165,8,171,6],[165,9,171,7],[165,10,171,8],[166,6,172,4],[167,4,173,2],[167,5,173,3],[169,4,175,2],[170,4,176,2,"vad"],[170,16,176,5],[170,17,176,5,"vad"],[170,20,176,5],[170,21,176,6,"attachStream"],[170,33,176,18],[170,34,176,19,"stream"],[170,40,176,25],[170,41,176,26],[171,4,177,2,"_vadInterval"],[171,16,177,14],[171,19,177,17,"setInterval"],[171,30,177,28],[171,31,177,29],[171,37,177,35],[172,6,178,4],[172,10,178,8],[172,11,178,9,"_recording"],[172,21,178,19],[172,23,178,21],[173,6,179,4],[173,12,179,10,"event"],[173,17,179,15],[173,20,179,18,"vad"],[173,32,179,21],[173,33,179,21,"vad"],[173,36,179,21],[173,37,179,22,"sampleStream"],[173,49,179,34],[173,50,179,35],[173,51,179,36],[174,6,180,4],[174,10,180,8,"event"],[174,15,180,13],[174,20,180,18],[174,31,180,29],[174,35,180,33,"_onSpeechEnd"],[174,47,180,45],[174,49,180,47],[175,8,181,6,"console"],[175,15,181,13],[175,16,181,14,"log"],[175,19,181,17],[175,20,181,18],[175,62,181,60],[175,63,181,61],[176,8,182,6,"_onSpeechEnd"],[176,20,182,18],[176,21,182,19],[176,22,182,20],[177,6,183,4],[178,4,184,2],[178,5,184,3],[178,7,184,5],[178,10,184,8],[178,11,184,9],[180,4,186,2],[181,4,187,2,"recorder"],[181,12,187,10],[181,13,187,11,"start"],[181,18,187,16],[181,19,187,17],[181,22,187,20],[181,23,187,21],[182,2,188,0],[184,2,190,0],[185,2,191,0],[185,11,191,9,"_startSimulatedRecording"],[185,35,191,33,"_startSimulatedRecording"],[185,36,191,34,"onChunk"],[185,43,191,58],[185,45,191,66],[186,4,192,2,"_chunkInterval"],[186,18,192,16],[186,21,192,19,"setInterval"],[186,32,192,30],[186,33,192,31],[186,39,192,37],[187,6,193,4],[187,10,193,8],[187,11,193,9,"_recording"],[187,21,193,19],[187,23,193,21],[188,6,194,4,"_seq"],[188,10,194,8],[188,12,194,10],[190,6,196,4],[191,6,197,4],[191,12,197,10,"fakeData"],[191,20,197,18],[191,23,197,21],[191,27,197,25,"Uint8Array"],[191,37,197,35],[191,38,197,36],[191,42,197,40],[191,43,197,41],[192,6,198,4],[192,11,198,9],[192,15,198,13,"i"],[192,16,198,14],[192,19,198,17],[192,20,198,18],[192,22,198,20,"i"],[192,23,198,21],[192,26,198,24,"fakeData"],[192,34,198,32],[192,35,198,33,"length"],[192,41,198,39],[192,43,198,41,"i"],[192,44,198,42],[192,46,198,44],[192,48,198,46],[193,8,199,6,"fakeData"],[193,16,199,14],[193,17,199,15,"i"],[193,18,199,16],[193,19,199,17],[193,22,199,20,"Math"],[193,26,199,24],[193,27,199,25,"floor"],[193,32,199,30],[193,33,199,31,"Math"],[193,37,199,35],[193,38,199,36,"random"],[193,44,199,42],[193,45,199,43],[193,46,199,44],[193,49,199,47],[193,52,199,50],[193,53,199,51],[194,6,200,4],[195,6,201,4],[195,12,201,10,"base64"],[195,18,201,16],[195,21,201,19,"_uint8ToBase64"],[195,35,201,33],[195,36,201,34,"fakeData"],[195,44,201,42],[195,45,201,43],[196,6,203,4,"onChunk"],[196,13,203,11],[196,14,203,12],[197,8,204,6,"data"],[197,12,204,10],[197,14,204,12,"base64"],[197,20,204,18],[198,8,205,6,"seq"],[198,11,205,9],[198,13,205,11,"_seq"],[198,17,205,15],[199,8,206,6,"timestamp"],[199,17,206,15],[199,19,206,17,"Date"],[199,23,206,21],[199,24,206,22,"now"],[199,27,206,25],[199,28,206,26],[199,29,206,27],[200,8,207,6,"durationMs"],[200,18,207,16],[200,20,207,18],[201,6,208,4],[201,7,208,5],[201,8,208,6],[202,4,209,2],[202,5,209,3],[202,7,209,5],[202,10,209,8],[202,11,209,9],[203,2,210,0],[205,2,212,0],[206,2,213,0],[206,11,213,9,"_arrayBufferToBase64"],[206,31,213,29,"_arrayBufferToBase64"],[206,32,213,30,"buffer"],[206,38,213,49],[206,40,213,59],[207,4,214,2],[207,8,214,6,"binary"],[207,14,214,12],[207,17,214,15],[207,19,214,17],[208,4,215,2],[208,10,215,8,"bytes"],[208,15,215,13],[208,18,215,16],[208,22,215,20,"Uint8Array"],[208,32,215,30],[208,33,215,31,"buffer"],[208,39,215,37],[208,40,215,38],[209,4,216,2],[209,9,216,7],[209,13,216,11,"i"],[209,14,216,12],[209,17,216,15],[209,18,216,16],[209,20,216,18,"i"],[209,21,216,19],[209,24,216,22,"bytes"],[209,29,216,27],[209,30,216,28,"byteLength"],[209,40,216,38],[209,42,216,40,"i"],[209,43,216,41],[209,45,216,43],[209,47,216,45],[210,6,217,4,"binary"],[210,12,217,10],[210,16,217,14,"String"],[210,22,217,20],[210,23,217,21,"fromCharCode"],[210,35,217,33],[210,36,217,34,"bytes"],[210,41,217,39],[210,42,217,40,"i"],[210,43,217,41],[210,44,217,42],[210,45,217,43],[211,4,218,2],[212,4,219,2],[212,11,219,9,"btoa"],[212,15,219,13],[212,16,219,14,"binary"],[212,22,219,20],[212,23,219,21],[213,2,220,0],[214,2,222,0],[214,11,222,9,"_uint8ToBase64"],[214,25,222,23,"_uint8ToBase64"],[214,26,222,24,"data"],[214,30,222,40],[214,32,222,50],[215,4,223,2],[215,8,223,6,"binary"],[215,14,223,12],[215,17,223,15],[215,19,223,17],[216,4,224,2],[216,9,224,7],[216,13,224,11,"i"],[216,14,224,12],[216,17,224,15],[216,18,224,16],[216,20,224,18,"i"],[216,21,224,19],[216,24,224,22,"data"],[216,28,224,26],[216,29,224,27,"length"],[216,35,224,33],[216,37,224,35,"i"],[216,38,224,36],[216,40,224,38],[216,42,224,40],[217,6,225,4,"binary"],[217,12,225,10],[217,16,225,14,"String"],[217,22,225,20],[217,23,225,21,"fromCharCode"],[217,35,225,33],[217,36,225,34,"data"],[217,40,225,38],[217,41,225,39,"i"],[217,42,225,40],[217,43,225,41],[217,44,225,42],[218,4,226,2],[219,4,227,2],[219,11,227,9,"btoa"],[219,15,227,13],[219,16,227,14,"binary"],[219,22,227,20],[219,23,227,21],[220,2,228,0],[221,0,228,1],[221,3]],"functionMap":{"names":["<global>","startRecording","recording.setOnRecordingStatusUpdate$argument_0","stopRecording","_webStream.getTracks.forEach$argument_0","isRecording","_startWebRecording","ondataavailable","setInterval$argument_0","_startSimulatedRecording","_arrayBufferToBase64","_uint8ToBase64"],"mappings":"AAA;OCgC;2CC6C;ODW;CDY;OGK;mCCkB,aD;CHkB;OKE;CLE;AMM;6BCS;GDY;6BEI;GFO;CNI;ASG;+BDC;GCiB;CTC;AUG;CVO;AWE;CXM"},"hasCjsExports":false},"type":"js/module"}]}