{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./vad/local-vad","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":299},"end":{"line":9,"column":38,"index":337}}],"key":"+a18EXtkk+xbuwN1/2+ufd1GJ4A=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":57,"column":24,"index":1644},"end":{"line":57,"column":42,"index":1662}}],"key":"Zo2OD1UlwSKfA7XPavzmMQoVCN4=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.startRecording = startRecording;\n  exports.stopRecording = stopRecording;\n  exports.isRecording = isRecording;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _vadLocalVad = require(_dependencyMap[1], \"./vad/local-vad\");\n  /**\n   * Audio Recorder â€” cross-platform audio capture with VAD auto-stop.\n   *\n   * Uses expo-av on native, MediaRecorder on web.\n   * Outputs ~250ms audio chunks as base64 for WS streaming.\n   * VAD drives auto-stop after silence detected (Siri-like behaviour).\n   */\n\n  let _recording = false;\n  let _seq = 0;\n  let _chunkInterval = null;\n  let _vadInterval = null;\n  let _onChunk = null;\n  let _onSpeechEnd = null;\n\n  // For native, we'd use expo-av Audio.Recording\n  let _expoRecording = null;\n\n  /**\n   * Start audio recording and emit chunks every ~250ms.\n   * onSpeechEnd is called automatically when VAD detects end-of-utterance (Siri-like).\n   */\n  async function startRecording(onChunk, onSpeechEnd) {\n    if (_recording) return;\n    _recording = true;\n    _seq = 0;\n    _onChunk = onChunk;\n    _onSpeechEnd = onSpeechEnd || null;\n    _vadLocalVad.vad.reset();\n    if (Platform.default.OS === 'web') {\n      // Web: Use MediaRecorder API if available, else simulate\n      try {\n        await _startWebRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Web recording not available, using simulation:', err);\n        _startSimulatedRecording(onChunk);\n      }\n    } else {\n      // Native: Use expo-av with metering for VAD\n      try {\n        const {\n          Audio\n        } = require(_dependencyMap[2], \"expo-av\");\n\n        // Request microphone permission first\n        const {\n          granted\n        } = await Audio.requestPermissionsAsync();\n        if (!granted) {\n          console.warn('[Recorder] Microphone permission denied, using simulated recording');\n          _startSimulatedRecording(onChunk);\n          return;\n        }\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true\n        });\n        const recording = new Audio.Recording();\n        await recording.prepareToRecordAsync(Object.assign({}, Audio.RecordingOptionsPresets.HIGH_QUALITY, {\n          isMeteringEnabled: true\n        }));\n\n        // Wire VAD via metering updates\n        recording.setProgressUpdateInterval(100);\n        recording.setOnRecordingStatusUpdate(status => {\n          if (!_recording) return;\n          if (status.metering !== undefined) {\n            // Convert dBFS (typically -160 to 0) to linear RMS for VAD\n            const rms = Math.pow(10, status.metering / 20);\n            const event = _vadLocalVad.vad.processEnergy(rms);\n            if (event === 'speechEnd' && _onSpeechEnd) {\n              console.log('[Recorder] VAD: speechEnd detected (native)');\n              _onSpeechEnd();\n            }\n          }\n        });\n        await recording.startAsync();\n        _expoRecording = recording;\n\n        // Emit simulated chunks for WS streaming (expo-av doesn't stream directly)\n        _startSimulatedRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Native recording unavailable, using simulated:', err?.message || err);\n        _startSimulatedRecording(onChunk);\n      }\n    }\n  }\n\n  /**\n   * Stop recording and cleanup.\n   */\n  async function stopRecording() {\n    _recording = false;\n    _onSpeechEnd = null;\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') {\n        _webRecorder.stop();\n      }\n      _webRecorder = null;\n    }\n    if (_expoRecording) {\n      try {\n        await _expoRecording.stopAndUnloadAsync();\n      } catch (e) {\n        // ignore\n      }\n      _expoRecording = null;\n    }\n    _onChunk = null;\n  }\n  function isRecording() {\n    return _recording;\n  }\n\n  // ---- Web MediaRecorder ----\n  let _webStream = null;\n  let _webRecorder = null;\n  async function _startWebRecording(onChunk) {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    _webStream = stream;\n    const recorder = new MediaRecorder(stream, {\n      mimeType: 'audio/webm;codecs=opus'\n    });\n    _webRecorder = recorder;\n    recorder.ondataavailable = async event => {\n      if (event.data.size > 0 && _recording) {\n        const buffer = await event.data.arrayBuffer();\n        const base64 = _arrayBufferToBase64(buffer);\n        _seq++;\n        onChunk({\n          data: base64,\n          seq: _seq,\n          timestamp: Date.now(),\n          durationMs: 250\n        });\n      }\n    };\n\n    // Attach VAD to the live stream for auto-stop\n    _vadLocalVad.vad.attachStream(stream);\n    _vadInterval = setInterval(() => {\n      if (!_recording) return;\n      const event = _vadLocalVad.vad.sampleStream();\n      if (event === 'speechEnd' && _onSpeechEnd) {\n        console.log('[Recorder] VAD: speechEnd detected (web)');\n        _onSpeechEnd();\n      }\n    }, 100);\n\n    // Request data every 250ms\n    recorder.start(250);\n  }\n\n  // ---- Simulated Recording (fallback) ----\n  function _startSimulatedRecording(onChunk) {\n    _chunkInterval = setInterval(() => {\n      if (!_recording) return;\n      _seq++;\n\n      // Generate a small fake audio chunk (~1KB of random data)\n      const fakeData = new Uint8Array(1024);\n      for (let i = 0; i < fakeData.length; i++) {\n        fakeData[i] = Math.floor(Math.random() * 256);\n      }\n      const base64 = _uint8ToBase64(fakeData);\n      onChunk({\n        data: base64,\n        seq: _seq,\n        timestamp: Date.now(),\n        durationMs: 250\n      });\n    }, 250);\n  }\n\n  // ---- Utils ----\n  function _arrayBufferToBase64(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n  }\n  function _uint8ToBase64(data) {\n    let binary = '';\n    for (let i = 0; i < data.length; i++) {\n      binary += String.fromCharCode(data[i]);\n    }\n    return btoa(binary);\n  }\n});","lineCount":224,"map":[[12,2,34,0,"exports"],[12,9,34,0],[12,10,34,0,"startRecording"],[12,24,34,0],[12,27,34,0,"startRecording"],[12,41,34,0],[13,2,108,0,"exports"],[13,9,108,0],[13,10,108,0,"stopRecording"],[13,23,108,0],[13,26,108,0,"stopRecording"],[13,39,108,0],[14,2,148,0,"exports"],[14,9,148,0],[14,10,148,0,"isRecording"],[14,21,148,0],[14,24,148,0,"isRecording"],[14,35,148,0],[15,2,150,1],[15,6,150,1,"_reactNativeWebDistExportsPlatform"],[15,40,150,1],[15,43,150,1,"require"],[15,50,150,1],[15,51,150,1,"_dependencyMap"],[15,65,150,1],[16,2,150,1],[16,6,150,1,"Platform"],[16,14,150,1],[16,17,150,1,"_interopDefault"],[16,32,150,1],[16,33,150,1,"_reactNativeWebDistExportsPlatform"],[16,67,150,1],[17,2,9,0],[17,6,9,0,"_vadLocalVad"],[17,18,9,0],[17,21,9,0,"require"],[17,28,9,0],[17,29,9,0,"_dependencyMap"],[17,43,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[26,2,20,0],[26,6,20,4,"_recording"],[26,16,20,14],[26,19,20,17],[26,24,20,22],[27,2,21,0],[27,6,21,4,"_seq"],[27,10,21,8],[27,13,21,11],[27,14,21,12],[28,2,22,0],[28,6,22,4,"_chunkInterval"],[28,20,22,57],[28,23,22,60],[28,27,22,64],[29,2,23,0],[29,6,23,4,"_vadInterval"],[29,18,23,55],[29,21,23,58],[29,25,23,62],[30,2,24,0],[30,6,24,4,"_onChunk"],[30,14,24,36],[30,17,24,39],[30,21,24,43],[31,2,25,0],[31,6,25,4,"_onSpeechEnd"],[31,18,25,37],[31,21,25,40],[31,25,25,44],[33,2,27,0],[34,2,28,0],[34,6,28,4,"_expoRecording"],[34,20,28,23],[34,23,28,26],[34,27,28,30],[36,2,30,0],[37,0,31,0],[38,0,32,0],[39,0,33,0],[40,2,34,7],[40,17,34,22,"startRecording"],[40,31,34,36,"startRecording"],[40,32,35,2,"onChunk"],[40,39,35,26],[40,41,36,2,"onSpeechEnd"],[40,52,36,26],[40,54,37,17],[41,4,38,2],[41,8,38,6,"_recording"],[41,18,38,16],[41,20,38,18],[42,4,40,2,"_recording"],[42,14,40,12],[42,17,40,15],[42,21,40,19],[43,4,41,2,"_seq"],[43,8,41,6],[43,11,41,9],[43,12,41,10],[44,4,42,2,"_onChunk"],[44,12,42,10],[44,15,42,13,"onChunk"],[44,22,42,20],[45,4,43,2,"_onSpeechEnd"],[45,16,43,14],[45,19,43,17,"onSpeechEnd"],[45,30,43,28],[45,34,43,32],[45,38,43,36],[46,4,44,2,"vad"],[46,16,44,5],[46,17,44,5,"vad"],[46,20,44,5],[46,21,44,6,"reset"],[46,26,44,11],[46,27,44,12],[46,28,44,13],[47,4,46,2],[47,8,46,6,"Platform"],[47,16,46,14],[47,17,46,14,"default"],[47,24,46,14],[47,25,46,15,"OS"],[47,27,46,17],[47,32,46,22],[47,37,46,27],[47,39,46,29],[48,6,47,4],[49,6,48,4],[49,10,48,8],[50,8,49,6],[50,14,49,12,"_startWebRecording"],[50,32,49,30],[50,33,49,31,"onChunk"],[50,40,49,38],[50,41,49,39],[51,6,50,4],[51,7,50,5],[51,8,50,6],[51,15,50,13,"err"],[51,18,50,16],[51,20,50,18],[52,8,51,6,"console"],[52,15,51,13],[52,16,51,14,"warn"],[52,20,51,18],[52,21,51,19],[52,80,51,78],[52,82,51,80,"err"],[52,85,51,83],[52,86,51,84],[53,8,52,6,"_startSimulatedRecording"],[53,32,52,30],[53,33,52,31,"onChunk"],[53,40,52,38],[53,41,52,39],[54,6,53,4],[55,4,54,2],[55,5,54,3],[55,11,54,9],[56,6,55,4],[57,6,56,4],[57,10,56,8],[58,8,57,6],[58,14,57,12],[59,10,57,14,"Audio"],[60,8,57,20],[60,9,57,21],[60,12,57,24,"require"],[60,19,57,31],[60,20,57,31,"_dependencyMap"],[60,34,57,31],[60,48,57,41],[60,49,57,42],[62,8,59,6],[63,8,60,6],[63,14,60,12],[64,10,60,14,"granted"],[65,8,60,22],[65,9,60,23],[65,12,60,26],[65,18,60,32,"Audio"],[65,23,60,37],[65,24,60,38,"requestPermissionsAsync"],[65,47,60,61],[65,48,60,62],[65,49,60,63],[66,8,61,6],[66,12,61,10],[66,13,61,11,"granted"],[66,20,61,18],[66,22,61,20],[67,10,62,8,"console"],[67,17,62,15],[67,18,62,16,"warn"],[67,22,62,20],[67,23,62,21],[67,91,62,89],[67,92,62,90],[68,10,63,8,"_startSimulatedRecording"],[68,34,63,32],[68,35,63,33,"onChunk"],[68,42,63,40],[68,43,63,41],[69,10,64,8],[70,8,65,6],[71,8,67,6],[71,14,67,12,"Audio"],[71,19,67,17],[71,20,67,18,"setAudioModeAsync"],[71,37,67,35],[71,38,67,36],[72,10,68,8,"allowsRecordingIOS"],[72,28,68,26],[72,30,68,28],[72,34,68,32],[73,10,69,8,"playsInSilentModeIOS"],[73,30,69,28],[73,32,69,30],[74,8,70,6],[74,9,70,7],[74,10,70,8],[75,8,72,6],[75,14,72,12,"recording"],[75,23,72,21],[75,26,72,24],[75,30,72,28,"Audio"],[75,35,72,33],[75,36,72,34,"Recording"],[75,45,72,43],[75,46,72,44],[75,47,72,45],[76,8,73,6],[76,14,73,12,"recording"],[76,23,73,21],[76,24,73,22,"prepareToRecordAsync"],[76,44,73,42],[76,45,73,42,"Object"],[76,51,73,42],[76,52,73,42,"assign"],[76,58,73,42],[76,63,74,11,"Audio"],[76,68,74,16],[76,69,74,17,"RecordingOptionsPresets"],[76,92,74,40],[76,93,74,41,"HIGH_QUALITY"],[76,105,74,53],[77,10,75,8,"isMeteringEnabled"],[77,27,75,25],[77,29,75,27],[78,8,75,31],[78,10,76,7],[78,11,76,8],[80,8,78,6],[81,8,79,6,"recording"],[81,17,79,15],[81,18,79,16,"setProgressUpdateInterval"],[81,43,79,41],[81,44,79,42],[81,47,79,45],[81,48,79,46],[82,8,80,6,"recording"],[82,17,80,15],[82,18,80,16,"setOnRecordingStatusUpdate"],[82,44,80,42],[82,45,80,44,"status"],[82,51,80,55],[82,55,80,60],[83,10,81,8],[83,14,81,12],[83,15,81,13,"_recording"],[83,25,81,23],[83,27,81,25],[84,10,82,8],[84,14,82,12,"status"],[84,20,82,18],[84,21,82,19,"metering"],[84,29,82,27],[84,34,82,32,"undefined"],[84,43,82,41],[84,45,82,43],[85,12,83,10],[86,12,84,10],[86,18,84,16,"rms"],[86,21,84,19],[86,24,84,22,"Math"],[86,28,84,26],[86,29,84,27,"pow"],[86,32,84,30],[86,33,84,31],[86,35,84,33],[86,37,84,35,"status"],[86,43,84,41],[86,44,84,42,"metering"],[86,52,84,50],[86,55,84,53],[86,57,84,55],[86,58,84,56],[87,12,85,10],[87,18,85,16,"event"],[87,23,85,21],[87,26,85,24,"vad"],[87,38,85,27],[87,39,85,27,"vad"],[87,42,85,27],[87,43,85,28,"processEnergy"],[87,56,85,41],[87,57,85,42,"rms"],[87,60,85,45],[87,61,85,46],[88,12,86,10],[88,16,86,14,"event"],[88,21,86,19],[88,26,86,24],[88,37,86,35],[88,41,86,39,"_onSpeechEnd"],[88,53,86,51],[88,55,86,53],[89,14,87,12,"console"],[89,21,87,19],[89,22,87,20,"log"],[89,25,87,23],[89,26,87,24],[89,71,87,69],[89,72,87,70],[90,14,88,12,"_onSpeechEnd"],[90,26,88,24],[90,27,88,25],[90,28,88,26],[91,12,89,10],[92,10,90,8],[93,8,91,6],[93,9,91,7],[93,10,91,8],[94,8,93,6],[94,14,93,12,"recording"],[94,23,93,21],[94,24,93,22,"startAsync"],[94,34,93,32],[94,35,93,33],[94,36,93,34],[95,8,94,6,"_expoRecording"],[95,22,94,20],[95,25,94,23,"recording"],[95,34,94,32],[97,8,96,6],[98,8,97,6,"_startSimulatedRecording"],[98,32,97,30],[98,33,97,31,"onChunk"],[98,40,97,38],[98,41,97,39],[99,6,98,4],[99,7,98,5],[99,8,98,6],[99,15,98,13,"err"],[99,18,98,16],[99,20,98,18],[100,8,99,6,"console"],[100,15,99,13],[100,16,99,14,"warn"],[100,20,99,18],[100,21,99,19],[100,80,99,78],[100,82,99,81,"err"],[100,85,99,84],[100,87,99,96,"message"],[100,94,99,103],[100,98,99,107,"err"],[100,101,99,110],[100,102,99,111],[101,8,100,6,"_startSimulatedRecording"],[101,32,100,30],[101,33,100,31,"onChunk"],[101,40,100,38],[101,41,100,39],[102,6,101,4],[103,4,102,2],[104,2,103,0],[106,2,105,0],[107,0,106,0],[108,0,107,0],[109,2,108,7],[109,17,108,22,"stopRecording"],[109,30,108,35,"stopRecording"],[109,31,108,35],[109,33,108,53],[110,4,109,2,"_recording"],[110,14,109,12],[110,17,109,15],[110,22,109,20],[111,4,110,2,"_onSpeechEnd"],[111,16,110,14],[111,19,110,17],[111,23,110,21],[112,4,112,2],[112,8,112,6,"_chunkInterval"],[112,22,112,20],[112,24,112,22],[113,6,113,4,"clearInterval"],[113,19,113,17],[113,20,113,18,"_chunkInterval"],[113,34,113,32],[113,35,113,33],[114,6,114,4,"_chunkInterval"],[114,20,114,18],[114,23,114,21],[114,27,114,25],[115,4,115,2],[116,4,117,2],[116,8,117,6,"_vadInterval"],[116,20,117,18],[116,22,117,20],[117,6,118,4,"clearInterval"],[117,19,118,17],[117,20,118,18,"_vadInterval"],[117,32,118,30],[117,33,118,31],[118,6,119,4,"_vadInterval"],[118,18,119,16],[118,21,119,19],[118,25,119,23],[119,4,120,2],[120,4,122,2,"vad"],[120,16,122,5],[120,17,122,5,"vad"],[120,20,122,5],[120,21,122,6,"detach"],[120,27,122,12],[120,28,122,13],[120,29,122,14],[121,4,123,2,"vad"],[121,16,123,5],[121,17,123,5,"vad"],[121,20,123,5],[121,21,123,6,"reset"],[121,26,123,11],[121,27,123,12],[121,28,123,13],[122,4,125,2],[122,8,125,6,"_webStream"],[122,18,125,16],[122,20,125,18],[123,6,126,4,"_webStream"],[123,16,126,14],[123,17,126,15,"getTracks"],[123,26,126,24],[123,27,126,25],[123,28,126,26],[123,29,126,27,"forEach"],[123,36,126,34],[123,37,126,35,"t"],[123,38,126,36],[123,42,126,40,"t"],[123,43,126,41],[123,44,126,42,"stop"],[123,48,126,46],[123,49,126,47],[123,50,126,48],[123,51,126,49],[124,6,127,4,"_webStream"],[124,16,127,14],[124,19,127,17],[124,23,127,21],[125,4,128,2],[126,4,129,2],[126,8,129,6,"_webRecorder"],[126,20,129,18],[126,22,129,20],[127,6,130,4],[127,10,130,8,"_webRecorder"],[127,22,130,20],[127,23,130,21,"state"],[127,28,130,26],[127,33,130,31],[127,44,130,42],[127,46,130,44],[128,8,131,6,"_webRecorder"],[128,20,131,18],[128,21,131,19,"stop"],[128,25,131,23],[128,26,131,24],[128,27,131,25],[129,6,132,4],[130,6,133,4,"_webRecorder"],[130,18,133,16],[130,21,133,19],[130,25,133,23],[131,4,134,2],[132,4,136,2],[132,8,136,6,"_expoRecording"],[132,22,136,20],[132,24,136,22],[133,6,137,4],[133,10,137,8],[134,8,138,6],[134,14,138,12,"_expoRecording"],[134,28,138,26],[134,29,138,27,"stopAndUnloadAsync"],[134,47,138,45],[134,48,138,46],[134,49,138,47],[135,6,139,4],[135,7,139,5],[135,8,139,6],[135,15,139,13,"e"],[135,16,139,14],[135,18,139,16],[136,8,140,6],[137,6,140,6],[138,6,142,4,"_expoRecording"],[138,20,142,18],[138,23,142,21],[138,27,142,25],[139,4,143,2],[140,4,145,2,"_onChunk"],[140,12,145,10],[140,15,145,13],[140,19,145,17],[141,2,146,0],[142,2,148,7],[142,11,148,16,"isRecording"],[142,22,148,27,"isRecording"],[142,23,148,27],[142,25,148,39],[143,4,149,2],[143,11,149,9,"_recording"],[143,21,149,19],[144,2,150,0],[146,2,152,0],[147,2,153,0],[147,6,153,4,"_webStream"],[147,16,153,34],[147,19,153,37],[147,23,153,41],[148,2,154,0],[148,6,154,4,"_webRecorder"],[148,18,154,38],[148,21,154,41],[148,25,154,45],[149,2,156,0],[149,17,156,15,"_startWebRecording"],[149,35,156,33,"_startWebRecording"],[149,36,156,34,"onChunk"],[149,43,156,58],[149,45,156,75],[150,4,157,2],[150,10,157,8,"stream"],[150,16,157,14],[150,19,157,17],[150,25,157,23,"navigator"],[150,34,157,32],[150,35,157,33,"mediaDevices"],[150,47,157,45],[150,48,157,46,"getUserMedia"],[150,60,157,58],[150,61,157,59],[151,6,157,61,"audio"],[151,11,157,66],[151,13,157,68],[152,4,157,73],[152,5,157,74],[152,6,157,75],[153,4,158,2,"_webStream"],[153,14,158,12],[153,17,158,15,"stream"],[153,23,158,21],[154,4,160,2],[154,10,160,8,"recorder"],[154,18,160,16],[154,21,160,19],[154,25,160,23,"MediaRecorder"],[154,38,160,36],[154,39,160,37,"stream"],[154,45,160,43],[154,47,160,45],[155,6,161,4,"mimeType"],[155,14,161,12],[155,16,161,14],[156,4,162,2],[156,5,162,3],[156,6,162,4],[157,4,163,2,"_webRecorder"],[157,16,163,14],[157,19,163,17,"recorder"],[157,27,163,25],[158,4,165,2,"recorder"],[158,12,165,10],[158,13,165,11,"ondataavailable"],[158,28,165,26],[158,31,165,29],[158,37,165,36,"event"],[158,42,165,41],[158,46,165,46],[159,6,166,4],[159,10,166,8,"event"],[159,15,166,13],[159,16,166,14,"data"],[159,20,166,18],[159,21,166,19,"size"],[159,25,166,23],[159,28,166,26],[159,29,166,27],[159,33,166,31,"_recording"],[159,43,166,41],[159,45,166,43],[160,8,167,6],[160,14,167,12,"buffer"],[160,20,167,18],[160,23,167,21],[160,29,167,27,"event"],[160,34,167,32],[160,35,167,33,"data"],[160,39,167,37],[160,40,167,38,"arrayBuffer"],[160,51,167,49],[160,52,167,50],[160,53,167,51],[161,8,168,6],[161,14,168,12,"base64"],[161,20,168,18],[161,23,168,21,"_arrayBufferToBase64"],[161,43,168,41],[161,44,168,42,"buffer"],[161,50,168,48],[161,51,168,49],[162,8,169,6,"_seq"],[162,12,169,10],[162,14,169,12],[163,8,170,6,"onChunk"],[163,15,170,13],[163,16,170,14],[164,10,171,8,"data"],[164,14,171,12],[164,16,171,14,"base64"],[164,22,171,20],[165,10,172,8,"seq"],[165,13,172,11],[165,15,172,13,"_seq"],[165,19,172,17],[166,10,173,8,"timestamp"],[166,19,173,17],[166,21,173,19,"Date"],[166,25,173,23],[166,26,173,24,"now"],[166,29,173,27],[166,30,173,28],[166,31,173,29],[167,10,174,8,"durationMs"],[167,20,174,18],[167,22,174,20],[168,8,175,6],[168,9,175,7],[168,10,175,8],[169,6,176,4],[170,4,177,2],[170,5,177,3],[172,4,179,2],[173,4,180,2,"vad"],[173,16,180,5],[173,17,180,5,"vad"],[173,20,180,5],[173,21,180,6,"attachStream"],[173,33,180,18],[173,34,180,19,"stream"],[173,40,180,25],[173,41,180,26],[174,4,181,2,"_vadInterval"],[174,16,181,14],[174,19,181,17,"setInterval"],[174,30,181,28],[174,31,181,29],[174,37,181,35],[175,6,182,4],[175,10,182,8],[175,11,182,9,"_recording"],[175,21,182,19],[175,23,182,21],[176,6,183,4],[176,12,183,10,"event"],[176,17,183,15],[176,20,183,18,"vad"],[176,32,183,21],[176,33,183,21,"vad"],[176,36,183,21],[176,37,183,22,"sampleStream"],[176,49,183,34],[176,50,183,35],[176,51,183,36],[177,6,184,4],[177,10,184,8,"event"],[177,15,184,13],[177,20,184,18],[177,31,184,29],[177,35,184,33,"_onSpeechEnd"],[177,47,184,45],[177,49,184,47],[178,8,185,6,"console"],[178,15,185,13],[178,16,185,14,"log"],[178,19,185,17],[178,20,185,18],[178,62,185,60],[178,63,185,61],[179,8,186,6,"_onSpeechEnd"],[179,20,186,18],[179,21,186,19],[179,22,186,20],[180,6,187,4],[181,4,188,2],[181,5,188,3],[181,7,188,5],[181,10,188,8],[181,11,188,9],[183,4,190,2],[184,4,191,2,"recorder"],[184,12,191,10],[184,13,191,11,"start"],[184,18,191,16],[184,19,191,17],[184,22,191,20],[184,23,191,21],[185,2,192,0],[187,2,194,0],[188,2,195,0],[188,11,195,9,"_startSimulatedRecording"],[188,35,195,33,"_startSimulatedRecording"],[188,36,195,34,"onChunk"],[188,43,195,58],[188,45,195,66],[189,4,196,2,"_chunkInterval"],[189,18,196,16],[189,21,196,19,"setInterval"],[189,32,196,30],[189,33,196,31],[189,39,196,37],[190,6,197,4],[190,10,197,8],[190,11,197,9,"_recording"],[190,21,197,19],[190,23,197,21],[191,6,198,4,"_seq"],[191,10,198,8],[191,12,198,10],[193,6,200,4],[194,6,201,4],[194,12,201,10,"fakeData"],[194,20,201,18],[194,23,201,21],[194,27,201,25,"Uint8Array"],[194,37,201,35],[194,38,201,36],[194,42,201,40],[194,43,201,41],[195,6,202,4],[195,11,202,9],[195,15,202,13,"i"],[195,16,202,14],[195,19,202,17],[195,20,202,18],[195,22,202,20,"i"],[195,23,202,21],[195,26,202,24,"fakeData"],[195,34,202,32],[195,35,202,33,"length"],[195,41,202,39],[195,43,202,41,"i"],[195,44,202,42],[195,46,202,44],[195,48,202,46],[196,8,203,6,"fakeData"],[196,16,203,14],[196,17,203,15,"i"],[196,18,203,16],[196,19,203,17],[196,22,203,20,"Math"],[196,26,203,24],[196,27,203,25,"floor"],[196,32,203,30],[196,33,203,31,"Math"],[196,37,203,35],[196,38,203,36,"random"],[196,44,203,42],[196,45,203,43],[196,46,203,44],[196,49,203,47],[196,52,203,50],[196,53,203,51],[197,6,204,4],[198,6,205,4],[198,12,205,10,"base64"],[198,18,205,16],[198,21,205,19,"_uint8ToBase64"],[198,35,205,33],[198,36,205,34,"fakeData"],[198,44,205,42],[198,45,205,43],[199,6,207,4,"onChunk"],[199,13,207,11],[199,14,207,12],[200,8,208,6,"data"],[200,12,208,10],[200,14,208,12,"base64"],[200,20,208,18],[201,8,209,6,"seq"],[201,11,209,9],[201,13,209,11,"_seq"],[201,17,209,15],[202,8,210,6,"timestamp"],[202,17,210,15],[202,19,210,17,"Date"],[202,23,210,21],[202,24,210,22,"now"],[202,27,210,25],[202,28,210,26],[202,29,210,27],[203,8,211,6,"durationMs"],[203,18,211,16],[203,20,211,18],[204,6,212,4],[204,7,212,5],[204,8,212,6],[205,4,213,2],[205,5,213,3],[205,7,213,5],[205,10,213,8],[205,11,213,9],[206,2,214,0],[208,2,216,0],[209,2,217,0],[209,11,217,9,"_arrayBufferToBase64"],[209,31,217,29,"_arrayBufferToBase64"],[209,32,217,30,"buffer"],[209,38,217,49],[209,40,217,59],[210,4,218,2],[210,8,218,6,"binary"],[210,14,218,12],[210,17,218,15],[210,19,218,17],[211,4,219,2],[211,10,219,8,"bytes"],[211,15,219,13],[211,18,219,16],[211,22,219,20,"Uint8Array"],[211,32,219,30],[211,33,219,31,"buffer"],[211,39,219,37],[211,40,219,38],[212,4,220,2],[212,9,220,7],[212,13,220,11,"i"],[212,14,220,12],[212,17,220,15],[212,18,220,16],[212,20,220,18,"i"],[212,21,220,19],[212,24,220,22,"bytes"],[212,29,220,27],[212,30,220,28,"byteLength"],[212,40,220,38],[212,42,220,40,"i"],[212,43,220,41],[212,45,220,43],[212,47,220,45],[213,6,221,4,"binary"],[213,12,221,10],[213,16,221,14,"String"],[213,22,221,20],[213,23,221,21,"fromCharCode"],[213,35,221,33],[213,36,221,34,"bytes"],[213,41,221,39],[213,42,221,40,"i"],[213,43,221,41],[213,44,221,42],[213,45,221,43],[214,4,222,2],[215,4,223,2],[215,11,223,9,"btoa"],[215,15,223,13],[215,16,223,14,"binary"],[215,22,223,20],[215,23,223,21],[216,2,224,0],[217,2,226,0],[217,11,226,9,"_uint8ToBase64"],[217,25,226,23,"_uint8ToBase64"],[217,26,226,24,"data"],[217,30,226,40],[217,32,226,50],[218,4,227,2],[218,8,227,6,"binary"],[218,14,227,12],[218,17,227,15],[218,19,227,17],[219,4,228,2],[219,9,228,7],[219,13,228,11,"i"],[219,14,228,12],[219,17,228,15],[219,18,228,16],[219,20,228,18,"i"],[219,21,228,19],[219,24,228,22,"data"],[219,28,228,26],[219,29,228,27,"length"],[219,35,228,33],[219,37,228,35,"i"],[219,38,228,36],[219,40,228,38],[219,42,228,40],[220,6,229,4,"binary"],[220,12,229,10],[220,16,229,14,"String"],[220,22,229,20],[220,23,229,21,"fromCharCode"],[220,35,229,33],[220,36,229,34,"data"],[220,40,229,38],[220,41,229,39,"i"],[220,42,229,40],[220,43,229,41],[220,44,229,42],[221,4,230,2],[222,4,231,2],[222,11,231,9,"btoa"],[222,15,231,13],[222,16,231,14,"binary"],[222,22,231,20],[222,23,231,21],[223,2,232,0],[224,0,232,1],[224,3]],"functionMap":{"names":["<global>","startRecording","recording.setOnRecordingStatusUpdate$argument_0","stopRecording","_webStream.getTracks.forEach$argument_0","isRecording","_startWebRecording","ondataavailable","setInterval$argument_0","_startSimulatedRecording","_arrayBufferToBase64","_uint8ToBase64"],"mappings":"AAA;OCiC;2CC8C;ODW;CDY;OGK;mCCkB,aD;CHoB;OKE;CLE;AMM;6BCS;GDY;6BEI;GFO;CNI;ASG;+BDC;GCiB;CTC;AUG;CVO;AWE;CXM"},"hasCjsExports":false},"type":"js/module"}]}