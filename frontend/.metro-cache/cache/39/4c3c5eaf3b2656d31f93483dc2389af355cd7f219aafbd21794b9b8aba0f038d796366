{"dependencies":[{"name":"../utils/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":150},"end":{"line":6,"column":64,"index":214}}],"key":"rswhtWQFlk40P6/ZSXiz3NZSC0I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getOrCreateDeviceId = getOrCreateDeviceId;\n  exports.getStoredToken = getStoredToken;\n  exports.getStoredUserId = getStoredUserId;\n  exports.clearAuth = clearAuth;\n  var _utilsStorage = require(_dependencyMap[0], \"../utils/storage\");\n  /**\n   * WebSocket auth â€” handles token management.\n   * Uses cross-platform storage wrapper.\n   * Pairing is handled via ObeGee directly in login.tsx.\n   */\n\n  const TOKEN_KEY = 'myndlens_auth_token';\n  const USER_ID_KEY = 'myndlens_user_id';\n  const DEVICE_ID_KEY = 'myndlens_device_id';\n  function generateDeviceId() {\n    return 'dev_' + Math.random().toString(36).substring(2, 15) + Date.now().toString(36);\n  }\n  async function getOrCreateDeviceId() {\n    let deviceId = await (0, _utilsStorage.getItem)(DEVICE_ID_KEY);\n    if (!deviceId) {\n      deviceId = generateDeviceId();\n      await (0, _utilsStorage.setItem)(DEVICE_ID_KEY, deviceId);\n    }\n    return deviceId;\n  }\n  async function getStoredToken() {\n    return (0, _utilsStorage.getItem)(TOKEN_KEY);\n  }\n  async function getStoredUserId() {\n    return (0, _utilsStorage.getItem)(USER_ID_KEY);\n  }\n  async function clearAuth() {\n    await (0, _utilsStorage.deleteItem)(TOKEN_KEY);\n    await (0, _utilsStorage.deleteItem)(USER_ID_KEY);\n  }\n});","lineCount":42,"map":[[7,2,16,0,"exports"],[7,9,16,0],[7,10,16,0,"getOrCreateDeviceId"],[7,29,16,0],[7,32,16,0,"getOrCreateDeviceId"],[7,51,16,0],[8,2,25,0,"exports"],[8,9,25,0],[8,10,25,0,"getStoredToken"],[8,24,25,0],[8,27,25,0,"getStoredToken"],[8,41,25,0],[9,2,29,0,"exports"],[9,9,29,0],[9,10,29,0,"getStoredUserId"],[9,25,29,0],[9,28,29,0,"getStoredUserId"],[9,43,29,0],[10,2,33,0,"exports"],[10,9,33,0],[10,10,33,0,"clearAuth"],[10,19,33,0],[10,22,33,0,"clearAuth"],[10,31,33,0],[11,2,6,0],[11,6,6,0,"_utilsStorage"],[11,19,6,0],[11,22,6,0,"require"],[11,29,6,0],[11,30,6,0,"_dependencyMap"],[11,44,6,0],[12,2,1,0],[13,0,2,0],[14,0,3,0],[15,0,4,0],[16,0,5,0],[18,2,8,0],[18,8,8,6,"TOKEN_KEY"],[18,17,8,15],[18,20,8,18],[18,41,8,39],[19,2,9,0],[19,8,9,6,"USER_ID_KEY"],[19,19,9,17],[19,22,9,20],[19,40,9,38],[20,2,10,0],[20,8,10,6,"DEVICE_ID_KEY"],[20,21,10,19],[20,24,10,22],[20,44,10,42],[21,2,12,0],[21,11,12,9,"generateDeviceId"],[21,27,12,25,"generateDeviceId"],[21,28,12,25],[21,30,12,36],[22,4,13,2],[22,11,13,9],[22,17,13,15],[22,20,13,18,"Math"],[22,24,13,22],[22,25,13,23,"random"],[22,31,13,29],[22,32,13,30],[22,33,13,31],[22,34,13,32,"toString"],[22,42,13,40],[22,43,13,41],[22,45,13,43],[22,46,13,44],[22,47,13,45,"substring"],[22,56,13,54],[22,57,13,55],[22,58,13,56],[22,60,13,58],[22,62,13,60],[22,63,13,61],[22,66,13,64,"Date"],[22,70,13,68],[22,71,13,69,"now"],[22,74,13,72],[22,75,13,73],[22,76,13,74],[22,77,13,75,"toString"],[22,85,13,83],[22,86,13,84],[22,88,13,86],[22,89,13,87],[23,2,14,0],[24,2,16,7],[24,17,16,22,"getOrCreateDeviceId"],[24,36,16,41,"getOrCreateDeviceId"],[24,37,16,41],[24,39,16,61],[25,4,17,2],[25,8,17,6,"deviceId"],[25,16,17,14],[25,19,17,17],[25,25,17,23],[25,29,17,23,"getItem"],[25,42,17,30],[25,43,17,30,"getItem"],[25,50,17,30],[25,52,17,31,"DEVICE_ID_KEY"],[25,65,17,44],[25,66,17,45],[26,4,18,2],[26,8,18,6],[26,9,18,7,"deviceId"],[26,17,18,15],[26,19,18,17],[27,6,19,4,"deviceId"],[27,14,19,12],[27,17,19,15,"generateDeviceId"],[27,33,19,31],[27,34,19,32],[27,35,19,33],[28,6,20,4],[28,12,20,10],[28,16,20,10,"setItem"],[28,29,20,17],[28,30,20,17,"setItem"],[28,37,20,17],[28,39,20,18,"DEVICE_ID_KEY"],[28,52,20,31],[28,54,20,33,"deviceId"],[28,62,20,41],[28,63,20,42],[29,4,21,2],[30,4,22,2],[30,11,22,9,"deviceId"],[30,19,22,17],[31,2,23,0],[32,2,25,7],[32,17,25,22,"getStoredToken"],[32,31,25,36,"getStoredToken"],[32,32,25,36],[32,34,25,63],[33,4,26,2],[33,11,26,9],[33,15,26,9,"getItem"],[33,28,26,16],[33,29,26,16,"getItem"],[33,36,26,16],[33,38,26,17,"TOKEN_KEY"],[33,47,26,26],[33,48,26,27],[34,2,27,0],[35,2,29,7],[35,17,29,22,"getStoredUserId"],[35,32,29,37,"getStoredUserId"],[35,33,29,37],[35,35,29,64],[36,4,30,2],[36,11,30,9],[36,15,30,9,"getItem"],[36,28,30,16],[36,29,30,16,"getItem"],[36,36,30,16],[36,38,30,17,"USER_ID_KEY"],[36,49,30,28],[36,50,30,29],[37,2,31,0],[38,2,33,7],[38,17,33,22,"clearAuth"],[38,26,33,31,"clearAuth"],[38,27,33,31],[38,29,33,49],[39,4,34,2],[39,10,34,8],[39,14,34,8,"deleteItem"],[39,27,34,18],[39,28,34,18,"deleteItem"],[39,38,34,18],[39,40,34,19,"TOKEN_KEY"],[39,49,34,28],[39,50,34,29],[40,4,35,2],[40,10,35,8],[40,14,35,8,"deleteItem"],[40,27,35,18],[40,28,35,18,"deleteItem"],[40,38,35,18],[40,40,35,19,"USER_ID_KEY"],[40,51,35,30],[40,52,35,31],[41,2,36,0],[42,0,36,1],[42,3]],"functionMap":{"names":["<global>","generateDeviceId","getOrCreateDeviceId","getStoredToken","getStoredUserId","clearAuth"],"mappings":"AAA;ACW;CDE;OEE;CFO;OGE;CHE;OIE;CJE;OKE;CLG"},"hasCjsExports":false},"type":"js/module"}]}