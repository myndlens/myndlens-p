{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-speech","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":45,"column":21,"index":960},"end":{"line":45,"column":43,"index":982}},{"start":{"line":100,"column":19,"index":2176},"end":{"line":100,"column":41,"index":2198}}],"key":"LDPUbC/85yT4sQ+Lbzn6/fUlPKc=","exportNames":["*"],"imports":2,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.speak = speak;\n  exports.stop = stop;\n  exports.isSpeaking = isSpeaking;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  /**\n   * TTS Player â€” text-to-speech playback with interruption.\n   *\n   * Uses expo-speech on native, Web Speech API on web.\n   * Supports interruption: calling stop() cancels current speech.\n   */\n\n  let _isSpeaking = false;\n\n  /**\n   * Speak text using TTS. Calls onComplete when finished.\n   */\n  async function speak(text, options) {\n    // Interrupt any current speech\n    await stop();\n    if (Platform.default.OS === 'web') {\n      _speakWeb(text, options);\n    } else {\n      _speakNative(text, options);\n    }\n  }\n\n  /**\n   * Stop current speech immediately.\n   */\n  async function stop() {\n    _isSpeaking = false;\n    if (Platform.default.OS === 'web') {\n      if (false && window.speechSynthesis) {\n        window.speechSynthesis.cancel();\n      }\n    } else {\n      try {\n        const Speech = require(_dependencyMap[1], \"expo-speech\");\n        await Speech.stop();\n      } catch {\n        // ignore\n      }\n    }\n  }\n\n  /**\n   * Check if currently speaking.\n   */\n  function isSpeaking() {\n    return _isSpeaking;\n  }\n\n  // ---- Web Speech API ----\n  function _speakWeb(text, options) {\n    if (true || !window.speechSynthesis) {\n      console.warn('[TTS] Web Speech API not available');\n      options?.onComplete?.();\n      return;\n    }\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.rate = options?.rate || 1.0;\n    utterance.pitch = options?.pitch || 1.0;\n    utterance.lang = 'en-US';\n    utterance.onstart = () => {\n      _isSpeaking = true;\n      options?.onStart?.();\n    };\n    utterance.onend = () => {\n      _isSpeaking = false;\n      options?.onComplete?.();\n    };\n    utterance.onerror = () => {\n      _isSpeaking = false;\n      options?.onComplete?.();\n    };\n    window.speechSynthesis.speak(utterance);\n  }\n\n  // ---- Native (expo-speech) ----\n  function _speakNative(text, options) {\n    try {\n      const Speech = require(_dependencyMap[1], \"expo-speech\");\n      _isSpeaking = true;\n      options?.onStart?.();\n      Speech.speak(text, {\n        rate: options?.rate || 1.0,\n        pitch: options?.pitch || 1.0,\n        language: 'en-US',\n        onDone: () => {\n          _isSpeaking = false;\n          options?.onComplete?.();\n        },\n        onError: () => {\n          _isSpeaking = false;\n          options?.onComplete?.();\n        }\n      });\n    } catch (e) {\n      console.error('[TTS] Native speech failed:', e);\n      _isSpeaking = false;\n      options?.onComplete?.();\n    }\n  }\n});","lineCount":116,"map":[[12,2,14,0,"exports"],[12,9,14,0],[12,10,14,0,"speak"],[12,15,14,0],[12,18,14,0,"speak"],[12,23,14,0],[13,2,36,0,"exports"],[13,9,36,0],[13,10,36,0,"stop"],[13,14,36,0],[13,17,36,0,"stop"],[13,21,36,0],[14,2,56,0,"exports"],[14,9,56,0],[14,10,56,0,"isSpeaking"],[14,20,56,0],[14,23,56,0,"isSpeaking"],[14,33,56,0],[15,2,58,1],[15,6,58,1,"_reactNativeWebDistExportsPlatform"],[15,40,58,1],[15,43,58,1,"require"],[15,50,58,1],[15,51,58,1,"_dependencyMap"],[15,65,58,1],[16,2,58,1],[16,6,58,1,"Platform"],[16,14,58,1],[16,17,58,1,"_interopDefault"],[16,32,58,1],[16,33,58,1,"_reactNativeWebDistExportsPlatform"],[16,67,58,1],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[24,2,9,0],[24,6,9,4,"_isSpeaking"],[24,17,9,15],[24,20,9,18],[24,25,9,23],[26,2,11,0],[27,0,12,0],[28,0,13,0],[29,2,14,7],[29,17,14,22,"speak"],[29,22,14,27,"speak"],[29,23,15,2,"text"],[29,27,15,14],[29,29,16,2,"options"],[29,36,21,3],[29,38,22,17],[30,4,23,2],[31,4,24,2],[31,10,24,8,"stop"],[31,14,24,12],[31,15,24,13],[31,16,24,14],[32,4,26,2],[32,8,26,6,"Platform"],[32,16,26,14],[32,17,26,14,"default"],[32,24,26,14],[32,25,26,15,"OS"],[32,27,26,17],[32,32,26,22],[32,37,26,27],[32,39,26,29],[33,6,27,4,"_speakWeb"],[33,15,27,13],[33,16,27,14,"text"],[33,20,27,18],[33,22,27,20,"options"],[33,29,27,27],[33,30,27,28],[34,4,28,2],[34,5,28,3],[34,11,28,9],[35,6,29,4,"_speakNative"],[35,18,29,16],[35,19,29,17,"text"],[35,23,29,21],[35,25,29,23,"options"],[35,32,29,30],[35,33,29,31],[36,4,30,2],[37,2,31,0],[39,2,33,0],[40,0,34,0],[41,0,35,0],[42,2,36,7],[42,17,36,22,"stop"],[42,21,36,26,"stop"],[42,22,36,26],[42,24,36,44],[43,4,37,2,"_isSpeaking"],[43,15,37,13],[43,18,37,16],[43,23,37,21],[44,4,39,2],[44,8,39,6,"Platform"],[44,16,39,14],[44,17,39,14,"default"],[44,24,39,14],[44,25,39,15,"OS"],[44,27,39,17],[44,32,39,22],[44,37,39,27],[44,39,39,29],[45,6,40,4],[45,10,40,8],[45,19,40,41,"window"],[45,25,40,47],[45,26,40,48,"speechSynthesis"],[45,41,40,63],[45,43,40,65],[46,8,41,6,"window"],[46,14,41,12],[46,15,41,13,"speechSynthesis"],[46,30,41,28],[46,31,41,29,"cancel"],[46,37,41,35],[46,38,41,36],[46,39,41,37],[47,6,42,4],[48,4,43,2],[48,5,43,3],[48,11,43,9],[49,6,44,4],[49,10,44,8],[50,8,45,6],[50,14,45,12,"Speech"],[50,20,45,18],[50,23,45,21,"require"],[50,30,45,28],[50,31,45,28,"_dependencyMap"],[50,45,45,28],[50,63,45,42],[50,64,45,43],[51,8,46,6],[51,14,46,12,"Speech"],[51,20,46,18],[51,21,46,19,"stop"],[51,25,46,23],[51,26,46,24],[51,27,46,25],[52,6,47,4],[52,7,47,5],[52,8,47,6],[52,14,47,12],[53,8,48,6],[54,6,48,6],[55,4,50,2],[56,2,51,0],[58,2,53,0],[59,0,54,0],[60,0,55,0],[61,2,56,7],[61,11,56,16,"isSpeaking"],[61,21,56,26,"isSpeaking"],[61,22,56,26],[61,24,56,38],[62,4,57,2],[62,11,57,9,"_isSpeaking"],[62,22,57,20],[63,2,58,0],[65,2,60,0],[66,2,61,0],[66,11,61,9,"_speakWeb"],[66,20,61,18,"_speakWeb"],[66,21,62,2,"text"],[66,25,62,14],[66,27,63,2,"options"],[66,34,63,92],[66,36,64,8],[67,4,65,2],[67,8,65,6],[67,16,65,39],[67,17,65,40,"window"],[67,23,65,46],[67,24,65,47,"speechSynthesis"],[67,39,65,62],[67,41,65,64],[68,6,66,4,"console"],[68,13,66,11],[68,14,66,12,"warn"],[68,18,66,16],[68,19,66,17],[68,55,66,53],[68,56,66,54],[69,6,67,4,"options"],[69,13,67,11],[69,15,67,13,"onComplete"],[69,25,67,23],[69,28,67,26],[69,29,67,27],[70,6,68,4],[71,4,69,2],[72,4,71,2],[72,10,71,8,"utterance"],[72,19,71,17],[72,22,71,20],[72,26,71,24,"SpeechSynthesisUtterance"],[72,50,71,48],[72,51,71,49,"text"],[72,55,71,53],[72,56,71,54],[73,4,72,2,"utterance"],[73,13,72,11],[73,14,72,12,"rate"],[73,18,72,16],[73,21,72,19,"options"],[73,28,72,26],[73,30,72,28,"rate"],[73,34,72,32],[73,38,72,36],[73,41,72,39],[74,4,73,2,"utterance"],[74,13,73,11],[74,14,73,12,"pitch"],[74,19,73,17],[74,22,73,20,"options"],[74,29,73,27],[74,31,73,29,"pitch"],[74,36,73,34],[74,40,73,38],[74,43,73,41],[75,4,74,2,"utterance"],[75,13,74,11],[75,14,74,12,"lang"],[75,18,74,16],[75,21,74,19],[75,28,74,26],[76,4,76,2,"utterance"],[76,13,76,11],[76,14,76,12,"onstart"],[76,21,76,19],[76,24,76,22],[76,30,76,28],[77,6,77,4,"_isSpeaking"],[77,17,77,15],[77,20,77,18],[77,24,77,22],[78,6,78,4,"options"],[78,13,78,11],[78,15,78,13,"onStart"],[78,22,78,20],[78,25,78,23],[78,26,78,24],[79,4,79,2],[79,5,79,3],[80,4,81,2,"utterance"],[80,13,81,11],[80,14,81,12,"onend"],[80,19,81,17],[80,22,81,20],[80,28,81,26],[81,6,82,4,"_isSpeaking"],[81,17,82,15],[81,20,82,18],[81,25,82,23],[82,6,83,4,"options"],[82,13,83,11],[82,15,83,13,"onComplete"],[82,25,83,23],[82,28,83,26],[82,29,83,27],[83,4,84,2],[83,5,84,3],[84,4,86,2,"utterance"],[84,13,86,11],[84,14,86,12,"onerror"],[84,21,86,19],[84,24,86,22],[84,30,86,28],[85,6,87,4,"_isSpeaking"],[85,17,87,15],[85,20,87,18],[85,25,87,23],[86,6,88,4,"options"],[86,13,88,11],[86,15,88,13,"onComplete"],[86,25,88,23],[86,28,88,26],[86,29,88,27],[87,4,89,2],[87,5,89,3],[88,4,91,2,"window"],[88,10,91,8],[88,11,91,9,"speechSynthesis"],[88,26,91,24],[88,27,91,25,"speak"],[88,32,91,30],[88,33,91,31,"utterance"],[88,42,91,40],[88,43,91,41],[89,2,92,0],[91,2,94,0],[92,2,95,0],[92,11,95,9,"_speakNative"],[92,23,95,21,"_speakNative"],[92,24,96,2,"text"],[92,28,96,14],[92,30,97,2,"options"],[92,37,97,92],[92,39,98,8],[93,4,99,2],[93,8,99,6],[94,6,100,4],[94,12,100,10,"Speech"],[94,18,100,16],[94,21,100,19,"require"],[94,28,100,26],[94,29,100,26,"_dependencyMap"],[94,43,100,26],[94,61,100,40],[94,62,100,41],[95,6,101,4,"_isSpeaking"],[95,17,101,15],[95,20,101,18],[95,24,101,22],[96,6,102,4,"options"],[96,13,102,11],[96,15,102,13,"onStart"],[96,22,102,20],[96,25,102,23],[96,26,102,24],[97,6,104,4,"Speech"],[97,12,104,10],[97,13,104,11,"speak"],[97,18,104,16],[97,19,104,17,"text"],[97,23,104,21],[97,25,104,23],[98,8,105,6,"rate"],[98,12,105,10],[98,14,105,12,"options"],[98,21,105,19],[98,23,105,21,"rate"],[98,27,105,25],[98,31,105,29],[98,34,105,32],[99,8,106,6,"pitch"],[99,13,106,11],[99,15,106,13,"options"],[99,22,106,20],[99,24,106,22,"pitch"],[99,29,106,27],[99,33,106,31],[99,36,106,34],[100,8,107,6,"language"],[100,16,107,14],[100,18,107,16],[100,25,107,23],[101,8,108,6,"onDone"],[101,14,108,12],[101,16,108,14,"onDone"],[101,17,108,14],[101,22,108,20],[102,10,109,8,"_isSpeaking"],[102,21,109,19],[102,24,109,22],[102,29,109,27],[103,10,110,8,"options"],[103,17,110,15],[103,19,110,17,"onComplete"],[103,29,110,27],[103,32,110,30],[103,33,110,31],[104,8,111,6],[104,9,111,7],[105,8,112,6,"onError"],[105,15,112,13],[105,17,112,15,"onError"],[105,18,112,15],[105,23,112,21],[106,10,113,8,"_isSpeaking"],[106,21,113,19],[106,24,113,22],[106,29,113,27],[107,10,114,8,"options"],[107,17,114,15],[107,19,114,17,"onComplete"],[107,29,114,27],[107,32,114,30],[107,33,114,31],[108,8,115,6],[109,6,116,4],[109,7,116,5],[109,8,116,6],[110,4,117,2],[110,5,117,3],[110,6,117,4],[110,13,117,11,"e"],[110,14,117,12],[110,16,117,14],[111,6,118,4,"console"],[111,13,118,11],[111,14,118,12,"error"],[111,19,118,17],[111,20,118,18],[111,49,118,47],[111,51,118,49,"e"],[111,52,118,50],[111,53,118,51],[112,6,119,4,"_isSpeaking"],[112,17,119,15],[112,20,119,18],[112,25,119,23],[113,6,120,4,"options"],[113,13,120,11],[113,15,120,13,"onComplete"],[113,25,120,23],[113,28,120,26],[113,29,120,27],[114,4,121,2],[115,2,122,0],[116,0,122,1],[116,3]],"functionMap":{"names":["<global>","speak","stop","isSpeaking","_speakWeb","utterance.onstart","utterance.onend","utterance.onerror","_speakNative","Speech.speak$argument_1.onDone","Speech.speak$argument_1.onError"],"mappings":"AAA;OCa;CDiB;OEK;CFe;OGK;CHE;AIG;sBCe;GDG;oBEE;GFG;sBGE;GHG;CJG;AQG;cCa;ODG;eEC;OFG;CRO"},"hasCjsExports":false},"type":"js/module"}]}