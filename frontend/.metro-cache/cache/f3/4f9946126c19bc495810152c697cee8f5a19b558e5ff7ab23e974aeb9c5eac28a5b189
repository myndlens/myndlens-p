{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./vad/local-vad","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":477},"end":{"line":12,"column":38,"index":515}}],"key":"+a18EXtkk+xbuwN1/2+ufd1GJ4A=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":61,"column":24,"index":1898},"end":{"line":61,"column":42,"index":1916}}],"key":"Zo2OD1UlwSKfA7XPavzmMQoVCN4=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":166,"column":25,"index":5172},"end":{"line":166,"column":52,"index":5199}}],"key":"uB2MW2OTLfs93DXcpjSoofLkQYE=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.startRecording = startRecording;\n  exports.stopAndGetAudio = stopAndGetAudio;\n  exports.stopRecording = stopRecording;\n  exports.isRecording = isRecording;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _vadLocalVad = require(_dependencyMap[1], \"./vad/local-vad\");\n  /**\n   * Audio Recorder — cross-platform audio capture with VAD auto-stop.\n   *\n   * Native: expo-av records to a local file. VAD drives auto-stop via metering.\n   * On stop, the file is read as base64 and returned for a single WS upload.\n   * Web: MediaRecorder streams real chunks.\n   *\n   * FIX: Removed _startSimulatedRecording from native path. Real audio is now\n   * captured by expo-av, read after stop, and sent as one chunk to the server.\n   */\n\n  let _recording = false;\n  let _seq = 0;\n  let _chunkInterval = null;\n  let _vadInterval = null;\n  let _onSpeechEnd = null;\n\n  // Native expo-av Recording instance\n  let _expoRecording = null;\n\n  /**\n   * Start audio recording.\n   * Native: starts expo-av recording + VAD via metering. No chunks emitted.\n   *   Call stopAndGetAudio() when done to retrieve the recorded audio as base64.\n   * Web: streams real MediaRecorder chunks via onChunk callback.\n   *\n   * onSpeechEnd is called when VAD detects end-of-utterance (Siri-like auto-stop).\n   */\n  async function startRecording(onChunk, onSpeechEnd) {\n    if (_recording) return;\n    _recording = true;\n    _seq = 0;\n    _onSpeechEnd = onSpeechEnd || null;\n    _vadLocalVad.vad.reset();\n    if (Platform.default.OS === 'web') {\n      try {\n        await _startWebRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Web recording not available:', err);\n      }\n    } else {\n      // Native: Use expo-av for real audio capture + VAD via metering.\n      // No simulated chunks. Audio is read from the file on stop.\n      try {\n        const {\n          Audio\n        } = require(_dependencyMap[2], \"expo-av\");\n        const {\n          granted\n        } = await Audio.requestPermissionsAsync();\n        if (!granted) {\n          console.warn('[Recorder] Microphone permission denied');\n          _recording = false;\n          return;\n        }\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true\n        });\n        const recording = new Audio.Recording();\n        // 32kbps mono 16kHz — ideal for STT, keeps file small (<40KB for 10s)\n        await recording.prepareToRecordAsync({\n          android: {\n            extension: '.m4a',\n            outputFormat: 2,\n            // MPEG_4\n            audioEncoder: 3,\n            // AAC\n            sampleRate: 16000,\n            numberOfChannels: 1,\n            bitRate: 32000\n          },\n          ios: {\n            extension: '.m4a',\n            audioQuality: 32,\n            // medium\n            sampleRate: 16000,\n            numberOfChannels: 1,\n            bitRate: 32000,\n            linearPCMBitDepth: 16,\n            linearPCMIsBigEndian: false,\n            linearPCMIsFloat: false\n          },\n          isMeteringEnabled: true\n        });\n\n        // Drive VAD from expo-av metering (100ms updates).\n        // Defer _onSpeechEnd via setTimeout to exit the status-update callback cleanly.\n        recording.setProgressUpdateInterval(100);\n        recording.setOnRecordingStatusUpdate(status => {\n          if (!_recording) return;\n          if (status.metering !== undefined) {\n            const rms = Math.pow(10, status.metering / 20);\n            const event = _vadLocalVad.vad.processEnergy(rms);\n            if (event === 'speechEnd' && _onSpeechEnd) {\n              console.log('[Recorder] VAD: speechEnd detected (native)');\n              const cb = _onSpeechEnd;\n              _onSpeechEnd = null; // prevent double-fire\n              setTimeout(() => cb(), 0);\n            }\n          }\n        });\n        await recording.startAsync();\n        _expoRecording = recording;\n        console.log('[Recorder] Native recording started');\n      } catch (err) {\n        console.warn('[Recorder] Native recording failed:', err?.message || err);\n        _recording = false;\n      }\n    }\n  }\n\n  /**\n   * Stop recording, read the captured audio file, and return it as base64.\n   * This is the primary stop method for voice mandates.\n   *\n   * Returns base64 string of the audio file, or null on failure / web.\n   * For web, returns null (web already streamed chunks via onChunk).\n   */\n  async function stopAndGetAudio() {\n    _recording = false;\n    _onSpeechEnd = null;\n\n    // Clear web intervals\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n\n    // Web cleanup\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') _webRecorder.stop();\n      _webRecorder = null;\n    }\n\n    // Native: stop recording and read the file\n    if (_expoRecording) {\n      try {\n        const uri = _expoRecording.getURI(); // get URI before unloading\n        await _expoRecording.stopAndUnloadAsync();\n        _expoRecording = null;\n        if (!uri) {\n          console.warn('[Recorder] No recording URI available');\n          return null;\n        }\n        const FileSystem = require(_dependencyMap[3], \"expo-file-system\");\n        const base64 = await FileSystem.readAsStringAsync(uri, {\n          encoding: FileSystem.EncodingType.Base64\n        });\n\n        // Clean up the temp file\n        FileSystem.deleteAsync(uri, {\n          idempotent: true\n        }).catch(() => {});\n        console.log(`[Recorder] Audio read: ${Math.round(base64.length * 0.75 / 1024)}KB`);\n        return base64;\n      } catch (err) {\n        console.warn('[Recorder] stopAndGetAudio failed:', err);\n        _expoRecording = null;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Stop recording without reading the audio (for kill-switch / error paths).\n   */\n  async function stopRecording() {\n    _recording = false;\n    _onSpeechEnd = null;\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') _webRecorder.stop();\n      _webRecorder = null;\n    }\n    if (_expoRecording) {\n      try {\n        await _expoRecording.stopAndUnloadAsync();\n      } catch {/* ignore */}\n      _expoRecording = null;\n    }\n  }\n  function isRecording() {\n    return _recording;\n  }\n\n  // ---- Web MediaRecorder ----\n  let _webStream = null;\n  let _webRecorder = null;\n  async function _startWebRecording(onChunk) {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    _webStream = stream;\n    const recorder = new MediaRecorder(stream, {\n      mimeType: 'audio/webm;codecs=opus'\n    });\n    _webRecorder = recorder;\n    recorder.ondataavailable = async event => {\n      if (event.data.size > 0 && _recording) {\n        const buffer = await event.data.arrayBuffer();\n        const base64 = _arrayBufferToBase64(buffer);\n        _seq++;\n        onChunk({\n          data: base64,\n          seq: _seq,\n          timestamp: Date.now(),\n          durationMs: 250\n        });\n      }\n    };\n\n    // Attach VAD to live stream for web auto-stop\n    _vadLocalVad.vad.attachStream(stream);\n    _vadInterval = setInterval(() => {\n      if (!_recording) return;\n      const event = _vadLocalVad.vad.sampleStream();\n      if (event === 'speechEnd' && _onSpeechEnd) {\n        console.log('[Recorder] VAD: speechEnd detected (web)');\n        const cb = _onSpeechEnd;\n        _onSpeechEnd = null;\n        setTimeout(() => cb(), 0);\n      }\n    }, 100);\n    recorder.start(250);\n  }\n\n  // ---- Utils ----\n  function _arrayBufferToBase64(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n  }\n});","lineCount":278,"map":[[12,2,40,0,"exports"],[12,9,40,0],[12,10,40,0,"startRecording"],[12,24,40,0],[12,27,40,0,"startRecording"],[12,41,40,0],[13,2,133,0,"exports"],[13,9,133,0],[13,10,133,0,"stopAndGetAudio"],[13,25,133,0],[13,28,133,0,"stopAndGetAudio"],[13,43,133,0],[14,2,188,0,"exports"],[14,9,188,0],[14,10,188,0,"stopRecording"],[14,23,188,0],[14,26,188,0,"stopRecording"],[14,39,188,0],[15,2,212,0,"exports"],[15,9,212,0],[15,10,212,0,"isRecording"],[15,21,212,0],[15,24,212,0,"isRecording"],[15,35,212,0],[16,2,214,1],[16,6,214,1,"_reactNativeWebDistExportsPlatform"],[16,40,214,1],[16,43,214,1,"require"],[16,50,214,1],[16,51,214,1,"_dependencyMap"],[16,65,214,1],[17,2,214,1],[17,6,214,1,"Platform"],[17,14,214,1],[17,17,214,1,"_interopDefault"],[17,32,214,1],[17,33,214,1,"_reactNativeWebDistExportsPlatform"],[17,67,214,1],[18,2,12,0],[18,6,12,0,"_vadLocalVad"],[18,18,12,0],[18,21,12,0,"require"],[18,28,12,0],[18,29,12,0,"_dependencyMap"],[18,43,12,0],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[30,2,23,0],[30,6,23,4,"_recording"],[30,16,23,14],[30,19,23,17],[30,24,23,22],[31,2,24,0],[31,6,24,4,"_seq"],[31,10,24,8],[31,13,24,11],[31,14,24,12],[32,2,25,0],[32,6,25,4,"_chunkInterval"],[32,20,25,57],[32,23,25,60],[32,27,25,64],[33,2,26,0],[33,6,26,4,"_vadInterval"],[33,18,26,55],[33,21,26,58],[33,25,26,62],[34,2,27,0],[34,6,27,4,"_onSpeechEnd"],[34,18,27,37],[34,21,27,40],[34,25,27,44],[36,2,29,0],[37,2,30,0],[37,6,30,4,"_expoRecording"],[37,20,30,23],[37,23,30,26],[37,27,30,30],[39,2,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,2,40,7],[47,17,40,22,"startRecording"],[47,31,40,36,"startRecording"],[47,32,41,2,"onChunk"],[47,39,41,26],[47,41,42,2,"onSpeechEnd"],[47,52,42,26],[47,54,43,17],[48,4,44,2],[48,8,44,6,"_recording"],[48,18,44,16],[48,20,44,18],[49,4,46,2,"_recording"],[49,14,46,12],[49,17,46,15],[49,21,46,19],[50,4,47,2,"_seq"],[50,8,47,6],[50,11,47,9],[50,12,47,10],[51,4,48,2,"_onSpeechEnd"],[51,16,48,14],[51,19,48,17,"onSpeechEnd"],[51,30,48,28],[51,34,48,32],[51,38,48,36],[52,4,49,2,"vad"],[52,16,49,5],[52,17,49,5,"vad"],[52,20,49,5],[52,21,49,6,"reset"],[52,26,49,11],[52,27,49,12],[52,28,49,13],[53,4,51,2],[53,8,51,6,"Platform"],[53,16,51,14],[53,17,51,14,"default"],[53,24,51,14],[53,25,51,15,"OS"],[53,27,51,17],[53,32,51,22],[53,37,51,27],[53,39,51,29],[54,6,52,4],[54,10,52,8],[55,8,53,6],[55,14,53,12,"_startWebRecording"],[55,32,53,30],[55,33,53,31,"onChunk"],[55,40,53,38],[55,41,53,39],[56,6,54,4],[56,7,54,5],[56,8,54,6],[56,15,54,13,"err"],[56,18,54,16],[56,20,54,18],[57,8,55,6,"console"],[57,15,55,13],[57,16,55,14,"warn"],[57,20,55,18],[57,21,55,19],[57,62,55,60],[57,64,55,62,"err"],[57,67,55,65],[57,68,55,66],[58,6,56,4],[59,4,57,2],[59,5,57,3],[59,11,57,9],[60,6,58,4],[61,6,59,4],[62,6,60,4],[62,10,60,8],[63,8,61,6],[63,14,61,12],[64,10,61,14,"Audio"],[65,8,61,20],[65,9,61,21],[65,12,61,24,"require"],[65,19,61,31],[65,20,61,31,"_dependencyMap"],[65,34,61,31],[65,48,61,41],[65,49,61,42],[66,8,63,6],[66,14,63,12],[67,10,63,14,"granted"],[68,8,63,22],[68,9,63,23],[68,12,63,26],[68,18,63,32,"Audio"],[68,23,63,37],[68,24,63,38,"requestPermissionsAsync"],[68,47,63,61],[68,48,63,62],[68,49,63,63],[69,8,64,6],[69,12,64,10],[69,13,64,11,"granted"],[69,20,64,18],[69,22,64,20],[70,10,65,8,"console"],[70,17,65,15],[70,18,65,16,"warn"],[70,22,65,20],[70,23,65,21],[70,64,65,62],[70,65,65,63],[71,10,66,8,"_recording"],[71,20,66,18],[71,23,66,21],[71,28,66,26],[72,10,67,8],[73,8,68,6],[74,8,70,6],[74,14,70,12,"Audio"],[74,19,70,17],[74,20,70,18,"setAudioModeAsync"],[74,37,70,35],[74,38,70,36],[75,10,71,8,"allowsRecordingIOS"],[75,28,71,26],[75,30,71,28],[75,34,71,32],[76,10,72,8,"playsInSilentModeIOS"],[76,30,72,28],[76,32,72,30],[77,8,73,6],[77,9,73,7],[77,10,73,8],[78,8,75,6],[78,14,75,12,"recording"],[78,23,75,21],[78,26,75,24],[78,30,75,28,"Audio"],[78,35,75,33],[78,36,75,34,"Recording"],[78,45,75,43],[78,46,75,44],[78,47,75,45],[79,8,76,6],[80,8,77,6],[80,14,77,12,"recording"],[80,23,77,21],[80,24,77,22,"prepareToRecordAsync"],[80,44,77,42],[80,45,77,43],[81,10,78,8,"android"],[81,17,78,15],[81,19,78,17],[82,12,79,10,"extension"],[82,21,79,19],[82,23,79,21],[82,29,79,27],[83,12,80,10,"outputFormat"],[83,24,80,22],[83,26,80,24],[83,27,80,25],[84,12,80,29],[85,12,81,10,"audioEncoder"],[85,24,81,22],[85,26,81,24],[85,27,81,25],[86,12,81,29],[87,12,82,10,"sampleRate"],[87,22,82,20],[87,24,82,22],[87,29,82,27],[88,12,83,10,"numberOfChannels"],[88,28,83,26],[88,30,83,28],[88,31,83,29],[89,12,84,10,"bitRate"],[89,19,84,17],[89,21,84,19],[90,10,85,8],[90,11,85,9],[91,10,86,8,"ios"],[91,13,86,11],[91,15,86,13],[92,12,87,10,"extension"],[92,21,87,19],[92,23,87,21],[92,29,87,27],[93,12,88,10,"audioQuality"],[93,24,88,22],[93,26,88,24],[93,28,88,26],[94,12,88,29],[95,12,89,10,"sampleRate"],[95,22,89,20],[95,24,89,22],[95,29,89,27],[96,12,90,10,"numberOfChannels"],[96,28,90,26],[96,30,90,28],[96,31,90,29],[97,12,91,10,"bitRate"],[97,19,91,17],[97,21,91,19],[97,26,91,24],[98,12,92,10,"linearPCMBitDepth"],[98,29,92,27],[98,31,92,29],[98,33,92,31],[99,12,93,10,"linearPCMIsBigEndian"],[99,32,93,30],[99,34,93,32],[99,39,93,37],[100,12,94,10,"linearPCMIsFloat"],[100,28,94,26],[100,30,94,28],[101,10,95,8],[101,11,95,9],[102,10,96,8,"isMeteringEnabled"],[102,27,96,25],[102,29,96,27],[103,8,97,6],[103,9,97,7],[103,10,97,8],[105,8,99,6],[106,8,100,6],[107,8,101,6,"recording"],[107,17,101,15],[107,18,101,16,"setProgressUpdateInterval"],[107,43,101,41],[107,44,101,42],[107,47,101,45],[107,48,101,46],[108,8,102,6,"recording"],[108,17,102,15],[108,18,102,16,"setOnRecordingStatusUpdate"],[108,44,102,42],[108,45,102,44,"status"],[108,51,102,55],[108,55,102,60],[109,10,103,8],[109,14,103,12],[109,15,103,13,"_recording"],[109,25,103,23],[109,27,103,25],[110,10,104,8],[110,14,104,12,"status"],[110,20,104,18],[110,21,104,19,"metering"],[110,29,104,27],[110,34,104,32,"undefined"],[110,43,104,41],[110,45,104,43],[111,12,105,10],[111,18,105,16,"rms"],[111,21,105,19],[111,24,105,22,"Math"],[111,28,105,26],[111,29,105,27,"pow"],[111,32,105,30],[111,33,105,31],[111,35,105,33],[111,37,105,35,"status"],[111,43,105,41],[111,44,105,42,"metering"],[111,52,105,50],[111,55,105,53],[111,57,105,55],[111,58,105,56],[112,12,106,10],[112,18,106,16,"event"],[112,23,106,21],[112,26,106,24,"vad"],[112,38,106,27],[112,39,106,27,"vad"],[112,42,106,27],[112,43,106,28,"processEnergy"],[112,56,106,41],[112,57,106,42,"rms"],[112,60,106,45],[112,61,106,46],[113,12,107,10],[113,16,107,14,"event"],[113,21,107,19],[113,26,107,24],[113,37,107,35],[113,41,107,39,"_onSpeechEnd"],[113,53,107,51],[113,55,107,53],[114,14,108,12,"console"],[114,21,108,19],[114,22,108,20,"log"],[114,25,108,23],[114,26,108,24],[114,71,108,69],[114,72,108,70],[115,14,109,12],[115,20,109,18,"cb"],[115,22,109,20],[115,25,109,23,"_onSpeechEnd"],[115,37,109,35],[116,14,110,12,"_onSpeechEnd"],[116,26,110,24],[116,29,110,27],[116,33,110,31],[116,34,110,32],[116,35,110,33],[117,14,111,12,"setTimeout"],[117,24,111,22],[117,25,111,23],[117,31,111,29,"cb"],[117,33,111,31],[117,34,111,32],[117,35,111,33],[117,37,111,35],[117,38,111,36],[117,39,111,37],[118,12,112,10],[119,10,113,8],[120,8,114,6],[120,9,114,7],[120,10,114,8],[121,8,116,6],[121,14,116,12,"recording"],[121,23,116,21],[121,24,116,22,"startAsync"],[121,34,116,32],[121,35,116,33],[121,36,116,34],[122,8,117,6,"_expoRecording"],[122,22,117,20],[122,25,117,23,"recording"],[122,34,117,32],[123,8,118,6,"console"],[123,15,118,13],[123,16,118,14,"log"],[123,19,118,17],[123,20,118,18],[123,57,118,55],[123,58,118,56],[124,6,119,4],[124,7,119,5],[124,8,119,6],[124,15,119,13,"err"],[124,18,119,16],[124,20,119,18],[125,8,120,6,"console"],[125,15,120,13],[125,16,120,14,"warn"],[125,20,120,18],[125,21,120,19],[125,58,120,56],[125,60,120,59,"err"],[125,63,120,62],[125,65,120,74,"message"],[125,72,120,81],[125,76,120,85,"err"],[125,79,120,88],[125,80,120,89],[126,8,121,6,"_recording"],[126,18,121,16],[126,21,121,19],[126,26,121,24],[127,6,122,4],[128,4,123,2],[129,2,124,0],[131,2,126,0],[132,0,127,0],[133,0,128,0],[134,0,129,0],[135,0,130,0],[136,0,131,0],[137,0,132,0],[138,2,133,7],[138,17,133,22,"stopAndGetAudio"],[138,32,133,37,"stopAndGetAudio"],[138,33,133,37],[138,35,133,64],[139,4,134,2,"_recording"],[139,14,134,12],[139,17,134,15],[139,22,134,20],[140,4,135,2,"_onSpeechEnd"],[140,16,135,14],[140,19,135,17],[140,23,135,21],[142,4,137,2],[143,4,138,2],[143,8,138,6,"_chunkInterval"],[143,22,138,20],[143,24,138,22],[144,6,138,24,"clearInterval"],[144,19,138,37],[144,20,138,38,"_chunkInterval"],[144,34,138,52],[144,35,138,53],[145,6,138,55,"_chunkInterval"],[145,20,138,69],[145,23,138,72],[145,27,138,76],[146,4,138,78],[147,4,139,2],[147,8,139,6,"_vadInterval"],[147,20,139,18],[147,22,139,20],[148,6,139,22,"clearInterval"],[148,19,139,35],[148,20,139,36,"_vadInterval"],[148,32,139,48],[148,33,139,49],[149,6,139,51,"_vadInterval"],[149,18,139,63],[149,21,139,66],[149,25,139,70],[150,4,139,72],[151,4,141,2,"vad"],[151,16,141,5],[151,17,141,5,"vad"],[151,20,141,5],[151,21,141,6,"detach"],[151,27,141,12],[151,28,141,13],[151,29,141,14],[152,4,142,2,"vad"],[152,16,142,5],[152,17,142,5,"vad"],[152,20,142,5],[152,21,142,6,"reset"],[152,26,142,11],[152,27,142,12],[152,28,142,13],[154,4,144,2],[155,4,145,2],[155,8,145,6,"_webStream"],[155,18,145,16],[155,20,145,18],[156,6,146,4,"_webStream"],[156,16,146,14],[156,17,146,15,"getTracks"],[156,26,146,24],[156,27,146,25],[156,28,146,26],[156,29,146,27,"forEach"],[156,36,146,34],[156,37,146,35,"t"],[156,38,146,36],[156,42,146,40,"t"],[156,43,146,41],[156,44,146,42,"stop"],[156,48,146,46],[156,49,146,47],[156,50,146,48],[156,51,146,49],[157,6,147,4,"_webStream"],[157,16,147,14],[157,19,147,17],[157,23,147,21],[158,4,148,2],[159,4,149,2],[159,8,149,6,"_webRecorder"],[159,20,149,18],[159,22,149,20],[160,6,150,4],[160,10,150,8,"_webRecorder"],[160,22,150,20],[160,23,150,21,"state"],[160,28,150,26],[160,33,150,31],[160,44,150,42],[160,46,150,44,"_webRecorder"],[160,58,150,56],[160,59,150,57,"stop"],[160,63,150,61],[160,64,150,62],[160,65,150,63],[161,6,151,4,"_webRecorder"],[161,18,151,16],[161,21,151,19],[161,25,151,23],[162,4,152,2],[164,4,154,2],[165,4,155,2],[165,8,155,6,"_expoRecording"],[165,22,155,20],[165,24,155,22],[166,6,156,4],[166,10,156,8],[167,8,157,6],[167,14,157,12,"uri"],[167,17,157,15],[167,20,157,18,"_expoRecording"],[167,34,157,32],[167,35,157,33,"getURI"],[167,41,157,39],[167,42,157,40],[167,43,157,41],[167,44,157,42],[167,45,157,43],[168,8,158,6],[168,14,158,12,"_expoRecording"],[168,28,158,26],[168,29,158,27,"stopAndUnloadAsync"],[168,47,158,45],[168,48,158,46],[168,49,158,47],[169,8,159,6,"_expoRecording"],[169,22,159,20],[169,25,159,23],[169,29,159,27],[170,8,161,6],[170,12,161,10],[170,13,161,11,"uri"],[170,16,161,14],[170,18,161,16],[171,10,162,8,"console"],[171,17,162,15],[171,18,162,16,"warn"],[171,22,162,20],[171,23,162,21],[171,62,162,60],[171,63,162,61],[172,10,163,8],[172,17,163,15],[172,21,163,19],[173,8,164,6],[174,8,166,6],[174,14,166,12,"FileSystem"],[174,24,166,22],[174,27,166,25,"require"],[174,34,166,32],[174,35,166,32,"_dependencyMap"],[174,49,166,32],[174,72,166,51],[174,73,166,52],[175,8,167,6],[175,14,167,12,"base64"],[175,20,167,18],[175,23,167,21],[175,29,167,27,"FileSystem"],[175,39,167,37],[175,40,167,38,"readAsStringAsync"],[175,57,167,55],[175,58,167,56,"uri"],[175,61,167,59],[175,63,167,61],[176,10,168,8,"encoding"],[176,18,168,16],[176,20,168,18,"FileSystem"],[176,30,168,28],[176,31,168,29,"EncodingType"],[176,43,168,41],[176,44,168,42,"Base64"],[177,8,169,6],[177,9,169,7],[177,10,169,8],[179,8,171,6],[180,8,172,6,"FileSystem"],[180,18,172,16],[180,19,172,17,"deleteAsync"],[180,30,172,28],[180,31,172,29,"uri"],[180,34,172,32],[180,36,172,34],[181,10,172,36,"idempotent"],[181,20,172,46],[181,22,172,48],[182,8,172,53],[182,9,172,54],[182,10,172,55],[182,11,172,56,"catch"],[182,16,172,61],[182,17,172,62],[182,23,172,68],[182,24,172,69],[182,25,172,70],[182,26,172,71],[183,8,174,6,"console"],[183,15,174,13],[183,16,174,14,"log"],[183,19,174,17],[183,20,174,18],[183,46,174,44,"Math"],[183,50,174,48],[183,51,174,49,"round"],[183,56,174,54],[183,57,174,55,"base64"],[183,63,174,61],[183,64,174,62,"length"],[183,70,174,68],[183,73,174,71],[183,77,174,75],[183,80,174,78],[183,84,174,82],[183,85,174,83],[183,89,174,87],[183,90,174,88],[184,8,175,6],[184,15,175,13,"base64"],[184,21,175,19],[185,6,176,4],[185,7,176,5],[185,8,176,6],[185,15,176,13,"err"],[185,18,176,16],[185,20,176,18],[186,8,177,6,"console"],[186,15,177,13],[186,16,177,14,"warn"],[186,20,177,18],[186,21,177,19],[186,57,177,55],[186,59,177,57,"err"],[186,62,177,60],[186,63,177,61],[187,8,178,6,"_expoRecording"],[187,22,178,20],[187,25,178,23],[187,29,178,27],[188,6,179,4],[189,4,180,2],[190,4,182,2],[190,11,182,9],[190,15,182,13],[191,2,183,0],[193,2,185,0],[194,0,186,0],[195,0,187,0],[196,2,188,7],[196,17,188,22,"stopRecording"],[196,30,188,35,"stopRecording"],[196,31,188,35],[196,33,188,53],[197,4,189,2,"_recording"],[197,14,189,12],[197,17,189,15],[197,22,189,20],[198,4,190,2,"_onSpeechEnd"],[198,16,190,14],[198,19,190,17],[198,23,190,21],[199,4,192,2],[199,8,192,6,"_chunkInterval"],[199,22,192,20],[199,24,192,22],[200,6,192,24,"clearInterval"],[200,19,192,37],[200,20,192,38,"_chunkInterval"],[200,34,192,52],[200,35,192,53],[201,6,192,55,"_chunkInterval"],[201,20,192,69],[201,23,192,72],[201,27,192,76],[202,4,192,78],[203,4,193,2],[203,8,193,6,"_vadInterval"],[203,20,193,18],[203,22,193,20],[204,6,193,22,"clearInterval"],[204,19,193,35],[204,20,193,36,"_vadInterval"],[204,32,193,48],[204,33,193,49],[205,6,193,51,"_vadInterval"],[205,18,193,63],[205,21,193,66],[205,25,193,70],[206,4,193,72],[207,4,195,2,"vad"],[207,16,195,5],[207,17,195,5,"vad"],[207,20,195,5],[207,21,195,6,"detach"],[207,27,195,12],[207,28,195,13],[207,29,195,14],[208,4,196,2,"vad"],[208,16,196,5],[208,17,196,5,"vad"],[208,20,196,5],[208,21,196,6,"reset"],[208,26,196,11],[208,27,196,12],[208,28,196,13],[209,4,198,2],[209,8,198,6,"_webStream"],[209,18,198,16],[209,20,198,18],[210,6,198,20,"_webStream"],[210,16,198,30],[210,17,198,31,"getTracks"],[210,26,198,40],[210,27,198,41],[210,28,198,42],[210,29,198,43,"forEach"],[210,36,198,50],[210,37,198,51,"t"],[210,38,198,52],[210,42,198,56,"t"],[210,43,198,57],[210,44,198,58,"stop"],[210,48,198,62],[210,49,198,63],[210,50,198,64],[210,51,198,65],[211,6,198,67,"_webStream"],[211,16,198,77],[211,19,198,80],[211,23,198,84],[212,4,198,86],[213,4,199,2],[213,8,199,6,"_webRecorder"],[213,20,199,18],[213,22,199,20],[214,6,200,4],[214,10,200,8,"_webRecorder"],[214,22,200,20],[214,23,200,21,"state"],[214,28,200,26],[214,33,200,31],[214,44,200,42],[214,46,200,44,"_webRecorder"],[214,58,200,56],[214,59,200,57,"stop"],[214,63,200,61],[214,64,200,62],[214,65,200,63],[215,6,201,4,"_webRecorder"],[215,18,201,16],[215,21,201,19],[215,25,201,23],[216,4,202,2],[217,4,204,2],[217,8,204,6,"_expoRecording"],[217,22,204,20],[217,24,204,22],[218,6,205,4],[218,10,205,8],[219,8,206,6],[219,14,206,12,"_expoRecording"],[219,28,206,26],[219,29,206,27,"stopAndUnloadAsync"],[219,47,206,45],[219,48,206,46],[219,49,206,47],[220,6,207,4],[220,7,207,5],[220,8,207,6],[220,14,207,12],[220,15,207,14],[221,6,208,4,"_expoRecording"],[221,20,208,18],[221,23,208,21],[221,27,208,25],[222,4,209,2],[223,2,210,0],[224,2,212,7],[224,11,212,16,"isRecording"],[224,22,212,27,"isRecording"],[224,23,212,27],[224,25,212,39],[225,4,213,2],[225,11,213,9,"_recording"],[225,21,213,19],[226,2,214,0],[228,2,216,0],[229,2,217,0],[229,6,217,4,"_webStream"],[229,16,217,34],[229,19,217,37],[229,23,217,41],[230,2,218,0],[230,6,218,4,"_webRecorder"],[230,18,218,38],[230,21,218,41],[230,25,218,45],[231,2,220,0],[231,17,220,15,"_startWebRecording"],[231,35,220,33,"_startWebRecording"],[231,36,220,34,"onChunk"],[231,43,220,58],[231,45,220,75],[232,4,221,2],[232,10,221,8,"stream"],[232,16,221,14],[232,19,221,17],[232,25,221,23,"navigator"],[232,34,221,32],[232,35,221,33,"mediaDevices"],[232,47,221,45],[232,48,221,46,"getUserMedia"],[232,60,221,58],[232,61,221,59],[233,6,221,61,"audio"],[233,11,221,66],[233,13,221,68],[234,4,221,73],[234,5,221,74],[234,6,221,75],[235,4,222,2,"_webStream"],[235,14,222,12],[235,17,222,15,"stream"],[235,23,222,21],[236,4,224,2],[236,10,224,8,"recorder"],[236,18,224,16],[236,21,224,19],[236,25,224,23,"MediaRecorder"],[236,38,224,36],[236,39,224,37,"stream"],[236,45,224,43],[236,47,224,45],[237,6,225,4,"mimeType"],[237,14,225,12],[237,16,225,14],[238,4,226,2],[238,5,226,3],[238,6,226,4],[239,4,227,2,"_webRecorder"],[239,16,227,14],[239,19,227,17,"recorder"],[239,27,227,25],[240,4,229,2,"recorder"],[240,12,229,10],[240,13,229,11,"ondataavailable"],[240,28,229,26],[240,31,229,29],[240,37,229,36,"event"],[240,42,229,41],[240,46,229,46],[241,6,230,4],[241,10,230,8,"event"],[241,15,230,13],[241,16,230,14,"data"],[241,20,230,18],[241,21,230,19,"size"],[241,25,230,23],[241,28,230,26],[241,29,230,27],[241,33,230,31,"_recording"],[241,43,230,41],[241,45,230,43],[242,8,231,6],[242,14,231,12,"buffer"],[242,20,231,18],[242,23,231,21],[242,29,231,27,"event"],[242,34,231,32],[242,35,231,33,"data"],[242,39,231,37],[242,40,231,38,"arrayBuffer"],[242,51,231,49],[242,52,231,50],[242,53,231,51],[243,8,232,6],[243,14,232,12,"base64"],[243,20,232,18],[243,23,232,21,"_arrayBufferToBase64"],[243,43,232,41],[243,44,232,42,"buffer"],[243,50,232,48],[243,51,232,49],[244,8,233,6,"_seq"],[244,12,233,10],[244,14,233,12],[245,8,234,6,"onChunk"],[245,15,234,13],[245,16,234,14],[246,10,234,16,"data"],[246,14,234,20],[246,16,234,22,"base64"],[246,22,234,28],[247,10,234,30,"seq"],[247,13,234,33],[247,15,234,35,"_seq"],[247,19,234,39],[248,10,234,41,"timestamp"],[248,19,234,50],[248,21,234,52,"Date"],[248,25,234,56],[248,26,234,57,"now"],[248,29,234,60],[248,30,234,61],[248,31,234,62],[249,10,234,64,"durationMs"],[249,20,234,74],[249,22,234,76],[250,8,234,80],[250,9,234,81],[250,10,234,82],[251,6,235,4],[252,4,236,2],[252,5,236,3],[254,4,238,2],[255,4,239,2,"vad"],[255,16,239,5],[255,17,239,5,"vad"],[255,20,239,5],[255,21,239,6,"attachStream"],[255,33,239,18],[255,34,239,19,"stream"],[255,40,239,25],[255,41,239,26],[256,4,240,2,"_vadInterval"],[256,16,240,14],[256,19,240,17,"setInterval"],[256,30,240,28],[256,31,240,29],[256,37,240,35],[257,6,241,4],[257,10,241,8],[257,11,241,9,"_recording"],[257,21,241,19],[257,23,241,21],[258,6,242,4],[258,12,242,10,"event"],[258,17,242,15],[258,20,242,18,"vad"],[258,32,242,21],[258,33,242,21,"vad"],[258,36,242,21],[258,37,242,22,"sampleStream"],[258,49,242,34],[258,50,242,35],[258,51,242,36],[259,6,243,4],[259,10,243,8,"event"],[259,15,243,13],[259,20,243,18],[259,31,243,29],[259,35,243,33,"_onSpeechEnd"],[259,47,243,45],[259,49,243,47],[260,8,244,6,"console"],[260,15,244,13],[260,16,244,14,"log"],[260,19,244,17],[260,20,244,18],[260,62,244,60],[260,63,244,61],[261,8,245,6],[261,14,245,12,"cb"],[261,16,245,14],[261,19,245,17,"_onSpeechEnd"],[261,31,245,29],[262,8,246,6,"_onSpeechEnd"],[262,20,246,18],[262,23,246,21],[262,27,246,25],[263,8,247,6,"setTimeout"],[263,18,247,16],[263,19,247,17],[263,25,247,23,"cb"],[263,27,247,25],[263,28,247,26],[263,29,247,27],[263,31,247,29],[263,32,247,30],[263,33,247,31],[264,6,248,4],[265,4,249,2],[265,5,249,3],[265,7,249,5],[265,10,249,8],[265,11,249,9],[266,4,251,2,"recorder"],[266,12,251,10],[266,13,251,11,"start"],[266,18,251,16],[266,19,251,17],[266,22,251,20],[266,23,251,21],[267,2,252,0],[269,2,254,0],[270,2,255,0],[270,11,255,9,"_arrayBufferToBase64"],[270,31,255,29,"_arrayBufferToBase64"],[270,32,255,30,"buffer"],[270,38,255,49],[270,40,255,59],[271,4,256,2],[271,8,256,6,"binary"],[271,14,256,12],[271,17,256,15],[271,19,256,17],[272,4,257,2],[272,10,257,8,"bytes"],[272,15,257,13],[272,18,257,16],[272,22,257,20,"Uint8Array"],[272,32,257,30],[272,33,257,31,"buffer"],[272,39,257,37],[272,40,257,38],[273,4,258,2],[273,9,258,7],[273,13,258,11,"i"],[273,14,258,12],[273,17,258,15],[273,18,258,16],[273,20,258,18,"i"],[273,21,258,19],[273,24,258,22,"bytes"],[273,29,258,27],[273,30,258,28,"byteLength"],[273,40,258,38],[273,42,258,40,"i"],[273,43,258,41],[273,45,258,43],[273,47,258,45],[274,6,259,4,"binary"],[274,12,259,10],[274,16,259,14,"String"],[274,22,259,20],[274,23,259,21,"fromCharCode"],[274,35,259,33],[274,36,259,34,"bytes"],[274,41,259,39],[274,42,259,40,"i"],[274,43,259,41],[274,44,259,42],[274,45,259,43],[275,4,260,2],[276,4,261,2],[276,11,261,9,"btoa"],[276,15,261,13],[276,16,261,14,"binary"],[276,22,261,20],[276,23,261,21],[277,2,262,0],[278,0,262,1],[278,3]],"functionMap":{"names":["<global>","startRecording","recording.setOnRecordingStatusUpdate$argument_0","setTimeout$argument_0","stopAndGetAudio","_webStream.getTracks.forEach$argument_0","FileSystem.deleteAsync._catch$argument_0","stopRecording","isRecording","_startWebRecording","ondataavailable","setInterval$argument_0","_arrayBufferToBase64"],"mappings":"AAA;OCuC;2CC8D;uBCS,UD;ODG;CDU;OIS;mCCa,aD;8DE0B,QF;CJW;OOK;mDFU,aE;CPY;OQE;CRE;ASM;6BCS;GDO;6BEI;iBRO,UQ;GFE;CTG;AYG;CZO"},"hasCjsExports":false},"type":"js/module"}]}