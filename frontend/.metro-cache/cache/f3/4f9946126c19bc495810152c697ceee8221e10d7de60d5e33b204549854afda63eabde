{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./vad/local-vad","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":477},"end":{"line":12,"column":38,"index":515}}],"key":"+a18EXtkk+xbuwN1/2+ufd1GJ4A=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":61,"column":24,"index":1898},"end":{"line":61,"column":42,"index":1916}}],"key":"Zo2OD1UlwSKfA7XPavzmMQoVCN4=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":182,"column":25,"index":6010},"end":{"line":182,"column":52,"index":6037}}],"key":"uB2MW2OTLfs93DXcpjSoofLkQYE=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.startRecording = startRecording;\n  exports.stopAndGetAudio = stopAndGetAudio;\n  exports.stopRecording = stopRecording;\n  exports.isRecording = isRecording;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _vadLocalVad = require(_dependencyMap[1], \"./vad/local-vad\");\n  /**\n   * Audio Recorder — cross-platform audio capture with VAD auto-stop.\n   *\n   * Native: expo-av records to a local file. VAD drives auto-stop via metering.\n   * On stop, the file is read as base64 and returned for a single WS upload.\n   * Web: MediaRecorder streams real chunks.\n   *\n   * FIX: Removed _startSimulatedRecording from native path. Real audio is now\n   * captured by expo-av, read after stop, and sent as one chunk to the server.\n   */\n\n  let _recording = false;\n  let _seq = 0;\n  let _chunkInterval = null;\n  let _vadInterval = null;\n  let _onSpeechEnd = null;\n\n  // Native expo-av Recording instance\n  let _expoRecording = null;\n\n  /**\n   * Start audio recording.\n   * Native: starts expo-av recording + VAD via metering. No chunks emitted.\n   *   Call stopAndGetAudio() when done to retrieve the recorded audio as base64.\n   * Web: streams real MediaRecorder chunks via onChunk callback.\n   *\n   * onSpeechEnd is called when VAD detects end-of-utterance (Siri-like auto-stop).\n   */\n  async function startRecording(onChunk, onSpeechEnd) {\n    if (_recording) return;\n    _recording = true;\n    _seq = 0;\n    _onSpeechEnd = onSpeechEnd || null;\n    _vadLocalVad.vad.reset();\n    if (Platform.default.OS === 'web') {\n      try {\n        await _startWebRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Web recording not available:', err);\n      }\n    } else {\n      // Native: Use expo-av for real audio capture + VAD via metering.\n      // No simulated chunks. Audio is read from the file on stop.\n      try {\n        const {\n          Audio\n        } = require(_dependencyMap[2], \"expo-av\");\n\n        // Clean up any stale recording from a previous interrupted session.\n        // expo-av allows only one Recording at a time — if a prior one wasn't\n        // fully unloaded (e.g. interrupted by permission dialog), prepareToRecordAsync\n        // throws \"Only one Recording object can be prepared at a given time.\"\n        if (_expoRecording) {\n          try {\n            await _expoRecording.stopAndUnloadAsync();\n          } catch {/* ignore */}\n          _expoRecording = null;\n        }\n        const {\n          granted\n        } = await Audio.requestPermissionsAsync();\n        if (!granted) {\n          console.warn('[Recorder] Microphone permission denied');\n          _recording = false;\n          return;\n        }\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true\n        });\n        const recording = new Audio.Recording();\n        // 32kbps mono 16kHz — ideal for STT, keeps file small (<40KB for 10s)\n        await recording.prepareToRecordAsync({\n          android: {\n            extension: '.m4a',\n            outputFormat: 2,\n            // MPEG_4\n            audioEncoder: 3,\n            // AAC\n            sampleRate: 16000,\n            numberOfChannels: 1,\n            bitRate: 32000\n          },\n          ios: {\n            extension: '.m4a',\n            audioQuality: 32,\n            // medium\n            sampleRate: 16000,\n            numberOfChannels: 1,\n            bitRate: 32000,\n            linearPCMBitDepth: 16,\n            linearPCMIsBigEndian: false,\n            linearPCMIsFloat: false\n          },\n          isMeteringEnabled: true\n        });\n\n        // Drive VAD from expo-av metering (100ms updates).\n        // Defer _onSpeechEnd via setTimeout to exit the status-update callback cleanly.\n        recording.setProgressUpdateInterval(100);\n        recording.setOnRecordingStatusUpdate(status => {\n          if (!_recording) return;\n          if (status.metering !== undefined) {\n            const rms = Math.pow(10, status.metering / 20);\n            const event = _vadLocalVad.vad.processEnergy(rms);\n            if (event === 'speechEnd' && _onSpeechEnd) {\n              console.log('[Recorder] VAD: speechEnd detected (native)');\n              const cb = _onSpeechEnd;\n              _onSpeechEnd = null; // prevent double-fire\n              setTimeout(() => cb(), 0);\n            }\n          }\n        });\n        await recording.startAsync();\n        _expoRecording = recording;\n        console.log('[Recorder] Native recording started');\n      } catch (err) {\n        console.warn('[Recorder] Native recording failed:', err?.message || err);\n        // Unload the locally-created recording to release expo-av's internal singleton lock.\n        // Without this, the next prepareToRecordAsync() throws \"Only one Recording object\n        // can be prepared at a given time.\"\n        if (_expoRecording) {\n          try {\n            await _expoRecording.stopAndUnloadAsync();\n          } catch {/* ignore */}\n          _expoRecording = null;\n        }\n        _recording = false;\n      }\n    }\n  }\n\n  /**\n   * Stop recording, read the captured audio file, and return it as base64.\n   * This is the primary stop method for voice mandates.\n   *\n   * Returns base64 string of the audio file, or null on failure / web.\n   * For web, returns null (web already streamed chunks via onChunk).\n   */\n  async function stopAndGetAudio() {\n    _recording = false;\n    _onSpeechEnd = null;\n\n    // Clear web intervals\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n\n    // Web cleanup\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') _webRecorder.stop();\n      _webRecorder = null;\n    }\n\n    // Native: stop recording and read the file\n    if (_expoRecording) {\n      try {\n        const uri = _expoRecording.getURI(); // get URI before unloading\n        await _expoRecording.stopAndUnloadAsync();\n        _expoRecording = null;\n        if (!uri) {\n          console.warn('[Recorder] No recording URI available');\n          return null;\n        }\n        const FileSystem = require(_dependencyMap[3], \"expo-file-system\");\n        const base64 = await FileSystem.readAsStringAsync(uri, {\n          encoding: FileSystem.EncodingType.Base64\n        });\n\n        // Clean up the temp file\n        FileSystem.deleteAsync(uri, {\n          idempotent: true\n        }).catch(() => {});\n        console.log(`[Recorder] Audio read: ${Math.round(base64.length * 0.75 / 1024)}KB`);\n        return base64;\n      } catch (err) {\n        console.warn('[Recorder] stopAndGetAudio failed:', err);\n        _expoRecording = null;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Stop recording without reading the audio (for kill-switch / error paths).\n   */\n  async function stopRecording() {\n    _recording = false;\n    _onSpeechEnd = null;\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') _webRecorder.stop();\n      _webRecorder = null;\n    }\n    if (_expoRecording) {\n      try {\n        await _expoRecording.stopAndUnloadAsync();\n      } catch {/* ignore */}\n      _expoRecording = null;\n    }\n  }\n  function isRecording() {\n    return _recording;\n  }\n\n  // ---- Web MediaRecorder ----\n  let _webStream = null;\n  let _webRecorder = null;\n  async function _startWebRecording(onChunk) {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    _webStream = stream;\n    const recorder = new MediaRecorder(stream, {\n      mimeType: 'audio/webm;codecs=opus'\n    });\n    _webRecorder = recorder;\n    recorder.ondataavailable = async event => {\n      if (event.data.size > 0 && _recording) {\n        const buffer = await event.data.arrayBuffer();\n        const base64 = _arrayBufferToBase64(buffer);\n        _seq++;\n        onChunk({\n          data: base64,\n          seq: _seq,\n          timestamp: Date.now(),\n          durationMs: 250\n        });\n      }\n    };\n\n    // Attach VAD to live stream for web auto-stop\n    _vadLocalVad.vad.attachStream(stream);\n    _vadInterval = setInterval(() => {\n      if (!_recording) return;\n      const event = _vadLocalVad.vad.sampleStream();\n      if (event === 'speechEnd' && _onSpeechEnd) {\n        console.log('[Recorder] VAD: speechEnd detected (web)');\n        const cb = _onSpeechEnd;\n        _onSpeechEnd = null;\n        setTimeout(() => cb(), 0);\n      }\n    }, 100);\n    recorder.start(250);\n  }\n\n  // ---- Utils ----\n  function _arrayBufferToBase64(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n  }\n});","lineCount":298,"map":[[12,2,40,0,"exports"],[12,9,40,0],[12,10,40,0,"startRecording"],[12,24,40,0],[12,27,40,0,"startRecording"],[12,41,40,0],[13,2,149,0,"exports"],[13,9,149,0],[13,10,149,0,"stopAndGetAudio"],[13,25,149,0],[13,28,149,0,"stopAndGetAudio"],[13,43,149,0],[14,2,204,0,"exports"],[14,9,204,0],[14,10,204,0,"stopRecording"],[14,23,204,0],[14,26,204,0,"stopRecording"],[14,39,204,0],[15,2,228,0,"exports"],[15,9,228,0],[15,10,228,0,"isRecording"],[15,21,228,0],[15,24,228,0,"isRecording"],[15,35,228,0],[16,2,230,1],[16,6,230,1,"_reactNativeWebDistExportsPlatform"],[16,40,230,1],[16,43,230,1,"require"],[16,50,230,1],[16,51,230,1,"_dependencyMap"],[16,65,230,1],[17,2,230,1],[17,6,230,1,"Platform"],[17,14,230,1],[17,17,230,1,"_interopDefault"],[17,32,230,1],[17,33,230,1,"_reactNativeWebDistExportsPlatform"],[17,67,230,1],[18,2,12,0],[18,6,12,0,"_vadLocalVad"],[18,18,12,0],[18,21,12,0,"require"],[18,28,12,0],[18,29,12,0,"_dependencyMap"],[18,43,12,0],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[30,2,23,0],[30,6,23,4,"_recording"],[30,16,23,14],[30,19,23,17],[30,24,23,22],[31,2,24,0],[31,6,24,4,"_seq"],[31,10,24,8],[31,13,24,11],[31,14,24,12],[32,2,25,0],[32,6,25,4,"_chunkInterval"],[32,20,25,57],[32,23,25,60],[32,27,25,64],[33,2,26,0],[33,6,26,4,"_vadInterval"],[33,18,26,55],[33,21,26,58],[33,25,26,62],[34,2,27,0],[34,6,27,4,"_onSpeechEnd"],[34,18,27,37],[34,21,27,40],[34,25,27,44],[36,2,29,0],[37,2,30,0],[37,6,30,4,"_expoRecording"],[37,20,30,23],[37,23,30,26],[37,27,30,30],[39,2,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,2,40,7],[47,17,40,22,"startRecording"],[47,31,40,36,"startRecording"],[47,32,41,2,"onChunk"],[47,39,41,26],[47,41,42,2,"onSpeechEnd"],[47,52,42,26],[47,54,43,17],[48,4,44,2],[48,8,44,6,"_recording"],[48,18,44,16],[48,20,44,18],[49,4,46,2,"_recording"],[49,14,46,12],[49,17,46,15],[49,21,46,19],[50,4,47,2,"_seq"],[50,8,47,6],[50,11,47,9],[50,12,47,10],[51,4,48,2,"_onSpeechEnd"],[51,16,48,14],[51,19,48,17,"onSpeechEnd"],[51,30,48,28],[51,34,48,32],[51,38,48,36],[52,4,49,2,"vad"],[52,16,49,5],[52,17,49,5,"vad"],[52,20,49,5],[52,21,49,6,"reset"],[52,26,49,11],[52,27,49,12],[52,28,49,13],[53,4,51,2],[53,8,51,6,"Platform"],[53,16,51,14],[53,17,51,14,"default"],[53,24,51,14],[53,25,51,15,"OS"],[53,27,51,17],[53,32,51,22],[53,37,51,27],[53,39,51,29],[54,6,52,4],[54,10,52,8],[55,8,53,6],[55,14,53,12,"_startWebRecording"],[55,32,53,30],[55,33,53,31,"onChunk"],[55,40,53,38],[55,41,53,39],[56,6,54,4],[56,7,54,5],[56,8,54,6],[56,15,54,13,"err"],[56,18,54,16],[56,20,54,18],[57,8,55,6,"console"],[57,15,55,13],[57,16,55,14,"warn"],[57,20,55,18],[57,21,55,19],[57,62,55,60],[57,64,55,62,"err"],[57,67,55,65],[57,68,55,66],[58,6,56,4],[59,4,57,2],[59,5,57,3],[59,11,57,9],[60,6,58,4],[61,6,59,4],[62,6,60,4],[62,10,60,8],[63,8,61,6],[63,14,61,12],[64,10,61,14,"Audio"],[65,8,61,20],[65,9,61,21],[65,12,61,24,"require"],[65,19,61,31],[65,20,61,31,"_dependencyMap"],[65,34,61,31],[65,48,61,41],[65,49,61,42],[67,8,63,6],[68,8,64,6],[69,8,65,6],[70,8,66,6],[71,8,67,6],[71,12,67,10,"_expoRecording"],[71,26,67,24],[71,28,67,26],[72,10,68,8],[72,14,68,12],[73,12,68,14],[73,18,68,20,"_expoRecording"],[73,32,68,34],[73,33,68,35,"stopAndUnloadAsync"],[73,51,68,53],[73,52,68,54],[73,53,68,55],[74,10,68,57],[74,11,68,58],[74,12,68,59],[74,18,68,65],[74,19,68,67],[75,10,69,8,"_expoRecording"],[75,24,69,22],[75,27,69,25],[75,31,69,29],[76,8,70,6],[77,8,72,6],[77,14,72,12],[78,10,72,14,"granted"],[79,8,72,22],[79,9,72,23],[79,12,72,26],[79,18,72,32,"Audio"],[79,23,72,37],[79,24,72,38,"requestPermissionsAsync"],[79,47,72,61],[79,48,72,62],[79,49,72,63],[80,8,73,6],[80,12,73,10],[80,13,73,11,"granted"],[80,20,73,18],[80,22,73,20],[81,10,74,8,"console"],[81,17,74,15],[81,18,74,16,"warn"],[81,22,74,20],[81,23,74,21],[81,64,74,62],[81,65,74,63],[82,10,75,8,"_recording"],[82,20,75,18],[82,23,75,21],[82,28,75,26],[83,10,76,8],[84,8,77,6],[85,8,79,6],[85,14,79,12,"Audio"],[85,19,79,17],[85,20,79,18,"setAudioModeAsync"],[85,37,79,35],[85,38,79,36],[86,10,80,8,"allowsRecordingIOS"],[86,28,80,26],[86,30,80,28],[86,34,80,32],[87,10,81,8,"playsInSilentModeIOS"],[87,30,81,28],[87,32,81,30],[88,8,82,6],[88,9,82,7],[88,10,82,8],[89,8,84,6],[89,14,84,12,"recording"],[89,23,84,21],[89,26,84,24],[89,30,84,28,"Audio"],[89,35,84,33],[89,36,84,34,"Recording"],[89,45,84,43],[89,46,84,44],[89,47,84,45],[90,8,85,6],[91,8,86,6],[91,14,86,12,"recording"],[91,23,86,21],[91,24,86,22,"prepareToRecordAsync"],[91,44,86,42],[91,45,86,43],[92,10,87,8,"android"],[92,17,87,15],[92,19,87,17],[93,12,88,10,"extension"],[93,21,88,19],[93,23,88,21],[93,29,88,27],[94,12,89,10,"outputFormat"],[94,24,89,22],[94,26,89,24],[94,27,89,25],[95,12,89,29],[96,12,90,10,"audioEncoder"],[96,24,90,22],[96,26,90,24],[96,27,90,25],[97,12,90,29],[98,12,91,10,"sampleRate"],[98,22,91,20],[98,24,91,22],[98,29,91,27],[99,12,92,10,"numberOfChannels"],[99,28,92,26],[99,30,92,28],[99,31,92,29],[100,12,93,10,"bitRate"],[100,19,93,17],[100,21,93,19],[101,10,94,8],[101,11,94,9],[102,10,95,8,"ios"],[102,13,95,11],[102,15,95,13],[103,12,96,10,"extension"],[103,21,96,19],[103,23,96,21],[103,29,96,27],[104,12,97,10,"audioQuality"],[104,24,97,22],[104,26,97,24],[104,28,97,26],[105,12,97,29],[106,12,98,10,"sampleRate"],[106,22,98,20],[106,24,98,22],[106,29,98,27],[107,12,99,10,"numberOfChannels"],[107,28,99,26],[107,30,99,28],[107,31,99,29],[108,12,100,10,"bitRate"],[108,19,100,17],[108,21,100,19],[108,26,100,24],[109,12,101,10,"linearPCMBitDepth"],[109,29,101,27],[109,31,101,29],[109,33,101,31],[110,12,102,10,"linearPCMIsBigEndian"],[110,32,102,30],[110,34,102,32],[110,39,102,37],[111,12,103,10,"linearPCMIsFloat"],[111,28,103,26],[111,30,103,28],[112,10,104,8],[112,11,104,9],[113,10,105,8,"isMeteringEnabled"],[113,27,105,25],[113,29,105,27],[114,8,106,6],[114,9,106,7],[114,10,106,8],[116,8,108,6],[117,8,109,6],[118,8,110,6,"recording"],[118,17,110,15],[118,18,110,16,"setProgressUpdateInterval"],[118,43,110,41],[118,44,110,42],[118,47,110,45],[118,48,110,46],[119,8,111,6,"recording"],[119,17,111,15],[119,18,111,16,"setOnRecordingStatusUpdate"],[119,44,111,42],[119,45,111,44,"status"],[119,51,111,55],[119,55,111,60],[120,10,112,8],[120,14,112,12],[120,15,112,13,"_recording"],[120,25,112,23],[120,27,112,25],[121,10,113,8],[121,14,113,12,"status"],[121,20,113,18],[121,21,113,19,"metering"],[121,29,113,27],[121,34,113,32,"undefined"],[121,43,113,41],[121,45,113,43],[122,12,114,10],[122,18,114,16,"rms"],[122,21,114,19],[122,24,114,22,"Math"],[122,28,114,26],[122,29,114,27,"pow"],[122,32,114,30],[122,33,114,31],[122,35,114,33],[122,37,114,35,"status"],[122,43,114,41],[122,44,114,42,"metering"],[122,52,114,50],[122,55,114,53],[122,57,114,55],[122,58,114,56],[123,12,115,10],[123,18,115,16,"event"],[123,23,115,21],[123,26,115,24,"vad"],[123,38,115,27],[123,39,115,27,"vad"],[123,42,115,27],[123,43,115,28,"processEnergy"],[123,56,115,41],[123,57,115,42,"rms"],[123,60,115,45],[123,61,115,46],[124,12,116,10],[124,16,116,14,"event"],[124,21,116,19],[124,26,116,24],[124,37,116,35],[124,41,116,39,"_onSpeechEnd"],[124,53,116,51],[124,55,116,53],[125,14,117,12,"console"],[125,21,117,19],[125,22,117,20,"log"],[125,25,117,23],[125,26,117,24],[125,71,117,69],[125,72,117,70],[126,14,118,12],[126,20,118,18,"cb"],[126,22,118,20],[126,25,118,23,"_onSpeechEnd"],[126,37,118,35],[127,14,119,12,"_onSpeechEnd"],[127,26,119,24],[127,29,119,27],[127,33,119,31],[127,34,119,32],[127,35,119,33],[128,14,120,12,"setTimeout"],[128,24,120,22],[128,25,120,23],[128,31,120,29,"cb"],[128,33,120,31],[128,34,120,32],[128,35,120,33],[128,37,120,35],[128,38,120,36],[128,39,120,37],[129,12,121,10],[130,10,122,8],[131,8,123,6],[131,9,123,7],[131,10,123,8],[132,8,125,6],[132,14,125,12,"recording"],[132,23,125,21],[132,24,125,22,"startAsync"],[132,34,125,32],[132,35,125,33],[132,36,125,34],[133,8,126,6,"_expoRecording"],[133,22,126,20],[133,25,126,23,"recording"],[133,34,126,32],[134,8,127,6,"console"],[134,15,127,13],[134,16,127,14,"log"],[134,19,127,17],[134,20,127,18],[134,57,127,55],[134,58,127,56],[135,6,128,4],[135,7,128,5],[135,8,128,6],[135,15,128,13,"err"],[135,18,128,16],[135,20,128,18],[136,8,129,6,"console"],[136,15,129,13],[136,16,129,14,"warn"],[136,20,129,18],[136,21,129,19],[136,58,129,56],[136,60,129,59,"err"],[136,63,129,62],[136,65,129,74,"message"],[136,72,129,81],[136,76,129,85,"err"],[136,79,129,88],[136,80,129,89],[137,8,130,6],[138,8,131,6],[139,8,132,6],[140,8,133,6],[140,12,133,10,"_expoRecording"],[140,26,133,24],[140,28,133,26],[141,10,134,8],[141,14,134,12],[142,12,134,14],[142,18,134,20,"_expoRecording"],[142,32,134,34],[142,33,134,35,"stopAndUnloadAsync"],[142,51,134,53],[142,52,134,54],[142,53,134,55],[143,10,134,57],[143,11,134,58],[143,12,134,59],[143,18,134,65],[143,19,134,67],[144,10,135,8,"_expoRecording"],[144,24,135,22],[144,27,135,25],[144,31,135,29],[145,8,136,6],[146,8,137,6,"_recording"],[146,18,137,16],[146,21,137,19],[146,26,137,24],[147,6,138,4],[148,4,139,2],[149,2,140,0],[151,2,142,0],[152,0,143,0],[153,0,144,0],[154,0,145,0],[155,0,146,0],[156,0,147,0],[157,0,148,0],[158,2,149,7],[158,17,149,22,"stopAndGetAudio"],[158,32,149,37,"stopAndGetAudio"],[158,33,149,37],[158,35,149,64],[159,4,150,2,"_recording"],[159,14,150,12],[159,17,150,15],[159,22,150,20],[160,4,151,2,"_onSpeechEnd"],[160,16,151,14],[160,19,151,17],[160,23,151,21],[162,4,153,2],[163,4,154,2],[163,8,154,6,"_chunkInterval"],[163,22,154,20],[163,24,154,22],[164,6,154,24,"clearInterval"],[164,19,154,37],[164,20,154,38,"_chunkInterval"],[164,34,154,52],[164,35,154,53],[165,6,154,55,"_chunkInterval"],[165,20,154,69],[165,23,154,72],[165,27,154,76],[166,4,154,78],[167,4,155,2],[167,8,155,6,"_vadInterval"],[167,20,155,18],[167,22,155,20],[168,6,155,22,"clearInterval"],[168,19,155,35],[168,20,155,36,"_vadInterval"],[168,32,155,48],[168,33,155,49],[169,6,155,51,"_vadInterval"],[169,18,155,63],[169,21,155,66],[169,25,155,70],[170,4,155,72],[171,4,157,2,"vad"],[171,16,157,5],[171,17,157,5,"vad"],[171,20,157,5],[171,21,157,6,"detach"],[171,27,157,12],[171,28,157,13],[171,29,157,14],[172,4,158,2,"vad"],[172,16,158,5],[172,17,158,5,"vad"],[172,20,158,5],[172,21,158,6,"reset"],[172,26,158,11],[172,27,158,12],[172,28,158,13],[174,4,160,2],[175,4,161,2],[175,8,161,6,"_webStream"],[175,18,161,16],[175,20,161,18],[176,6,162,4,"_webStream"],[176,16,162,14],[176,17,162,15,"getTracks"],[176,26,162,24],[176,27,162,25],[176,28,162,26],[176,29,162,27,"forEach"],[176,36,162,34],[176,37,162,35,"t"],[176,38,162,36],[176,42,162,40,"t"],[176,43,162,41],[176,44,162,42,"stop"],[176,48,162,46],[176,49,162,47],[176,50,162,48],[176,51,162,49],[177,6,163,4,"_webStream"],[177,16,163,14],[177,19,163,17],[177,23,163,21],[178,4,164,2],[179,4,165,2],[179,8,165,6,"_webRecorder"],[179,20,165,18],[179,22,165,20],[180,6,166,4],[180,10,166,8,"_webRecorder"],[180,22,166,20],[180,23,166,21,"state"],[180,28,166,26],[180,33,166,31],[180,44,166,42],[180,46,166,44,"_webRecorder"],[180,58,166,56],[180,59,166,57,"stop"],[180,63,166,61],[180,64,166,62],[180,65,166,63],[181,6,167,4,"_webRecorder"],[181,18,167,16],[181,21,167,19],[181,25,167,23],[182,4,168,2],[184,4,170,2],[185,4,171,2],[185,8,171,6,"_expoRecording"],[185,22,171,20],[185,24,171,22],[186,6,172,4],[186,10,172,8],[187,8,173,6],[187,14,173,12,"uri"],[187,17,173,15],[187,20,173,18,"_expoRecording"],[187,34,173,32],[187,35,173,33,"getURI"],[187,41,173,39],[187,42,173,40],[187,43,173,41],[187,44,173,42],[187,45,173,43],[188,8,174,6],[188,14,174,12,"_expoRecording"],[188,28,174,26],[188,29,174,27,"stopAndUnloadAsync"],[188,47,174,45],[188,48,174,46],[188,49,174,47],[189,8,175,6,"_expoRecording"],[189,22,175,20],[189,25,175,23],[189,29,175,27],[190,8,177,6],[190,12,177,10],[190,13,177,11,"uri"],[190,16,177,14],[190,18,177,16],[191,10,178,8,"console"],[191,17,178,15],[191,18,178,16,"warn"],[191,22,178,20],[191,23,178,21],[191,62,178,60],[191,63,178,61],[192,10,179,8],[192,17,179,15],[192,21,179,19],[193,8,180,6],[194,8,182,6],[194,14,182,12,"FileSystem"],[194,24,182,22],[194,27,182,25,"require"],[194,34,182,32],[194,35,182,32,"_dependencyMap"],[194,49,182,32],[194,72,182,51],[194,73,182,52],[195,8,183,6],[195,14,183,12,"base64"],[195,20,183,18],[195,23,183,21],[195,29,183,27,"FileSystem"],[195,39,183,37],[195,40,183,38,"readAsStringAsync"],[195,57,183,55],[195,58,183,56,"uri"],[195,61,183,59],[195,63,183,61],[196,10,184,8,"encoding"],[196,18,184,16],[196,20,184,18,"FileSystem"],[196,30,184,28],[196,31,184,29,"EncodingType"],[196,43,184,41],[196,44,184,42,"Base64"],[197,8,185,6],[197,9,185,7],[197,10,185,8],[199,8,187,6],[200,8,188,6,"FileSystem"],[200,18,188,16],[200,19,188,17,"deleteAsync"],[200,30,188,28],[200,31,188,29,"uri"],[200,34,188,32],[200,36,188,34],[201,10,188,36,"idempotent"],[201,20,188,46],[201,22,188,48],[202,8,188,53],[202,9,188,54],[202,10,188,55],[202,11,188,56,"catch"],[202,16,188,61],[202,17,188,62],[202,23,188,68],[202,24,188,69],[202,25,188,70],[202,26,188,71],[203,8,190,6,"console"],[203,15,190,13],[203,16,190,14,"log"],[203,19,190,17],[203,20,190,18],[203,46,190,44,"Math"],[203,50,190,48],[203,51,190,49,"round"],[203,56,190,54],[203,57,190,55,"base64"],[203,63,190,61],[203,64,190,62,"length"],[203,70,190,68],[203,73,190,71],[203,77,190,75],[203,80,190,78],[203,84,190,82],[203,85,190,83],[203,89,190,87],[203,90,190,88],[204,8,191,6],[204,15,191,13,"base64"],[204,21,191,19],[205,6,192,4],[205,7,192,5],[205,8,192,6],[205,15,192,13,"err"],[205,18,192,16],[205,20,192,18],[206,8,193,6,"console"],[206,15,193,13],[206,16,193,14,"warn"],[206,20,193,18],[206,21,193,19],[206,57,193,55],[206,59,193,57,"err"],[206,62,193,60],[206,63,193,61],[207,8,194,6,"_expoRecording"],[207,22,194,20],[207,25,194,23],[207,29,194,27],[208,6,195,4],[209,4,196,2],[210,4,198,2],[210,11,198,9],[210,15,198,13],[211,2,199,0],[213,2,201,0],[214,0,202,0],[215,0,203,0],[216,2,204,7],[216,17,204,22,"stopRecording"],[216,30,204,35,"stopRecording"],[216,31,204,35],[216,33,204,53],[217,4,205,2,"_recording"],[217,14,205,12],[217,17,205,15],[217,22,205,20],[218,4,206,2,"_onSpeechEnd"],[218,16,206,14],[218,19,206,17],[218,23,206,21],[219,4,208,2],[219,8,208,6,"_chunkInterval"],[219,22,208,20],[219,24,208,22],[220,6,208,24,"clearInterval"],[220,19,208,37],[220,20,208,38,"_chunkInterval"],[220,34,208,52],[220,35,208,53],[221,6,208,55,"_chunkInterval"],[221,20,208,69],[221,23,208,72],[221,27,208,76],[222,4,208,78],[223,4,209,2],[223,8,209,6,"_vadInterval"],[223,20,209,18],[223,22,209,20],[224,6,209,22,"clearInterval"],[224,19,209,35],[224,20,209,36,"_vadInterval"],[224,32,209,48],[224,33,209,49],[225,6,209,51,"_vadInterval"],[225,18,209,63],[225,21,209,66],[225,25,209,70],[226,4,209,72],[227,4,211,2,"vad"],[227,16,211,5],[227,17,211,5,"vad"],[227,20,211,5],[227,21,211,6,"detach"],[227,27,211,12],[227,28,211,13],[227,29,211,14],[228,4,212,2,"vad"],[228,16,212,5],[228,17,212,5,"vad"],[228,20,212,5],[228,21,212,6,"reset"],[228,26,212,11],[228,27,212,12],[228,28,212,13],[229,4,214,2],[229,8,214,6,"_webStream"],[229,18,214,16],[229,20,214,18],[230,6,214,20,"_webStream"],[230,16,214,30],[230,17,214,31,"getTracks"],[230,26,214,40],[230,27,214,41],[230,28,214,42],[230,29,214,43,"forEach"],[230,36,214,50],[230,37,214,51,"t"],[230,38,214,52],[230,42,214,56,"t"],[230,43,214,57],[230,44,214,58,"stop"],[230,48,214,62],[230,49,214,63],[230,50,214,64],[230,51,214,65],[231,6,214,67,"_webStream"],[231,16,214,77],[231,19,214,80],[231,23,214,84],[232,4,214,86],[233,4,215,2],[233,8,215,6,"_webRecorder"],[233,20,215,18],[233,22,215,20],[234,6,216,4],[234,10,216,8,"_webRecorder"],[234,22,216,20],[234,23,216,21,"state"],[234,28,216,26],[234,33,216,31],[234,44,216,42],[234,46,216,44,"_webRecorder"],[234,58,216,56],[234,59,216,57,"stop"],[234,63,216,61],[234,64,216,62],[234,65,216,63],[235,6,217,4,"_webRecorder"],[235,18,217,16],[235,21,217,19],[235,25,217,23],[236,4,218,2],[237,4,220,2],[237,8,220,6,"_expoRecording"],[237,22,220,20],[237,24,220,22],[238,6,221,4],[238,10,221,8],[239,8,222,6],[239,14,222,12,"_expoRecording"],[239,28,222,26],[239,29,222,27,"stopAndUnloadAsync"],[239,47,222,45],[239,48,222,46],[239,49,222,47],[240,6,223,4],[240,7,223,5],[240,8,223,6],[240,14,223,12],[240,15,223,14],[241,6,224,4,"_expoRecording"],[241,20,224,18],[241,23,224,21],[241,27,224,25],[242,4,225,2],[243,2,226,0],[244,2,228,7],[244,11,228,16,"isRecording"],[244,22,228,27,"isRecording"],[244,23,228,27],[244,25,228,39],[245,4,229,2],[245,11,229,9,"_recording"],[245,21,229,19],[246,2,230,0],[248,2,232,0],[249,2,233,0],[249,6,233,4,"_webStream"],[249,16,233,34],[249,19,233,37],[249,23,233,41],[250,2,234,0],[250,6,234,4,"_webRecorder"],[250,18,234,38],[250,21,234,41],[250,25,234,45],[251,2,236,0],[251,17,236,15,"_startWebRecording"],[251,35,236,33,"_startWebRecording"],[251,36,236,34,"onChunk"],[251,43,236,58],[251,45,236,75],[252,4,237,2],[252,10,237,8,"stream"],[252,16,237,14],[252,19,237,17],[252,25,237,23,"navigator"],[252,34,237,32],[252,35,237,33,"mediaDevices"],[252,47,237,45],[252,48,237,46,"getUserMedia"],[252,60,237,58],[252,61,237,59],[253,6,237,61,"audio"],[253,11,237,66],[253,13,237,68],[254,4,237,73],[254,5,237,74],[254,6,237,75],[255,4,238,2,"_webStream"],[255,14,238,12],[255,17,238,15,"stream"],[255,23,238,21],[256,4,240,2],[256,10,240,8,"recorder"],[256,18,240,16],[256,21,240,19],[256,25,240,23,"MediaRecorder"],[256,38,240,36],[256,39,240,37,"stream"],[256,45,240,43],[256,47,240,45],[257,6,241,4,"mimeType"],[257,14,241,12],[257,16,241,14],[258,4,242,2],[258,5,242,3],[258,6,242,4],[259,4,243,2,"_webRecorder"],[259,16,243,14],[259,19,243,17,"recorder"],[259,27,243,25],[260,4,245,2,"recorder"],[260,12,245,10],[260,13,245,11,"ondataavailable"],[260,28,245,26],[260,31,245,29],[260,37,245,36,"event"],[260,42,245,41],[260,46,245,46],[261,6,246,4],[261,10,246,8,"event"],[261,15,246,13],[261,16,246,14,"data"],[261,20,246,18],[261,21,246,19,"size"],[261,25,246,23],[261,28,246,26],[261,29,246,27],[261,33,246,31,"_recording"],[261,43,246,41],[261,45,246,43],[262,8,247,6],[262,14,247,12,"buffer"],[262,20,247,18],[262,23,247,21],[262,29,247,27,"event"],[262,34,247,32],[262,35,247,33,"data"],[262,39,247,37],[262,40,247,38,"arrayBuffer"],[262,51,247,49],[262,52,247,50],[262,53,247,51],[263,8,248,6],[263,14,248,12,"base64"],[263,20,248,18],[263,23,248,21,"_arrayBufferToBase64"],[263,43,248,41],[263,44,248,42,"buffer"],[263,50,248,48],[263,51,248,49],[264,8,249,6,"_seq"],[264,12,249,10],[264,14,249,12],[265,8,250,6,"onChunk"],[265,15,250,13],[265,16,250,14],[266,10,250,16,"data"],[266,14,250,20],[266,16,250,22,"base64"],[266,22,250,28],[267,10,250,30,"seq"],[267,13,250,33],[267,15,250,35,"_seq"],[267,19,250,39],[268,10,250,41,"timestamp"],[268,19,250,50],[268,21,250,52,"Date"],[268,25,250,56],[268,26,250,57,"now"],[268,29,250,60],[268,30,250,61],[268,31,250,62],[269,10,250,64,"durationMs"],[269,20,250,74],[269,22,250,76],[270,8,250,80],[270,9,250,81],[270,10,250,82],[271,6,251,4],[272,4,252,2],[272,5,252,3],[274,4,254,2],[275,4,255,2,"vad"],[275,16,255,5],[275,17,255,5,"vad"],[275,20,255,5],[275,21,255,6,"attachStream"],[275,33,255,18],[275,34,255,19,"stream"],[275,40,255,25],[275,41,255,26],[276,4,256,2,"_vadInterval"],[276,16,256,14],[276,19,256,17,"setInterval"],[276,30,256,28],[276,31,256,29],[276,37,256,35],[277,6,257,4],[277,10,257,8],[277,11,257,9,"_recording"],[277,21,257,19],[277,23,257,21],[278,6,258,4],[278,12,258,10,"event"],[278,17,258,15],[278,20,258,18,"vad"],[278,32,258,21],[278,33,258,21,"vad"],[278,36,258,21],[278,37,258,22,"sampleStream"],[278,49,258,34],[278,50,258,35],[278,51,258,36],[279,6,259,4],[279,10,259,8,"event"],[279,15,259,13],[279,20,259,18],[279,31,259,29],[279,35,259,33,"_onSpeechEnd"],[279,47,259,45],[279,49,259,47],[280,8,260,6,"console"],[280,15,260,13],[280,16,260,14,"log"],[280,19,260,17],[280,20,260,18],[280,62,260,60],[280,63,260,61],[281,8,261,6],[281,14,261,12,"cb"],[281,16,261,14],[281,19,261,17,"_onSpeechEnd"],[281,31,261,29],[282,8,262,6,"_onSpeechEnd"],[282,20,262,18],[282,23,262,21],[282,27,262,25],[283,8,263,6,"setTimeout"],[283,18,263,16],[283,19,263,17],[283,25,263,23,"cb"],[283,27,263,25],[283,28,263,26],[283,29,263,27],[283,31,263,29],[283,32,263,30],[283,33,263,31],[284,6,264,4],[285,4,265,2],[285,5,265,3],[285,7,265,5],[285,10,265,8],[285,11,265,9],[286,4,267,2,"recorder"],[286,12,267,10],[286,13,267,11,"start"],[286,18,267,16],[286,19,267,17],[286,22,267,20],[286,23,267,21],[287,2,268,0],[289,2,270,0],[290,2,271,0],[290,11,271,9,"_arrayBufferToBase64"],[290,31,271,29,"_arrayBufferToBase64"],[290,32,271,30,"buffer"],[290,38,271,49],[290,40,271,59],[291,4,272,2],[291,8,272,6,"binary"],[291,14,272,12],[291,17,272,15],[291,19,272,17],[292,4,273,2],[292,10,273,8,"bytes"],[292,15,273,13],[292,18,273,16],[292,22,273,20,"Uint8Array"],[292,32,273,30],[292,33,273,31,"buffer"],[292,39,273,37],[292,40,273,38],[293,4,274,2],[293,9,274,7],[293,13,274,11,"i"],[293,14,274,12],[293,17,274,15],[293,18,274,16],[293,20,274,18,"i"],[293,21,274,19],[293,24,274,22,"bytes"],[293,29,274,27],[293,30,274,28,"byteLength"],[293,40,274,38],[293,42,274,40,"i"],[293,43,274,41],[293,45,274,43],[293,47,274,45],[294,6,275,4,"binary"],[294,12,275,10],[294,16,275,14,"String"],[294,22,275,20],[294,23,275,21,"fromCharCode"],[294,35,275,33],[294,36,275,34,"bytes"],[294,41,275,39],[294,42,275,40,"i"],[294,43,275,41],[294,44,275,42],[294,45,275,43],[295,4,276,2],[296,4,277,2],[296,11,277,9,"btoa"],[296,15,277,13],[296,16,277,14,"binary"],[296,22,277,20],[296,23,277,21],[297,2,278,0],[298,0,278,1],[298,3]],"functionMap":{"names":["<global>","startRecording","recording.setOnRecordingStatusUpdate$argument_0","setTimeout$argument_0","stopAndGetAudio","_webStream.getTracks.forEach$argument_0","FileSystem.deleteAsync._catch$argument_0","stopRecording","isRecording","_startWebRecording","ondataavailable","setInterval$argument_0","_arrayBufferToBase64"],"mappings":"AAA;OCuC;2CCuE;uBCS,UD;ODG;CDiB;OIS;mCCa,aD;8DE0B,QF;CJW;OOK;mDFU,aE;CPY;OQE;CRE;ASM;6BCS;GDO;6BEI;iBRO,UQ;GFE;CTG;AYG;CZO"},"hasCjsExports":false},"type":"js/module"}]}