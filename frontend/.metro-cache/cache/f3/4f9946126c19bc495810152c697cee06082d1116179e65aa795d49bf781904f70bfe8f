{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./vad/local-vad","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":299},"end":{"line":9,"column":38,"index":337}}],"key":"+a18EXtkk+xbuwN1/2+ufd1GJ4A=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":55,"column":24,"index":1577},"end":{"line":55,"column":42,"index":1595}}],"key":"Zo2OD1UlwSKfA7XPavzmMQoVCN4=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.startRecording = startRecording;\n  exports.stopRecording = stopRecording;\n  exports.isRecording = isRecording;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _vadLocalVad = require(_dependencyMap[1], \"./vad/local-vad\");\n  /**\n   * Audio Recorder â€” cross-platform audio capture with VAD auto-stop.\n   *\n   * Uses expo-av on native, MediaRecorder on web.\n   * Outputs ~250ms audio chunks as base64 for WS streaming.\n   * VAD drives auto-stop after silence detected (Siri-like behaviour).\n   */\n\n  let _recording = false;\n  let _seq = 0;\n  let _chunkInterval = null;\n  let _vadInterval = null;\n  let _onSpeechEnd = null;\n\n  // For native, we'd use expo-av Audio.Recording\n  let _expoRecording = null;\n\n  /**\n   * Start audio recording and emit chunks every ~250ms.\n   * onSpeechEnd is called automatically when VAD detects end-of-utterance (Siri-like).\n   */\n  async function startRecording(onChunk, onSpeechEnd) {\n    if (_recording) return;\n    _recording = true;\n    _seq = 0;\n    _onSpeechEnd = onSpeechEnd || null;\n    _vadLocalVad.vad.reset();\n    if (Platform.default.OS === 'web') {\n      // Web: Use MediaRecorder API if available, else simulate\n      try {\n        await _startWebRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Web recording not available, using simulation:', err);\n        _startSimulatedRecording(onChunk);\n      }\n    } else {\n      // Native: Use expo-av with metering for VAD\n      try {\n        const {\n          Audio\n        } = require(_dependencyMap[2], \"expo-av\");\n\n        // Request microphone permission first\n        const {\n          granted\n        } = await Audio.requestPermissionsAsync();\n        if (!granted) {\n          console.warn('[Recorder] Microphone permission denied, using simulated recording');\n          _startSimulatedRecording(onChunk);\n          return;\n        }\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true\n        });\n        const recording = new Audio.Recording();\n        await recording.prepareToRecordAsync({\n          ...Audio.RecordingOptionsPresets.HIGH_QUALITY,\n          isMeteringEnabled: true\n        });\n\n        // Wire VAD via metering updates\n        recording.setProgressUpdateInterval(100);\n        recording.setOnRecordingStatusUpdate(status => {\n          if (!_recording) return;\n          if (status.metering !== undefined) {\n            // Convert dBFS (typically -160 to 0) to linear RMS for VAD\n            const rms = Math.pow(10, status.metering / 20);\n            const event = _vadLocalVad.vad.processEnergy(rms);\n            if (event === 'speechEnd' && _onSpeechEnd) {\n              console.log('[Recorder] VAD: speechEnd detected (native)');\n              _onSpeechEnd();\n            }\n          }\n        });\n        await recording.startAsync();\n        _expoRecording = recording;\n\n        // Emit simulated chunks for WS streaming (expo-av doesn't stream directly)\n        _startSimulatedRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Native recording unavailable, using simulated:', err?.message || err);\n        _startSimulatedRecording(onChunk);\n      }\n    }\n  }\n\n  /**\n   * Stop recording and cleanup.\n   */\n  async function stopRecording() {\n    _recording = false;\n    _onSpeechEnd = null;\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') {\n        _webRecorder.stop();\n      }\n      _webRecorder = null;\n    }\n    if (_expoRecording) {\n      try {\n        await _expoRecording.stopAndUnloadAsync();\n      } catch {\n        // ignore\n      }\n      _expoRecording = null;\n    }\n  }\n  function isRecording() {\n    return _recording;\n  }\n\n  // ---- Web MediaRecorder ----\n  let _webStream = null;\n  let _webRecorder = null;\n  async function _startWebRecording(onChunk) {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    _webStream = stream;\n    const recorder = new MediaRecorder(stream, {\n      mimeType: 'audio/webm;codecs=opus'\n    });\n    _webRecorder = recorder;\n    recorder.ondataavailable = async event => {\n      if (event.data.size > 0 && _recording) {\n        const buffer = await event.data.arrayBuffer();\n        const base64 = _arrayBufferToBase64(buffer);\n        _seq++;\n        onChunk({\n          data: base64,\n          seq: _seq,\n          timestamp: Date.now(),\n          durationMs: 250\n        });\n      }\n    };\n\n    // Attach VAD to the live stream for auto-stop\n    _vadLocalVad.vad.attachStream(stream);\n    _vadInterval = setInterval(() => {\n      if (!_recording) return;\n      const event = _vadLocalVad.vad.sampleStream();\n      if (event === 'speechEnd' && _onSpeechEnd) {\n        console.log('[Recorder] VAD: speechEnd detected (web)');\n        _onSpeechEnd();\n      }\n    }, 100);\n\n    // Request data every 250ms\n    recorder.start(250);\n  }\n\n  // ---- Simulated Recording (fallback) ----\n  function _startSimulatedRecording(onChunk) {\n    _chunkInterval = setInterval(() => {\n      if (!_recording) return;\n      _seq++;\n\n      // Generate a small fake audio chunk (~1KB of random data)\n      const fakeData = new Uint8Array(1024);\n      for (let i = 0; i < fakeData.length; i++) {\n        fakeData[i] = Math.floor(Math.random() * 256);\n      }\n      const base64 = _uint8ToBase64(fakeData);\n      onChunk({\n        data: base64,\n        seq: _seq,\n        timestamp: Date.now(),\n        durationMs: 250\n      });\n    }, 250);\n  }\n\n  // ---- Utils ----\n  function _arrayBufferToBase64(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n  }\n  function _uint8ToBase64(data) {\n    let binary = '';\n    for (let i = 0; i < data.length; i++) {\n      binary += String.fromCharCode(data[i]);\n    }\n    return btoa(binary);\n  }\n});","lineCount":222,"map":[[12,2,33,0,"exports"],[12,9,33,0],[12,10,33,0,"startRecording"],[12,24,33,0],[12,27,33,0,"startRecording"],[12,41,33,0],[13,2,106,0,"exports"],[13,9,106,0],[13,10,106,0,"stopRecording"],[13,23,106,0],[13,26,106,0,"stopRecording"],[13,39,106,0],[14,2,144,0,"exports"],[14,9,144,0],[14,10,144,0,"isRecording"],[14,21,144,0],[14,24,144,0,"isRecording"],[14,35,144,0],[15,2,146,1],[15,6,146,1,"_reactNativeWebDistExportsPlatform"],[15,40,146,1],[15,43,146,1,"require"],[15,50,146,1],[15,51,146,1,"_dependencyMap"],[15,65,146,1],[16,2,146,1],[16,6,146,1,"Platform"],[16,14,146,1],[16,17,146,1,"_interopDefault"],[16,32,146,1],[16,33,146,1,"_reactNativeWebDistExportsPlatform"],[16,67,146,1],[17,2,9,0],[17,6,9,0,"_vadLocalVad"],[17,18,9,0],[17,21,9,0,"require"],[17,28,9,0],[17,29,9,0,"_dependencyMap"],[17,43,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[26,2,20,0],[26,6,20,4,"_recording"],[26,16,20,14],[26,19,20,17],[26,24,20,22],[27,2,21,0],[27,6,21,4,"_seq"],[27,10,21,8],[27,13,21,11],[27,14,21,12],[28,2,22,0],[28,6,22,4,"_chunkInterval"],[28,20,22,57],[28,23,22,60],[28,27,22,64],[29,2,23,0],[29,6,23,4,"_vadInterval"],[29,18,23,55],[29,21,23,58],[29,25,23,62],[30,2,24,0],[30,6,24,4,"_onSpeechEnd"],[30,18,24,37],[30,21,24,40],[30,25,24,44],[32,2,26,0],[33,2,27,0],[33,6,27,4,"_expoRecording"],[33,20,27,23],[33,23,27,26],[33,27,27,30],[35,2,29,0],[36,0,30,0],[37,0,31,0],[38,0,32,0],[39,2,33,7],[39,17,33,22,"startRecording"],[39,31,33,36,"startRecording"],[39,32,34,2,"onChunk"],[39,39,34,26],[39,41,35,2,"onSpeechEnd"],[39,52,35,26],[39,54,36,17],[40,4,37,2],[40,8,37,6,"_recording"],[40,18,37,16],[40,20,37,18],[41,4,39,2,"_recording"],[41,14,39,12],[41,17,39,15],[41,21,39,19],[42,4,40,2,"_seq"],[42,8,40,6],[42,11,40,9],[42,12,40,10],[43,4,41,2,"_onSpeechEnd"],[43,16,41,14],[43,19,41,17,"onSpeechEnd"],[43,30,41,28],[43,34,41,32],[43,38,41,36],[44,4,42,2,"vad"],[44,16,42,5],[44,17,42,5,"vad"],[44,20,42,5],[44,21,42,6,"reset"],[44,26,42,11],[44,27,42,12],[44,28,42,13],[45,4,44,2],[45,8,44,6,"Platform"],[45,16,44,14],[45,17,44,14,"default"],[45,24,44,14],[45,25,44,15,"OS"],[45,27,44,17],[45,32,44,22],[45,37,44,27],[45,39,44,29],[46,6,45,4],[47,6,46,4],[47,10,46,8],[48,8,47,6],[48,14,47,12,"_startWebRecording"],[48,32,47,30],[48,33,47,31,"onChunk"],[48,40,47,38],[48,41,47,39],[49,6,48,4],[49,7,48,5],[49,8,48,6],[49,15,48,13,"err"],[49,18,48,16],[49,20,48,18],[50,8,49,6,"console"],[50,15,49,13],[50,16,49,14,"warn"],[50,20,49,18],[50,21,49,19],[50,80,49,78],[50,82,49,80,"err"],[50,85,49,83],[50,86,49,84],[51,8,50,6,"_startSimulatedRecording"],[51,32,50,30],[51,33,50,31,"onChunk"],[51,40,50,38],[51,41,50,39],[52,6,51,4],[53,4,52,2],[53,5,52,3],[53,11,52,9],[54,6,53,4],[55,6,54,4],[55,10,54,8],[56,8,55,6],[56,14,55,12],[57,10,55,14,"Audio"],[58,8,55,20],[58,9,55,21],[58,12,55,24,"require"],[58,19,55,31],[58,20,55,31,"_dependencyMap"],[58,34,55,31],[58,48,55,41],[58,49,55,42],[60,8,57,6],[61,8,58,6],[61,14,58,12],[62,10,58,14,"granted"],[63,8,58,22],[63,9,58,23],[63,12,58,26],[63,18,58,32,"Audio"],[63,23,58,37],[63,24,58,38,"requestPermissionsAsync"],[63,47,58,61],[63,48,58,62],[63,49,58,63],[64,8,59,6],[64,12,59,10],[64,13,59,11,"granted"],[64,20,59,18],[64,22,59,20],[65,10,60,8,"console"],[65,17,60,15],[65,18,60,16,"warn"],[65,22,60,20],[65,23,60,21],[65,91,60,89],[65,92,60,90],[66,10,61,8,"_startSimulatedRecording"],[66,34,61,32],[66,35,61,33,"onChunk"],[66,42,61,40],[66,43,61,41],[67,10,62,8],[68,8,63,6],[69,8,65,6],[69,14,65,12,"Audio"],[69,19,65,17],[69,20,65,18,"setAudioModeAsync"],[69,37,65,35],[69,38,65,36],[70,10,66,8,"allowsRecordingIOS"],[70,28,66,26],[70,30,66,28],[70,34,66,32],[71,10,67,8,"playsInSilentModeIOS"],[71,30,67,28],[71,32,67,30],[72,8,68,6],[72,9,68,7],[72,10,68,8],[73,8,70,6],[73,14,70,12,"recording"],[73,23,70,21],[73,26,70,24],[73,30,70,28,"Audio"],[73,35,70,33],[73,36,70,34,"Recording"],[73,45,70,43],[73,46,70,44],[73,47,70,45],[74,8,71,6],[74,14,71,12,"recording"],[74,23,71,21],[74,24,71,22,"prepareToRecordAsync"],[74,44,71,42],[74,45,71,43],[75,10,72,8],[75,13,72,11,"Audio"],[75,18,72,16],[75,19,72,17,"RecordingOptionsPresets"],[75,42,72,40],[75,43,72,41,"HIGH_QUALITY"],[75,55,72,53],[76,10,73,8,"isMeteringEnabled"],[76,27,73,25],[76,29,73,27],[77,8,74,6],[77,9,74,7],[77,10,74,8],[79,8,76,6],[80,8,77,6,"recording"],[80,17,77,15],[80,18,77,16,"setProgressUpdateInterval"],[80,43,77,41],[80,44,77,42],[80,47,77,45],[80,48,77,46],[81,8,78,6,"recording"],[81,17,78,15],[81,18,78,16,"setOnRecordingStatusUpdate"],[81,44,78,42],[81,45,78,44,"status"],[81,51,78,55],[81,55,78,60],[82,10,79,8],[82,14,79,12],[82,15,79,13,"_recording"],[82,25,79,23],[82,27,79,25],[83,10,80,8],[83,14,80,12,"status"],[83,20,80,18],[83,21,80,19,"metering"],[83,29,80,27],[83,34,80,32,"undefined"],[83,43,80,41],[83,45,80,43],[84,12,81,10],[85,12,82,10],[85,18,82,16,"rms"],[85,21,82,19],[85,24,82,22,"Math"],[85,28,82,26],[85,29,82,27,"pow"],[85,32,82,30],[85,33,82,31],[85,35,82,33],[85,37,82,35,"status"],[85,43,82,41],[85,44,82,42,"metering"],[85,52,82,50],[85,55,82,53],[85,57,82,55],[85,58,82,56],[86,12,83,10],[86,18,83,16,"event"],[86,23,83,21],[86,26,83,24,"vad"],[86,38,83,27],[86,39,83,27,"vad"],[86,42,83,27],[86,43,83,28,"processEnergy"],[86,56,83,41],[86,57,83,42,"rms"],[86,60,83,45],[86,61,83,46],[87,12,84,10],[87,16,84,14,"event"],[87,21,84,19],[87,26,84,24],[87,37,84,35],[87,41,84,39,"_onSpeechEnd"],[87,53,84,51],[87,55,84,53],[88,14,85,12,"console"],[88,21,85,19],[88,22,85,20,"log"],[88,25,85,23],[88,26,85,24],[88,71,85,69],[88,72,85,70],[89,14,86,12,"_onSpeechEnd"],[89,26,86,24],[89,27,86,25],[89,28,86,26],[90,12,87,10],[91,10,88,8],[92,8,89,6],[92,9,89,7],[92,10,89,8],[93,8,91,6],[93,14,91,12,"recording"],[93,23,91,21],[93,24,91,22,"startAsync"],[93,34,91,32],[93,35,91,33],[93,36,91,34],[94,8,92,6,"_expoRecording"],[94,22,92,20],[94,25,92,23,"recording"],[94,34,92,32],[96,8,94,6],[97,8,95,6,"_startSimulatedRecording"],[97,32,95,30],[97,33,95,31,"onChunk"],[97,40,95,38],[97,41,95,39],[98,6,96,4],[98,7,96,5],[98,8,96,6],[98,15,96,13,"err"],[98,18,96,16],[98,20,96,18],[99,8,97,6,"console"],[99,15,97,13],[99,16,97,14,"warn"],[99,20,97,18],[99,21,97,19],[99,80,97,78],[99,82,97,81,"err"],[99,85,97,84],[99,87,97,96,"message"],[99,94,97,103],[99,98,97,107,"err"],[99,101,97,110],[99,102,97,111],[100,8,98,6,"_startSimulatedRecording"],[100,32,98,30],[100,33,98,31,"onChunk"],[100,40,98,38],[100,41,98,39],[101,6,99,4],[102,4,100,2],[103,2,101,0],[105,2,103,0],[106,0,104,0],[107,0,105,0],[108,2,106,7],[108,17,106,22,"stopRecording"],[108,30,106,35,"stopRecording"],[108,31,106,35],[108,33,106,53],[109,4,107,2,"_recording"],[109,14,107,12],[109,17,107,15],[109,22,107,20],[110,4,108,2,"_onSpeechEnd"],[110,16,108,14],[110,19,108,17],[110,23,108,21],[111,4,110,2],[111,8,110,6,"_chunkInterval"],[111,22,110,20],[111,24,110,22],[112,6,111,4,"clearInterval"],[112,19,111,17],[112,20,111,18,"_chunkInterval"],[112,34,111,32],[112,35,111,33],[113,6,112,4,"_chunkInterval"],[113,20,112,18],[113,23,112,21],[113,27,112,25],[114,4,113,2],[115,4,115,2],[115,8,115,6,"_vadInterval"],[115,20,115,18],[115,22,115,20],[116,6,116,4,"clearInterval"],[116,19,116,17],[116,20,116,18,"_vadInterval"],[116,32,116,30],[116,33,116,31],[117,6,117,4,"_vadInterval"],[117,18,117,16],[117,21,117,19],[117,25,117,23],[118,4,118,2],[119,4,120,2,"vad"],[119,16,120,5],[119,17,120,5,"vad"],[119,20,120,5],[119,21,120,6,"detach"],[119,27,120,12],[119,28,120,13],[119,29,120,14],[120,4,121,2,"vad"],[120,16,121,5],[120,17,121,5,"vad"],[120,20,121,5],[120,21,121,6,"reset"],[120,26,121,11],[120,27,121,12],[120,28,121,13],[121,4,123,2],[121,8,123,6,"_webStream"],[121,18,123,16],[121,20,123,18],[122,6,124,4,"_webStream"],[122,16,124,14],[122,17,124,15,"getTracks"],[122,26,124,24],[122,27,124,25],[122,28,124,26],[122,29,124,27,"forEach"],[122,36,124,34],[122,37,124,35,"t"],[122,38,124,36],[122,42,124,40,"t"],[122,43,124,41],[122,44,124,42,"stop"],[122,48,124,46],[122,49,124,47],[122,50,124,48],[122,51,124,49],[123,6,125,4,"_webStream"],[123,16,125,14],[123,19,125,17],[123,23,125,21],[124,4,126,2],[125,4,127,2],[125,8,127,6,"_webRecorder"],[125,20,127,18],[125,22,127,20],[126,6,128,4],[126,10,128,8,"_webRecorder"],[126,22,128,20],[126,23,128,21,"state"],[126,28,128,26],[126,33,128,31],[126,44,128,42],[126,46,128,44],[127,8,129,6,"_webRecorder"],[127,20,129,18],[127,21,129,19,"stop"],[127,25,129,23],[127,26,129,24],[127,27,129,25],[128,6,130,4],[129,6,131,4,"_webRecorder"],[129,18,131,16],[129,21,131,19],[129,25,131,23],[130,4,132,2],[131,4,134,2],[131,8,134,6,"_expoRecording"],[131,22,134,20],[131,24,134,22],[132,6,135,4],[132,10,135,8],[133,8,136,6],[133,14,136,12,"_expoRecording"],[133,28,136,26],[133,29,136,27,"stopAndUnloadAsync"],[133,47,136,45],[133,48,136,46],[133,49,136,47],[134,6,137,4],[134,7,137,5],[134,8,137,6],[134,14,137,12],[135,8,138,6],[136,6,138,6],[137,6,140,4,"_expoRecording"],[137,20,140,18],[137,23,140,21],[137,27,140,25],[138,4,141,2],[139,2,142,0],[140,2,144,7],[140,11,144,16,"isRecording"],[140,22,144,27,"isRecording"],[140,23,144,27],[140,25,144,39],[141,4,145,2],[141,11,145,9,"_recording"],[141,21,145,19],[142,2,146,0],[144,2,148,0],[145,2,149,0],[145,6,149,4,"_webStream"],[145,16,149,34],[145,19,149,37],[145,23,149,41],[146,2,150,0],[146,6,150,4,"_webRecorder"],[146,18,150,38],[146,21,150,41],[146,25,150,45],[147,2,152,0],[147,17,152,15,"_startWebRecording"],[147,35,152,33,"_startWebRecording"],[147,36,152,34,"onChunk"],[147,43,152,58],[147,45,152,75],[148,4,153,2],[148,10,153,8,"stream"],[148,16,153,14],[148,19,153,17],[148,25,153,23,"navigator"],[148,34,153,32],[148,35,153,33,"mediaDevices"],[148,47,153,45],[148,48,153,46,"getUserMedia"],[148,60,153,58],[148,61,153,59],[149,6,153,61,"audio"],[149,11,153,66],[149,13,153,68],[150,4,153,73],[150,5,153,74],[150,6,153,75],[151,4,154,2,"_webStream"],[151,14,154,12],[151,17,154,15,"stream"],[151,23,154,21],[152,4,156,2],[152,10,156,8,"recorder"],[152,18,156,16],[152,21,156,19],[152,25,156,23,"MediaRecorder"],[152,38,156,36],[152,39,156,37,"stream"],[152,45,156,43],[152,47,156,45],[153,6,157,4,"mimeType"],[153,14,157,12],[153,16,157,14],[154,4,158,2],[154,5,158,3],[154,6,158,4],[155,4,159,2,"_webRecorder"],[155,16,159,14],[155,19,159,17,"recorder"],[155,27,159,25],[156,4,161,2,"recorder"],[156,12,161,10],[156,13,161,11,"ondataavailable"],[156,28,161,26],[156,31,161,29],[156,37,161,36,"event"],[156,42,161,41],[156,46,161,46],[157,6,162,4],[157,10,162,8,"event"],[157,15,162,13],[157,16,162,14,"data"],[157,20,162,18],[157,21,162,19,"size"],[157,25,162,23],[157,28,162,26],[157,29,162,27],[157,33,162,31,"_recording"],[157,43,162,41],[157,45,162,43],[158,8,163,6],[158,14,163,12,"buffer"],[158,20,163,18],[158,23,163,21],[158,29,163,27,"event"],[158,34,163,32],[158,35,163,33,"data"],[158,39,163,37],[158,40,163,38,"arrayBuffer"],[158,51,163,49],[158,52,163,50],[158,53,163,51],[159,8,164,6],[159,14,164,12,"base64"],[159,20,164,18],[159,23,164,21,"_arrayBufferToBase64"],[159,43,164,41],[159,44,164,42,"buffer"],[159,50,164,48],[159,51,164,49],[160,8,165,6,"_seq"],[160,12,165,10],[160,14,165,12],[161,8,166,6,"onChunk"],[161,15,166,13],[161,16,166,14],[162,10,167,8,"data"],[162,14,167,12],[162,16,167,14,"base64"],[162,22,167,20],[163,10,168,8,"seq"],[163,13,168,11],[163,15,168,13,"_seq"],[163,19,168,17],[164,10,169,8,"timestamp"],[164,19,169,17],[164,21,169,19,"Date"],[164,25,169,23],[164,26,169,24,"now"],[164,29,169,27],[164,30,169,28],[164,31,169,29],[165,10,170,8,"durationMs"],[165,20,170,18],[165,22,170,20],[166,8,171,6],[166,9,171,7],[166,10,171,8],[167,6,172,4],[168,4,173,2],[168,5,173,3],[170,4,175,2],[171,4,176,2,"vad"],[171,16,176,5],[171,17,176,5,"vad"],[171,20,176,5],[171,21,176,6,"attachStream"],[171,33,176,18],[171,34,176,19,"stream"],[171,40,176,25],[171,41,176,26],[172,4,177,2,"_vadInterval"],[172,16,177,14],[172,19,177,17,"setInterval"],[172,30,177,28],[172,31,177,29],[172,37,177,35],[173,6,178,4],[173,10,178,8],[173,11,178,9,"_recording"],[173,21,178,19],[173,23,178,21],[174,6,179,4],[174,12,179,10,"event"],[174,17,179,15],[174,20,179,18,"vad"],[174,32,179,21],[174,33,179,21,"vad"],[174,36,179,21],[174,37,179,22,"sampleStream"],[174,49,179,34],[174,50,179,35],[174,51,179,36],[175,6,180,4],[175,10,180,8,"event"],[175,15,180,13],[175,20,180,18],[175,31,180,29],[175,35,180,33,"_onSpeechEnd"],[175,47,180,45],[175,49,180,47],[176,8,181,6,"console"],[176,15,181,13],[176,16,181,14,"log"],[176,19,181,17],[176,20,181,18],[176,62,181,60],[176,63,181,61],[177,8,182,6,"_onSpeechEnd"],[177,20,182,18],[177,21,182,19],[177,22,182,20],[178,6,183,4],[179,4,184,2],[179,5,184,3],[179,7,184,5],[179,10,184,8],[179,11,184,9],[181,4,186,2],[182,4,187,2,"recorder"],[182,12,187,10],[182,13,187,11,"start"],[182,18,187,16],[182,19,187,17],[182,22,187,20],[182,23,187,21],[183,2,188,0],[185,2,190,0],[186,2,191,0],[186,11,191,9,"_startSimulatedRecording"],[186,35,191,33,"_startSimulatedRecording"],[186,36,191,34,"onChunk"],[186,43,191,58],[186,45,191,66],[187,4,192,2,"_chunkInterval"],[187,18,192,16],[187,21,192,19,"setInterval"],[187,32,192,30],[187,33,192,31],[187,39,192,37],[188,6,193,4],[188,10,193,8],[188,11,193,9,"_recording"],[188,21,193,19],[188,23,193,21],[189,6,194,4,"_seq"],[189,10,194,8],[189,12,194,10],[191,6,196,4],[192,6,197,4],[192,12,197,10,"fakeData"],[192,20,197,18],[192,23,197,21],[192,27,197,25,"Uint8Array"],[192,37,197,35],[192,38,197,36],[192,42,197,40],[192,43,197,41],[193,6,198,4],[193,11,198,9],[193,15,198,13,"i"],[193,16,198,14],[193,19,198,17],[193,20,198,18],[193,22,198,20,"i"],[193,23,198,21],[193,26,198,24,"fakeData"],[193,34,198,32],[193,35,198,33,"length"],[193,41,198,39],[193,43,198,41,"i"],[193,44,198,42],[193,46,198,44],[193,48,198,46],[194,8,199,6,"fakeData"],[194,16,199,14],[194,17,199,15,"i"],[194,18,199,16],[194,19,199,17],[194,22,199,20,"Math"],[194,26,199,24],[194,27,199,25,"floor"],[194,32,199,30],[194,33,199,31,"Math"],[194,37,199,35],[194,38,199,36,"random"],[194,44,199,42],[194,45,199,43],[194,46,199,44],[194,49,199,47],[194,52,199,50],[194,53,199,51],[195,6,200,4],[196,6,201,4],[196,12,201,10,"base64"],[196,18,201,16],[196,21,201,19,"_uint8ToBase64"],[196,35,201,33],[196,36,201,34,"fakeData"],[196,44,201,42],[196,45,201,43],[197,6,203,4,"onChunk"],[197,13,203,11],[197,14,203,12],[198,8,204,6,"data"],[198,12,204,10],[198,14,204,12,"base64"],[198,20,204,18],[199,8,205,6,"seq"],[199,11,205,9],[199,13,205,11,"_seq"],[199,17,205,15],[200,8,206,6,"timestamp"],[200,17,206,15],[200,19,206,17,"Date"],[200,23,206,21],[200,24,206,22,"now"],[200,27,206,25],[200,28,206,26],[200,29,206,27],[201,8,207,6,"durationMs"],[201,18,207,16],[201,20,207,18],[202,6,208,4],[202,7,208,5],[202,8,208,6],[203,4,209,2],[203,5,209,3],[203,7,209,5],[203,10,209,8],[203,11,209,9],[204,2,210,0],[206,2,212,0],[207,2,213,0],[207,11,213,9,"_arrayBufferToBase64"],[207,31,213,29,"_arrayBufferToBase64"],[207,32,213,30,"buffer"],[207,38,213,49],[207,40,213,59],[208,4,214,2],[208,8,214,6,"binary"],[208,14,214,12],[208,17,214,15],[208,19,214,17],[209,4,215,2],[209,10,215,8,"bytes"],[209,15,215,13],[209,18,215,16],[209,22,215,20,"Uint8Array"],[209,32,215,30],[209,33,215,31,"buffer"],[209,39,215,37],[209,40,215,38],[210,4,216,2],[210,9,216,7],[210,13,216,11,"i"],[210,14,216,12],[210,17,216,15],[210,18,216,16],[210,20,216,18,"i"],[210,21,216,19],[210,24,216,22,"bytes"],[210,29,216,27],[210,30,216,28,"byteLength"],[210,40,216,38],[210,42,216,40,"i"],[210,43,216,41],[210,45,216,43],[210,47,216,45],[211,6,217,4,"binary"],[211,12,217,10],[211,16,217,14,"String"],[211,22,217,20],[211,23,217,21,"fromCharCode"],[211,35,217,33],[211,36,217,34,"bytes"],[211,41,217,39],[211,42,217,40,"i"],[211,43,217,41],[211,44,217,42],[211,45,217,43],[212,4,218,2],[213,4,219,2],[213,11,219,9,"btoa"],[213,15,219,13],[213,16,219,14,"binary"],[213,22,219,20],[213,23,219,21],[214,2,220,0],[215,2,222,0],[215,11,222,9,"_uint8ToBase64"],[215,25,222,23,"_uint8ToBase64"],[215,26,222,24,"data"],[215,30,222,40],[215,32,222,50],[216,4,223,2],[216,8,223,6,"binary"],[216,14,223,12],[216,17,223,15],[216,19,223,17],[217,4,224,2],[217,9,224,7],[217,13,224,11,"i"],[217,14,224,12],[217,17,224,15],[217,18,224,16],[217,20,224,18,"i"],[217,21,224,19],[217,24,224,22,"data"],[217,28,224,26],[217,29,224,27,"length"],[217,35,224,33],[217,37,224,35,"i"],[217,38,224,36],[217,40,224,38],[217,42,224,40],[218,6,225,4,"binary"],[218,12,225,10],[218,16,225,14,"String"],[218,22,225,20],[218,23,225,21,"fromCharCode"],[218,35,225,33],[218,36,225,34,"data"],[218,40,225,38],[218,41,225,39,"i"],[218,42,225,40],[218,43,225,41],[218,44,225,42],[219,4,226,2],[220,4,227,2],[220,11,227,9,"btoa"],[220,15,227,13],[220,16,227,14,"binary"],[220,22,227,20],[220,23,227,21],[221,2,228,0],[222,0,228,1],[222,3]],"functionMap":{"names":["<global>","startRecording","recording.setOnRecordingStatusUpdate$argument_0","stopRecording","_webStream.getTracks.forEach$argument_0","isRecording","_startWebRecording","ondataavailable","setInterval$argument_0","_startSimulatedRecording","_arrayBufferToBase64","_uint8ToBase64"],"mappings":"AAA;OCgC;2CC6C;ODW;CDY;OGK;mCCkB,aD;CHkB;OKE;CLE;AMM;6BCS;GDY;6BEI;GFO;CNI;ASG;+BDC;GCiB;CTC;AUG;CVO;AWE;CXM"},"hasCjsExports":false},"type":"js/module"}]}