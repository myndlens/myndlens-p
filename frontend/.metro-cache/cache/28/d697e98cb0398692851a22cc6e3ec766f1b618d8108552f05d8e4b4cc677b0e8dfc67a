{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":189},"end":{"line":7,"column":40,"index":229}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-speech","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":50,"column":21,"index":1132},"end":{"line":50,"column":43,"index":1154}},{"start":{"line":105,"column":19,"index":2352},"end":{"line":105,"column":41,"index":2374}}],"key":"LDPUbC/85yT4sQ+Lbzn6/fUlPKc=","exportNames":["*"],"imports":2,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.speak = speak;\n  exports.stop = stop;\n  exports.isSpeaking = isSpeaking;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  /**\n   * TTS Player â€” text-to-speech playback with interruption.\n   *\n   * Uses expo-speech on native, Web Speech API on web.\n   * Supports interruption: calling stop() cancels current speech.\n   */\n\n  var _isSpeaking = false;\n  var _onComplete = null;\n  var _onStart = null;\n\n  /**\n   * Speak text using TTS. Calls onComplete when finished.\n   */\n  function speak(_x, _x2) {\n    return _speak.apply(this, arguments);\n  }\n  /**\n   * Stop current speech immediately.\n   */\n  function _speak() {\n    _speak = (0, _asyncToGenerator.default)(function* (text, options) {\n      // Interrupt any current speech\n      yield stop();\n      _onComplete = options?.onComplete || null;\n      _onStart = options?.onStart || null;\n      if (_reactNative.Platform.OS === 'web') {\n        _speakWeb(text, options);\n      } else {\n        _speakNative(text, options);\n      }\n    });\n    return _speak.apply(this, arguments);\n  }\n  function stop() {\n    return _stop.apply(this, arguments);\n  }\n  /**\n   * Check if currently speaking.\n   */\n  function _stop() {\n    _stop = (0, _asyncToGenerator.default)(function* () {\n      _isSpeaking = false;\n      if (_reactNative.Platform.OS === 'web') {\n        if (typeof window !== 'undefined' && window.speechSynthesis) {\n          window.speechSynthesis.cancel();\n        }\n      } else {\n        try {\n          var Speech = require(_dependencyMap[2], \"expo-speech\");\n          yield Speech.stop();\n        } catch (e) {\n          // ignore\n        }\n      }\n    });\n    return _stop.apply(this, arguments);\n  }\n  function isSpeaking() {\n    return _isSpeaking;\n  }\n\n  // ---- Web Speech API ----\n  function _speakWeb(text, options) {\n    if (typeof window === 'undefined' || !window.speechSynthesis) {\n      console.warn('[TTS] Web Speech API not available');\n      options?.onComplete?.();\n      return;\n    }\n    var utterance = new SpeechSynthesisUtterance(text);\n    utterance.rate = options?.rate || 1.0;\n    utterance.pitch = options?.pitch || 1.0;\n    utterance.lang = 'en-US';\n    utterance.onstart = () => {\n      _isSpeaking = true;\n      options?.onStart?.();\n    };\n    utterance.onend = () => {\n      _isSpeaking = false;\n      options?.onComplete?.();\n    };\n    utterance.onerror = () => {\n      _isSpeaking = false;\n      options?.onComplete?.();\n    };\n    window.speechSynthesis.speak(utterance);\n  }\n\n  // ---- Native (expo-speech) ----\n  function _speakNative(text, options) {\n    try {\n      var Speech = require(_dependencyMap[2], \"expo-speech\");\n      _isSpeaking = true;\n      options?.onStart?.();\n      Speech.speak(text, {\n        rate: options?.rate || 1.0,\n        pitch: options?.pitch || 1.0,\n        language: 'en-US',\n        onDone: () => {\n          _isSpeaking = false;\n          options?.onComplete?.();\n        },\n        onError: () => {\n          _isSpeaking = false;\n          options?.onComplete?.();\n        }\n      });\n    } catch (e) {\n      console.error('[TTS] Native speech failed:', e);\n      _isSpeaking = false;\n      options?.onComplete?.();\n    }\n  }\n});","lineCount":131,"map":[[12,2,16,0,"exports"],[12,9,16,0],[12,10,16,0,"speak"],[12,15,16,0],[12,18,16,0,"speak"],[12,23,16,0],[13,2,41,0,"exports"],[13,9,41,0],[13,10,41,0,"stop"],[13,14,41,0],[13,17,41,0,"stop"],[13,21,41,0],[14,2,61,0,"exports"],[14,9,61,0],[14,10,61,0,"isSpeaking"],[14,20,61,0],[14,23,61,0,"isSpeaking"],[14,33,61,0],[15,2,63,1],[15,6,63,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,42,63,1],[15,45,63,1,"require"],[15,52,63,1],[15,53,63,1,"_dependencyMap"],[15,67,63,1],[16,2,63,1],[16,6,63,1,"_asyncToGenerator"],[16,23,63,1],[16,26,63,1,"_interopDefault"],[16,41,63,1],[16,42,63,1,"_babelRuntimeHelpersAsyncToGenerator"],[16,78,63,1],[17,2,7,0],[17,6,7,0,"_reactNative"],[17,18,7,0],[17,21,7,0,"require"],[17,28,7,0],[17,29,7,0,"_dependencyMap"],[17,43,7,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[25,2,9,0],[25,6,9,4,"_isSpeaking"],[25,17,9,15],[25,20,9,18],[25,25,9,23],[26,2,10,0],[26,6,10,4,"_onComplete"],[26,17,10,36],[26,20,10,39],[26,24,10,43],[27,2,11,0],[27,6,11,4,"_onStart"],[27,14,11,33],[27,17,11,36],[27,21,11,40],[29,2,13,0],[30,0,14,0],[31,0,15,0],[32,2,13,0],[32,11,16,22,"speak"],[32,16,16,27,"speak"],[32,17,16,27,"_x"],[32,19,16,27],[32,21,16,27,"_x2"],[32,24,16,27],[33,4,16,27],[33,11,16,27,"_speak"],[33,17,16,27],[33,18,16,27,"apply"],[33,23,16,27],[33,30,16,27,"arguments"],[33,39,16,27],[34,2,16,27],[35,2,38,0],[36,0,39,0],[37,0,40,0],[38,2,38,0],[38,11,38,0,"_speak"],[38,18,38,0],[39,4,38,0,"_speak"],[39,10,38,0],[39,17,38,0,"_asyncToGenerator"],[39,34,38,0],[39,35,38,0,"default"],[39,42,38,0],[39,44,16,7],[39,55,17,2,"text"],[39,59,17,14],[39,61,18,2,"options"],[39,68,23,3],[39,70,24,17],[40,6,25,2],[41,6,26,2],[41,12,26,8,"stop"],[41,16,26,12],[41,17,26,13],[41,18,26,14],[42,6,28,2,"_onComplete"],[42,17,28,13],[42,20,28,16,"options"],[42,27,28,23],[42,29,28,25,"onComplete"],[42,39,28,35],[42,43,28,39],[42,47,28,43],[43,6,29,2,"_onStart"],[43,14,29,10],[43,17,29,13,"options"],[43,24,29,20],[43,26,29,22,"onStart"],[43,33,29,29],[43,37,29,33],[43,41,29,37],[44,6,31,2],[44,10,31,6,"Platform"],[44,22,31,14],[44,23,31,14,"Platform"],[44,31,31,14],[44,32,31,15,"OS"],[44,34,31,17],[44,39,31,22],[44,44,31,27],[44,46,31,29],[45,8,32,4,"_speakWeb"],[45,17,32,13],[45,18,32,14,"text"],[45,22,32,18],[45,24,32,20,"options"],[45,31,32,27],[45,32,32,28],[46,6,33,2],[46,7,33,3],[46,13,33,9],[47,8,34,4,"_speakNative"],[47,20,34,16],[47,21,34,17,"text"],[47,25,34,21],[47,27,34,23,"options"],[47,34,34,30],[47,35,34,31],[48,6,35,2],[49,4,36,0],[49,5,36,1],[50,4,36,1],[50,11,36,1,"_speak"],[50,17,36,1],[50,18,36,1,"apply"],[50,23,36,1],[50,30,36,1,"arguments"],[50,39,36,1],[51,2,36,1],[52,2,36,1],[52,11,41,22,"stop"],[52,15,41,26,"stop"],[52,16,41,26],[53,4,41,26],[53,11,41,26,"_stop"],[53,16,41,26],[53,17,41,26,"apply"],[53,22,41,26],[53,29,41,26,"arguments"],[53,38,41,26],[54,2,41,26],[55,2,58,0],[56,0,59,0],[57,0,60,0],[58,2,58,0],[58,11,58,0,"_stop"],[58,17,58,0],[59,4,58,0,"_stop"],[59,9,58,0],[59,16,58,0,"_asyncToGenerator"],[59,33,58,0],[59,34,58,0,"default"],[59,41,58,0],[59,43,41,7],[59,56,41,44],[60,6,42,2,"_isSpeaking"],[60,17,42,13],[60,20,42,16],[60,25,42,21],[61,6,44,2],[61,10,44,6,"Platform"],[61,22,44,14],[61,23,44,14,"Platform"],[61,31,44,14],[61,32,44,15,"OS"],[61,34,44,17],[61,39,44,22],[61,44,44,27],[61,46,44,29],[62,8,45,4],[62,12,45,8],[62,19,45,15,"window"],[62,25,45,21],[62,30,45,26],[62,41,45,37],[62,45,45,41,"window"],[62,51,45,47],[62,52,45,48,"speechSynthesis"],[62,67,45,63],[62,69,45,65],[63,10,46,6,"window"],[63,16,46,12],[63,17,46,13,"speechSynthesis"],[63,32,46,28],[63,33,46,29,"cancel"],[63,39,46,35],[63,40,46,36],[63,41,46,37],[64,8,47,4],[65,6,48,2],[65,7,48,3],[65,13,48,9],[66,8,49,4],[66,12,49,8],[67,10,50,6],[67,14,50,12,"Speech"],[67,20,50,18],[67,23,50,21,"require"],[67,30,50,28],[67,31,50,28,"_dependencyMap"],[67,45,50,28],[67,63,50,42],[67,64,50,43],[68,10,51,6],[68,16,51,12,"Speech"],[68,22,51,18],[68,23,51,19,"stop"],[68,27,51,23],[68,28,51,24],[68,29,51,25],[69,8,52,4],[69,9,52,5],[69,10,52,6],[69,17,52,13,"e"],[69,18,52,14],[69,20,52,16],[70,10,53,6],[71,8,53,6],[72,6,55,2],[73,4,56,0],[73,5,56,1],[74,4,56,1],[74,11,56,1,"_stop"],[74,16,56,1],[74,17,56,1,"apply"],[74,22,56,1],[74,29,56,1,"arguments"],[74,38,56,1],[75,2,56,1],[76,2,61,7],[76,11,61,16,"isSpeaking"],[76,21,61,26,"isSpeaking"],[76,22,61,26],[76,24,61,38],[77,4,62,2],[77,11,62,9,"_isSpeaking"],[77,22,62,20],[78,2,63,0],[80,2,65,0],[81,2,66,0],[81,11,66,9,"_speakWeb"],[81,20,66,18,"_speakWeb"],[81,21,67,2,"text"],[81,25,67,14],[81,27,68,2,"options"],[81,34,68,92],[81,36,69,8],[82,4,70,2],[82,8,70,6],[82,15,70,13,"window"],[82,21,70,19],[82,26,70,24],[82,37,70,35],[82,41,70,39],[82,42,70,40,"window"],[82,48,70,46],[82,49,70,47,"speechSynthesis"],[82,64,70,62],[82,66,70,64],[83,6,71,4,"console"],[83,13,71,11],[83,14,71,12,"warn"],[83,18,71,16],[83,19,71,17],[83,55,71,53],[83,56,71,54],[84,6,72,4,"options"],[84,13,72,11],[84,15,72,13,"onComplete"],[84,25,72,23],[84,28,72,26],[84,29,72,27],[85,6,73,4],[86,4,74,2],[87,4,76,2],[87,8,76,8,"utterance"],[87,17,76,17],[87,20,76,20],[87,24,76,24,"SpeechSynthesisUtterance"],[87,48,76,48],[87,49,76,49,"text"],[87,53,76,53],[87,54,76,54],[88,4,77,2,"utterance"],[88,13,77,11],[88,14,77,12,"rate"],[88,18,77,16],[88,21,77,19,"options"],[88,28,77,26],[88,30,77,28,"rate"],[88,34,77,32],[88,38,77,36],[88,41,77,39],[89,4,78,2,"utterance"],[89,13,78,11],[89,14,78,12,"pitch"],[89,19,78,17],[89,22,78,20,"options"],[89,29,78,27],[89,31,78,29,"pitch"],[89,36,78,34],[89,40,78,38],[89,43,78,41],[90,4,79,2,"utterance"],[90,13,79,11],[90,14,79,12,"lang"],[90,18,79,16],[90,21,79,19],[90,28,79,26],[91,4,81,2,"utterance"],[91,13,81,11],[91,14,81,12,"onstart"],[91,21,81,19],[91,24,81,22],[91,30,81,28],[92,6,82,4,"_isSpeaking"],[92,17,82,15],[92,20,82,18],[92,24,82,22],[93,6,83,4,"options"],[93,13,83,11],[93,15,83,13,"onStart"],[93,22,83,20],[93,25,83,23],[93,26,83,24],[94,4,84,2],[94,5,84,3],[95,4,86,2,"utterance"],[95,13,86,11],[95,14,86,12,"onend"],[95,19,86,17],[95,22,86,20],[95,28,86,26],[96,6,87,4,"_isSpeaking"],[96,17,87,15],[96,20,87,18],[96,25,87,23],[97,6,88,4,"options"],[97,13,88,11],[97,15,88,13,"onComplete"],[97,25,88,23],[97,28,88,26],[97,29,88,27],[98,4,89,2],[98,5,89,3],[99,4,91,2,"utterance"],[99,13,91,11],[99,14,91,12,"onerror"],[99,21,91,19],[99,24,91,22],[99,30,91,28],[100,6,92,4,"_isSpeaking"],[100,17,92,15],[100,20,92,18],[100,25,92,23],[101,6,93,4,"options"],[101,13,93,11],[101,15,93,13,"onComplete"],[101,25,93,23],[101,28,93,26],[101,29,93,27],[102,4,94,2],[102,5,94,3],[103,4,96,2,"window"],[103,10,96,8],[103,11,96,9,"speechSynthesis"],[103,26,96,24],[103,27,96,25,"speak"],[103,32,96,30],[103,33,96,31,"utterance"],[103,42,96,40],[103,43,96,41],[104,2,97,0],[106,2,99,0],[107,2,100,0],[107,11,100,9,"_speakNative"],[107,23,100,21,"_speakNative"],[107,24,101,2,"text"],[107,28,101,14],[107,30,102,2,"options"],[107,37,102,92],[107,39,103,8],[108,4,104,2],[108,8,104,6],[109,6,105,4],[109,10,105,10,"Speech"],[109,16,105,16],[109,19,105,19,"require"],[109,26,105,26],[109,27,105,26,"_dependencyMap"],[109,41,105,26],[109,59,105,40],[109,60,105,41],[110,6,106,4,"_isSpeaking"],[110,17,106,15],[110,20,106,18],[110,24,106,22],[111,6,107,4,"options"],[111,13,107,11],[111,15,107,13,"onStart"],[111,22,107,20],[111,25,107,23],[111,26,107,24],[112,6,109,4,"Speech"],[112,12,109,10],[112,13,109,11,"speak"],[112,18,109,16],[112,19,109,17,"text"],[112,23,109,21],[112,25,109,23],[113,8,110,6,"rate"],[113,12,110,10],[113,14,110,12,"options"],[113,21,110,19],[113,23,110,21,"rate"],[113,27,110,25],[113,31,110,29],[113,34,110,32],[114,8,111,6,"pitch"],[114,13,111,11],[114,15,111,13,"options"],[114,22,111,20],[114,24,111,22,"pitch"],[114,29,111,27],[114,33,111,31],[114,36,111,34],[115,8,112,6,"language"],[115,16,112,14],[115,18,112,16],[115,25,112,23],[116,8,113,6,"onDone"],[116,14,113,12],[116,16,113,14,"onDone"],[116,17,113,14],[116,22,113,20],[117,10,114,8,"_isSpeaking"],[117,21,114,19],[117,24,114,22],[117,29,114,27],[118,10,115,8,"options"],[118,17,115,15],[118,19,115,17,"onComplete"],[118,29,115,27],[118,32,115,30],[118,33,115,31],[119,8,116,6],[119,9,116,7],[120,8,117,6,"onError"],[120,15,117,13],[120,17,117,15,"onError"],[120,18,117,15],[120,23,117,21],[121,10,118,8,"_isSpeaking"],[121,21,118,19],[121,24,118,22],[121,29,118,27],[122,10,119,8,"options"],[122,17,119,15],[122,19,119,17,"onComplete"],[122,29,119,27],[122,32,119,30],[122,33,119,31],[123,8,120,6],[124,6,121,4],[124,7,121,5],[124,8,121,6],[125,4,122,2],[125,5,122,3],[125,6,122,4],[125,13,122,11,"e"],[125,14,122,12],[125,16,122,14],[126,6,123,4,"console"],[126,13,123,11],[126,14,123,12,"error"],[126,19,123,17],[126,20,123,18],[126,49,123,47],[126,51,123,49,"e"],[126,52,123,50],[126,53,123,51],[127,6,124,4,"_isSpeaking"],[127,17,124,15],[127,20,124,18],[127,25,124,23],[128,6,125,4,"options"],[128,13,125,11],[128,15,125,13,"onComplete"],[128,25,125,23],[128,28,125,26],[128,29,125,27],[129,4,126,2],[130,2,127,0],[131,0,127,1],[131,3]],"functionMap":{"names":["<global>","speak","stop","isSpeaking","_speakWeb","utterance.onstart","utterance.onend","utterance.onerror","_speakNative","Speech.speak$argument_1.onDone","Speech.speak$argument_1.onError"],"mappings":"AAA;OCe;CDoB;OEK;CFe;OGK;CHE;AIG;sBCe;GDG;oBEE;GFG;sBGE;GHG;CJG;AQG;cCa;ODG;eEC;OFG;CRO"},"hasCjsExports":false},"type":"js/module"}]}