{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./vad/local-vad","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":299},"end":{"line":9,"column":38,"index":337}}],"key":"+a18EXtkk+xbuwN1/2+ufd1GJ4A=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":57,"column":24,"index":1644},"end":{"line":57,"column":42,"index":1662}}],"key":"Zo2OD1UlwSKfA7XPavzmMQoVCN4=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.startRecording = startRecording;\n  exports.stopRecording = stopRecording;\n  exports.isRecording = isRecording;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _vadLocalVad = require(_dependencyMap[1], \"./vad/local-vad\");\n  /**\n   * Audio Recorder â€” cross-platform audio capture with VAD auto-stop.\n   *\n   * Uses expo-av on native, MediaRecorder on web.\n   * Outputs ~250ms audio chunks as base64 for WS streaming.\n   * VAD drives auto-stop after silence detected (Siri-like behaviour).\n   */\n\n  let _recording = false;\n  let _seq = 0;\n  let _chunkInterval = null;\n  let _vadInterval = null;\n  let _onChunk = null;\n  let _onSpeechEnd = null;\n\n  // For native, we'd use expo-av Audio.Recording\n  let _expoRecording = null;\n\n  /**\n   * Start audio recording and emit chunks every ~250ms.\n   * onSpeechEnd is called automatically when VAD detects end-of-utterance (Siri-like).\n   */\n  async function startRecording(onChunk, onSpeechEnd) {\n    if (_recording) return;\n    _recording = true;\n    _seq = 0;\n    _onChunk = onChunk;\n    _onSpeechEnd = onSpeechEnd || null;\n    _vadLocalVad.vad.reset();\n    if (Platform.default.OS === 'web') {\n      // Web: Use MediaRecorder API if available, else simulate\n      try {\n        await _startWebRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Web recording not available, using simulation:', err);\n        _startSimulatedRecording(onChunk);\n      }\n    } else {\n      // Native: Use expo-av with metering for VAD\n      try {\n        const {\n          Audio\n        } = require(_dependencyMap[2], \"expo-av\");\n\n        // Request microphone permission first\n        const {\n          granted\n        } = await Audio.requestPermissionsAsync();\n        if (!granted) {\n          console.warn('[Recorder] Microphone permission denied, using simulated recording');\n          _startSimulatedRecording(onChunk);\n          return;\n        }\n        await Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true\n        });\n        const recording = new Audio.Recording();\n        await recording.prepareToRecordAsync({\n          ...Audio.RecordingOptionsPresets.HIGH_QUALITY,\n          isMeteringEnabled: true\n        });\n\n        // Wire VAD via metering updates\n        recording.setProgressUpdateInterval(100);\n        recording.setOnRecordingStatusUpdate(status => {\n          if (!_recording) return;\n          if (status.metering !== undefined) {\n            // Convert dBFS (typically -160 to 0) to linear RMS for VAD\n            const rms = Math.pow(10, status.metering / 20);\n            const event = _vadLocalVad.vad.processEnergy(rms);\n            if (event === 'speechEnd' && _onSpeechEnd) {\n              console.log('[Recorder] VAD: speechEnd detected (native)');\n              _onSpeechEnd();\n            }\n          }\n        });\n        await recording.startAsync();\n        _expoRecording = recording;\n\n        // Emit simulated chunks for WS streaming (expo-av doesn't stream directly)\n        _startSimulatedRecording(onChunk);\n      } catch (err) {\n        console.warn('[Recorder] Native recording unavailable, using simulated:', err?.message || err);\n        _startSimulatedRecording(onChunk);\n      }\n    }\n  }\n\n  /**\n   * Stop recording and cleanup.\n   */\n  async function stopRecording() {\n    _recording = false;\n    _onSpeechEnd = null;\n    if (_chunkInterval) {\n      clearInterval(_chunkInterval);\n      _chunkInterval = null;\n    }\n    if (_vadInterval) {\n      clearInterval(_vadInterval);\n      _vadInterval = null;\n    }\n    _vadLocalVad.vad.detach();\n    _vadLocalVad.vad.reset();\n    if (_webStream) {\n      _webStream.getTracks().forEach(t => t.stop());\n      _webStream = null;\n    }\n    if (_webRecorder) {\n      if (_webRecorder.state === 'recording') {\n        _webRecorder.stop();\n      }\n      _webRecorder = null;\n    }\n    if (_expoRecording) {\n      try {\n        await _expoRecording.stopAndUnloadAsync();\n      } catch (e) {\n        // ignore\n      }\n      _expoRecording = null;\n    }\n    _onChunk = null;\n  }\n  function isRecording() {\n    return _recording;\n  }\n\n  // ---- Web MediaRecorder ----\n  let _webStream = null;\n  let _webRecorder = null;\n  async function _startWebRecording(onChunk) {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    _webStream = stream;\n    const recorder = new MediaRecorder(stream, {\n      mimeType: 'audio/webm;codecs=opus'\n    });\n    _webRecorder = recorder;\n    recorder.ondataavailable = async event => {\n      if (event.data.size > 0 && _recording) {\n        const buffer = await event.data.arrayBuffer();\n        const base64 = _arrayBufferToBase64(buffer);\n        _seq++;\n        onChunk({\n          data: base64,\n          seq: _seq,\n          timestamp: Date.now(),\n          durationMs: 250\n        });\n      }\n    };\n\n    // Attach VAD to the live stream for auto-stop\n    _vadLocalVad.vad.attachStream(stream);\n    _vadInterval = setInterval(() => {\n      if (!_recording) return;\n      const event = _vadLocalVad.vad.sampleStream();\n      if (event === 'speechEnd' && _onSpeechEnd) {\n        console.log('[Recorder] VAD: speechEnd detected (web)');\n        _onSpeechEnd();\n      }\n    }, 100);\n\n    // Request data every 250ms\n    recorder.start(250);\n  }\n\n  // ---- Simulated Recording (fallback) ----\n  function _startSimulatedRecording(onChunk) {\n    _chunkInterval = setInterval(() => {\n      if (!_recording) return;\n      _seq++;\n\n      // Generate a small fake audio chunk (~1KB of random data)\n      const fakeData = new Uint8Array(1024);\n      for (let i = 0; i < fakeData.length; i++) {\n        fakeData[i] = Math.floor(Math.random() * 256);\n      }\n      const base64 = _uint8ToBase64(fakeData);\n      onChunk({\n        data: base64,\n        seq: _seq,\n        timestamp: Date.now(),\n        durationMs: 250\n      });\n    }, 250);\n  }\n\n  // ---- Utils ----\n  function _arrayBufferToBase64(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n  }\n  function _uint8ToBase64(data) {\n    let binary = '';\n    for (let i = 0; i < data.length; i++) {\n      binary += String.fromCharCode(data[i]);\n    }\n    return btoa(binary);\n  }\n});","lineCount":225,"map":[[12,2,34,0,"exports"],[12,9,34,0],[12,10,34,0,"startRecording"],[12,24,34,0],[12,27,34,0,"startRecording"],[12,41,34,0],[13,2,108,0,"exports"],[13,9,108,0],[13,10,108,0,"stopRecording"],[13,23,108,0],[13,26,108,0,"stopRecording"],[13,39,108,0],[14,2,148,0,"exports"],[14,9,148,0],[14,10,148,0,"isRecording"],[14,21,148,0],[14,24,148,0,"isRecording"],[14,35,148,0],[15,2,150,1],[15,6,150,1,"_reactNativeWebDistExportsPlatform"],[15,40,150,1],[15,43,150,1,"require"],[15,50,150,1],[15,51,150,1,"_dependencyMap"],[15,65,150,1],[16,2,150,1],[16,6,150,1,"Platform"],[16,14,150,1],[16,17,150,1,"_interopDefault"],[16,32,150,1],[16,33,150,1,"_reactNativeWebDistExportsPlatform"],[16,67,150,1],[17,2,9,0],[17,6,9,0,"_vadLocalVad"],[17,18,9,0],[17,21,9,0,"require"],[17,28,9,0],[17,29,9,0,"_dependencyMap"],[17,43,9,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[26,2,20,0],[26,6,20,4,"_recording"],[26,16,20,14],[26,19,20,17],[26,24,20,22],[27,2,21,0],[27,6,21,4,"_seq"],[27,10,21,8],[27,13,21,11],[27,14,21,12],[28,2,22,0],[28,6,22,4,"_chunkInterval"],[28,20,22,57],[28,23,22,60],[28,27,22,64],[29,2,23,0],[29,6,23,4,"_vadInterval"],[29,18,23,55],[29,21,23,58],[29,25,23,62],[30,2,24,0],[30,6,24,4,"_onChunk"],[30,14,24,36],[30,17,24,39],[30,21,24,43],[31,2,25,0],[31,6,25,4,"_onSpeechEnd"],[31,18,25,37],[31,21,25,40],[31,25,25,44],[33,2,27,0],[34,2,28,0],[34,6,28,4,"_expoRecording"],[34,20,28,23],[34,23,28,26],[34,27,28,30],[36,2,30,0],[37,0,31,0],[38,0,32,0],[39,0,33,0],[40,2,34,7],[40,17,34,22,"startRecording"],[40,31,34,36,"startRecording"],[40,32,35,2,"onChunk"],[40,39,35,26],[40,41,36,2,"onSpeechEnd"],[40,52,36,26],[40,54,37,17],[41,4,38,2],[41,8,38,6,"_recording"],[41,18,38,16],[41,20,38,18],[42,4,40,2,"_recording"],[42,14,40,12],[42,17,40,15],[42,21,40,19],[43,4,41,2,"_seq"],[43,8,41,6],[43,11,41,9],[43,12,41,10],[44,4,42,2,"_onChunk"],[44,12,42,10],[44,15,42,13,"onChunk"],[44,22,42,20],[45,4,43,2,"_onSpeechEnd"],[45,16,43,14],[45,19,43,17,"onSpeechEnd"],[45,30,43,28],[45,34,43,32],[45,38,43,36],[46,4,44,2,"vad"],[46,16,44,5],[46,17,44,5,"vad"],[46,20,44,5],[46,21,44,6,"reset"],[46,26,44,11],[46,27,44,12],[46,28,44,13],[47,4,46,2],[47,8,46,6,"Platform"],[47,16,46,14],[47,17,46,14,"default"],[47,24,46,14],[47,25,46,15,"OS"],[47,27,46,17],[47,32,46,22],[47,37,46,27],[47,39,46,29],[48,6,47,4],[49,6,48,4],[49,10,48,8],[50,8,49,6],[50,14,49,12,"_startWebRecording"],[50,32,49,30],[50,33,49,31,"onChunk"],[50,40,49,38],[50,41,49,39],[51,6,50,4],[51,7,50,5],[51,8,50,6],[51,15,50,13,"err"],[51,18,50,16],[51,20,50,18],[52,8,51,6,"console"],[52,15,51,13],[52,16,51,14,"warn"],[52,20,51,18],[52,21,51,19],[52,80,51,78],[52,82,51,80,"err"],[52,85,51,83],[52,86,51,84],[53,8,52,6,"_startSimulatedRecording"],[53,32,52,30],[53,33,52,31,"onChunk"],[53,40,52,38],[53,41,52,39],[54,6,53,4],[55,4,54,2],[55,5,54,3],[55,11,54,9],[56,6,55,4],[57,6,56,4],[57,10,56,8],[58,8,57,6],[58,14,57,12],[59,10,57,14,"Audio"],[60,8,57,20],[60,9,57,21],[60,12,57,24,"require"],[60,19,57,31],[60,20,57,31,"_dependencyMap"],[60,34,57,31],[60,48,57,41],[60,49,57,42],[62,8,59,6],[63,8,60,6],[63,14,60,12],[64,10,60,14,"granted"],[65,8,60,22],[65,9,60,23],[65,12,60,26],[65,18,60,32,"Audio"],[65,23,60,37],[65,24,60,38,"requestPermissionsAsync"],[65,47,60,61],[65,48,60,62],[65,49,60,63],[66,8,61,6],[66,12,61,10],[66,13,61,11,"granted"],[66,20,61,18],[66,22,61,20],[67,10,62,8,"console"],[67,17,62,15],[67,18,62,16,"warn"],[67,22,62,20],[67,23,62,21],[67,91,62,89],[67,92,62,90],[68,10,63,8,"_startSimulatedRecording"],[68,34,63,32],[68,35,63,33,"onChunk"],[68,42,63,40],[68,43,63,41],[69,10,64,8],[70,8,65,6],[71,8,67,6],[71,14,67,12,"Audio"],[71,19,67,17],[71,20,67,18,"setAudioModeAsync"],[71,37,67,35],[71,38,67,36],[72,10,68,8,"allowsRecordingIOS"],[72,28,68,26],[72,30,68,28],[72,34,68,32],[73,10,69,8,"playsInSilentModeIOS"],[73,30,69,28],[73,32,69,30],[74,8,70,6],[74,9,70,7],[74,10,70,8],[75,8,72,6],[75,14,72,12,"recording"],[75,23,72,21],[75,26,72,24],[75,30,72,28,"Audio"],[75,35,72,33],[75,36,72,34,"Recording"],[75,45,72,43],[75,46,72,44],[75,47,72,45],[76,8,73,6],[76,14,73,12,"recording"],[76,23,73,21],[76,24,73,22,"prepareToRecordAsync"],[76,44,73,42],[76,45,73,43],[77,10,74,8],[77,13,74,11,"Audio"],[77,18,74,16],[77,19,74,17,"RecordingOptionsPresets"],[77,42,74,40],[77,43,74,41,"HIGH_QUALITY"],[77,55,74,53],[78,10,75,8,"isMeteringEnabled"],[78,27,75,25],[78,29,75,27],[79,8,76,6],[79,9,76,7],[79,10,76,8],[81,8,78,6],[82,8,79,6,"recording"],[82,17,79,15],[82,18,79,16,"setProgressUpdateInterval"],[82,43,79,41],[82,44,79,42],[82,47,79,45],[82,48,79,46],[83,8,80,6,"recording"],[83,17,80,15],[83,18,80,16,"setOnRecordingStatusUpdate"],[83,44,80,42],[83,45,80,44,"status"],[83,51,80,55],[83,55,80,60],[84,10,81,8],[84,14,81,12],[84,15,81,13,"_recording"],[84,25,81,23],[84,27,81,25],[85,10,82,8],[85,14,82,12,"status"],[85,20,82,18],[85,21,82,19,"metering"],[85,29,82,27],[85,34,82,32,"undefined"],[85,43,82,41],[85,45,82,43],[86,12,83,10],[87,12,84,10],[87,18,84,16,"rms"],[87,21,84,19],[87,24,84,22,"Math"],[87,28,84,26],[87,29,84,27,"pow"],[87,32,84,30],[87,33,84,31],[87,35,84,33],[87,37,84,35,"status"],[87,43,84,41],[87,44,84,42,"metering"],[87,52,84,50],[87,55,84,53],[87,57,84,55],[87,58,84,56],[88,12,85,10],[88,18,85,16,"event"],[88,23,85,21],[88,26,85,24,"vad"],[88,38,85,27],[88,39,85,27,"vad"],[88,42,85,27],[88,43,85,28,"processEnergy"],[88,56,85,41],[88,57,85,42,"rms"],[88,60,85,45],[88,61,85,46],[89,12,86,10],[89,16,86,14,"event"],[89,21,86,19],[89,26,86,24],[89,37,86,35],[89,41,86,39,"_onSpeechEnd"],[89,53,86,51],[89,55,86,53],[90,14,87,12,"console"],[90,21,87,19],[90,22,87,20,"log"],[90,25,87,23],[90,26,87,24],[90,71,87,69],[90,72,87,70],[91,14,88,12,"_onSpeechEnd"],[91,26,88,24],[91,27,88,25],[91,28,88,26],[92,12,89,10],[93,10,90,8],[94,8,91,6],[94,9,91,7],[94,10,91,8],[95,8,93,6],[95,14,93,12,"recording"],[95,23,93,21],[95,24,93,22,"startAsync"],[95,34,93,32],[95,35,93,33],[95,36,93,34],[96,8,94,6,"_expoRecording"],[96,22,94,20],[96,25,94,23,"recording"],[96,34,94,32],[98,8,96,6],[99,8,97,6,"_startSimulatedRecording"],[99,32,97,30],[99,33,97,31,"onChunk"],[99,40,97,38],[99,41,97,39],[100,6,98,4],[100,7,98,5],[100,8,98,6],[100,15,98,13,"err"],[100,18,98,16],[100,20,98,18],[101,8,99,6,"console"],[101,15,99,13],[101,16,99,14,"warn"],[101,20,99,18],[101,21,99,19],[101,80,99,78],[101,82,99,81,"err"],[101,85,99,84],[101,87,99,96,"message"],[101,94,99,103],[101,98,99,107,"err"],[101,101,99,110],[101,102,99,111],[102,8,100,6,"_startSimulatedRecording"],[102,32,100,30],[102,33,100,31,"onChunk"],[102,40,100,38],[102,41,100,39],[103,6,101,4],[104,4,102,2],[105,2,103,0],[107,2,105,0],[108,0,106,0],[109,0,107,0],[110,2,108,7],[110,17,108,22,"stopRecording"],[110,30,108,35,"stopRecording"],[110,31,108,35],[110,33,108,53],[111,4,109,2,"_recording"],[111,14,109,12],[111,17,109,15],[111,22,109,20],[112,4,110,2,"_onSpeechEnd"],[112,16,110,14],[112,19,110,17],[112,23,110,21],[113,4,112,2],[113,8,112,6,"_chunkInterval"],[113,22,112,20],[113,24,112,22],[114,6,113,4,"clearInterval"],[114,19,113,17],[114,20,113,18,"_chunkInterval"],[114,34,113,32],[114,35,113,33],[115,6,114,4,"_chunkInterval"],[115,20,114,18],[115,23,114,21],[115,27,114,25],[116,4,115,2],[117,4,117,2],[117,8,117,6,"_vadInterval"],[117,20,117,18],[117,22,117,20],[118,6,118,4,"clearInterval"],[118,19,118,17],[118,20,118,18,"_vadInterval"],[118,32,118,30],[118,33,118,31],[119,6,119,4,"_vadInterval"],[119,18,119,16],[119,21,119,19],[119,25,119,23],[120,4,120,2],[121,4,122,2,"vad"],[121,16,122,5],[121,17,122,5,"vad"],[121,20,122,5],[121,21,122,6,"detach"],[121,27,122,12],[121,28,122,13],[121,29,122,14],[122,4,123,2,"vad"],[122,16,123,5],[122,17,123,5,"vad"],[122,20,123,5],[122,21,123,6,"reset"],[122,26,123,11],[122,27,123,12],[122,28,123,13],[123,4,125,2],[123,8,125,6,"_webStream"],[123,18,125,16],[123,20,125,18],[124,6,126,4,"_webStream"],[124,16,126,14],[124,17,126,15,"getTracks"],[124,26,126,24],[124,27,126,25],[124,28,126,26],[124,29,126,27,"forEach"],[124,36,126,34],[124,37,126,35,"t"],[124,38,126,36],[124,42,126,40,"t"],[124,43,126,41],[124,44,126,42,"stop"],[124,48,126,46],[124,49,126,47],[124,50,126,48],[124,51,126,49],[125,6,127,4,"_webStream"],[125,16,127,14],[125,19,127,17],[125,23,127,21],[126,4,128,2],[127,4,129,2],[127,8,129,6,"_webRecorder"],[127,20,129,18],[127,22,129,20],[128,6,130,4],[128,10,130,8,"_webRecorder"],[128,22,130,20],[128,23,130,21,"state"],[128,28,130,26],[128,33,130,31],[128,44,130,42],[128,46,130,44],[129,8,131,6,"_webRecorder"],[129,20,131,18],[129,21,131,19,"stop"],[129,25,131,23],[129,26,131,24],[129,27,131,25],[130,6,132,4],[131,6,133,4,"_webRecorder"],[131,18,133,16],[131,21,133,19],[131,25,133,23],[132,4,134,2],[133,4,136,2],[133,8,136,6,"_expoRecording"],[133,22,136,20],[133,24,136,22],[134,6,137,4],[134,10,137,8],[135,8,138,6],[135,14,138,12,"_expoRecording"],[135,28,138,26],[135,29,138,27,"stopAndUnloadAsync"],[135,47,138,45],[135,48,138,46],[135,49,138,47],[136,6,139,4],[136,7,139,5],[136,8,139,6],[136,15,139,13,"e"],[136,16,139,14],[136,18,139,16],[137,8,140,6],[138,6,140,6],[139,6,142,4,"_expoRecording"],[139,20,142,18],[139,23,142,21],[139,27,142,25],[140,4,143,2],[141,4,145,2,"_onChunk"],[141,12,145,10],[141,15,145,13],[141,19,145,17],[142,2,146,0],[143,2,148,7],[143,11,148,16,"isRecording"],[143,22,148,27,"isRecording"],[143,23,148,27],[143,25,148,39],[144,4,149,2],[144,11,149,9,"_recording"],[144,21,149,19],[145,2,150,0],[147,2,152,0],[148,2,153,0],[148,6,153,4,"_webStream"],[148,16,153,34],[148,19,153,37],[148,23,153,41],[149,2,154,0],[149,6,154,4,"_webRecorder"],[149,18,154,38],[149,21,154,41],[149,25,154,45],[150,2,156,0],[150,17,156,15,"_startWebRecording"],[150,35,156,33,"_startWebRecording"],[150,36,156,34,"onChunk"],[150,43,156,58],[150,45,156,75],[151,4,157,2],[151,10,157,8,"stream"],[151,16,157,14],[151,19,157,17],[151,25,157,23,"navigator"],[151,34,157,32],[151,35,157,33,"mediaDevices"],[151,47,157,45],[151,48,157,46,"getUserMedia"],[151,60,157,58],[151,61,157,59],[152,6,157,61,"audio"],[152,11,157,66],[152,13,157,68],[153,4,157,73],[153,5,157,74],[153,6,157,75],[154,4,158,2,"_webStream"],[154,14,158,12],[154,17,158,15,"stream"],[154,23,158,21],[155,4,160,2],[155,10,160,8,"recorder"],[155,18,160,16],[155,21,160,19],[155,25,160,23,"MediaRecorder"],[155,38,160,36],[155,39,160,37,"stream"],[155,45,160,43],[155,47,160,45],[156,6,161,4,"mimeType"],[156,14,161,12],[156,16,161,14],[157,4,162,2],[157,5,162,3],[157,6,162,4],[158,4,163,2,"_webRecorder"],[158,16,163,14],[158,19,163,17,"recorder"],[158,27,163,25],[159,4,165,2,"recorder"],[159,12,165,10],[159,13,165,11,"ondataavailable"],[159,28,165,26],[159,31,165,29],[159,37,165,36,"event"],[159,42,165,41],[159,46,165,46],[160,6,166,4],[160,10,166,8,"event"],[160,15,166,13],[160,16,166,14,"data"],[160,20,166,18],[160,21,166,19,"size"],[160,25,166,23],[160,28,166,26],[160,29,166,27],[160,33,166,31,"_recording"],[160,43,166,41],[160,45,166,43],[161,8,167,6],[161,14,167,12,"buffer"],[161,20,167,18],[161,23,167,21],[161,29,167,27,"event"],[161,34,167,32],[161,35,167,33,"data"],[161,39,167,37],[161,40,167,38,"arrayBuffer"],[161,51,167,49],[161,52,167,50],[161,53,167,51],[162,8,168,6],[162,14,168,12,"base64"],[162,20,168,18],[162,23,168,21,"_arrayBufferToBase64"],[162,43,168,41],[162,44,168,42,"buffer"],[162,50,168,48],[162,51,168,49],[163,8,169,6,"_seq"],[163,12,169,10],[163,14,169,12],[164,8,170,6,"onChunk"],[164,15,170,13],[164,16,170,14],[165,10,171,8,"data"],[165,14,171,12],[165,16,171,14,"base64"],[165,22,171,20],[166,10,172,8,"seq"],[166,13,172,11],[166,15,172,13,"_seq"],[166,19,172,17],[167,10,173,8,"timestamp"],[167,19,173,17],[167,21,173,19,"Date"],[167,25,173,23],[167,26,173,24,"now"],[167,29,173,27],[167,30,173,28],[167,31,173,29],[168,10,174,8,"durationMs"],[168,20,174,18],[168,22,174,20],[169,8,175,6],[169,9,175,7],[169,10,175,8],[170,6,176,4],[171,4,177,2],[171,5,177,3],[173,4,179,2],[174,4,180,2,"vad"],[174,16,180,5],[174,17,180,5,"vad"],[174,20,180,5],[174,21,180,6,"attachStream"],[174,33,180,18],[174,34,180,19,"stream"],[174,40,180,25],[174,41,180,26],[175,4,181,2,"_vadInterval"],[175,16,181,14],[175,19,181,17,"setInterval"],[175,30,181,28],[175,31,181,29],[175,37,181,35],[176,6,182,4],[176,10,182,8],[176,11,182,9,"_recording"],[176,21,182,19],[176,23,182,21],[177,6,183,4],[177,12,183,10,"event"],[177,17,183,15],[177,20,183,18,"vad"],[177,32,183,21],[177,33,183,21,"vad"],[177,36,183,21],[177,37,183,22,"sampleStream"],[177,49,183,34],[177,50,183,35],[177,51,183,36],[178,6,184,4],[178,10,184,8,"event"],[178,15,184,13],[178,20,184,18],[178,31,184,29],[178,35,184,33,"_onSpeechEnd"],[178,47,184,45],[178,49,184,47],[179,8,185,6,"console"],[179,15,185,13],[179,16,185,14,"log"],[179,19,185,17],[179,20,185,18],[179,62,185,60],[179,63,185,61],[180,8,186,6,"_onSpeechEnd"],[180,20,186,18],[180,21,186,19],[180,22,186,20],[181,6,187,4],[182,4,188,2],[182,5,188,3],[182,7,188,5],[182,10,188,8],[182,11,188,9],[184,4,190,2],[185,4,191,2,"recorder"],[185,12,191,10],[185,13,191,11,"start"],[185,18,191,16],[185,19,191,17],[185,22,191,20],[185,23,191,21],[186,2,192,0],[188,2,194,0],[189,2,195,0],[189,11,195,9,"_startSimulatedRecording"],[189,35,195,33,"_startSimulatedRecording"],[189,36,195,34,"onChunk"],[189,43,195,58],[189,45,195,66],[190,4,196,2,"_chunkInterval"],[190,18,196,16],[190,21,196,19,"setInterval"],[190,32,196,30],[190,33,196,31],[190,39,196,37],[191,6,197,4],[191,10,197,8],[191,11,197,9,"_recording"],[191,21,197,19],[191,23,197,21],[192,6,198,4,"_seq"],[192,10,198,8],[192,12,198,10],[194,6,200,4],[195,6,201,4],[195,12,201,10,"fakeData"],[195,20,201,18],[195,23,201,21],[195,27,201,25,"Uint8Array"],[195,37,201,35],[195,38,201,36],[195,42,201,40],[195,43,201,41],[196,6,202,4],[196,11,202,9],[196,15,202,13,"i"],[196,16,202,14],[196,19,202,17],[196,20,202,18],[196,22,202,20,"i"],[196,23,202,21],[196,26,202,24,"fakeData"],[196,34,202,32],[196,35,202,33,"length"],[196,41,202,39],[196,43,202,41,"i"],[196,44,202,42],[196,46,202,44],[196,48,202,46],[197,8,203,6,"fakeData"],[197,16,203,14],[197,17,203,15,"i"],[197,18,203,16],[197,19,203,17],[197,22,203,20,"Math"],[197,26,203,24],[197,27,203,25,"floor"],[197,32,203,30],[197,33,203,31,"Math"],[197,37,203,35],[197,38,203,36,"random"],[197,44,203,42],[197,45,203,43],[197,46,203,44],[197,49,203,47],[197,52,203,50],[197,53,203,51],[198,6,204,4],[199,6,205,4],[199,12,205,10,"base64"],[199,18,205,16],[199,21,205,19,"_uint8ToBase64"],[199,35,205,33],[199,36,205,34,"fakeData"],[199,44,205,42],[199,45,205,43],[200,6,207,4,"onChunk"],[200,13,207,11],[200,14,207,12],[201,8,208,6,"data"],[201,12,208,10],[201,14,208,12,"base64"],[201,20,208,18],[202,8,209,6,"seq"],[202,11,209,9],[202,13,209,11,"_seq"],[202,17,209,15],[203,8,210,6,"timestamp"],[203,17,210,15],[203,19,210,17,"Date"],[203,23,210,21],[203,24,210,22,"now"],[203,27,210,25],[203,28,210,26],[203,29,210,27],[204,8,211,6,"durationMs"],[204,18,211,16],[204,20,211,18],[205,6,212,4],[205,7,212,5],[205,8,212,6],[206,4,213,2],[206,5,213,3],[206,7,213,5],[206,10,213,8],[206,11,213,9],[207,2,214,0],[209,2,216,0],[210,2,217,0],[210,11,217,9,"_arrayBufferToBase64"],[210,31,217,29,"_arrayBufferToBase64"],[210,32,217,30,"buffer"],[210,38,217,49],[210,40,217,59],[211,4,218,2],[211,8,218,6,"binary"],[211,14,218,12],[211,17,218,15],[211,19,218,17],[212,4,219,2],[212,10,219,8,"bytes"],[212,15,219,13],[212,18,219,16],[212,22,219,20,"Uint8Array"],[212,32,219,30],[212,33,219,31,"buffer"],[212,39,219,37],[212,40,219,38],[213,4,220,2],[213,9,220,7],[213,13,220,11,"i"],[213,14,220,12],[213,17,220,15],[213,18,220,16],[213,20,220,18,"i"],[213,21,220,19],[213,24,220,22,"bytes"],[213,29,220,27],[213,30,220,28,"byteLength"],[213,40,220,38],[213,42,220,40,"i"],[213,43,220,41],[213,45,220,43],[213,47,220,45],[214,6,221,4,"binary"],[214,12,221,10],[214,16,221,14,"String"],[214,22,221,20],[214,23,221,21,"fromCharCode"],[214,35,221,33],[214,36,221,34,"bytes"],[214,41,221,39],[214,42,221,40,"i"],[214,43,221,41],[214,44,221,42],[214,45,221,43],[215,4,222,2],[216,4,223,2],[216,11,223,9,"btoa"],[216,15,223,13],[216,16,223,14,"binary"],[216,22,223,20],[216,23,223,21],[217,2,224,0],[218,2,226,0],[218,11,226,9,"_uint8ToBase64"],[218,25,226,23,"_uint8ToBase64"],[218,26,226,24,"data"],[218,30,226,40],[218,32,226,50],[219,4,227,2],[219,8,227,6,"binary"],[219,14,227,12],[219,17,227,15],[219,19,227,17],[220,4,228,2],[220,9,228,7],[220,13,228,11,"i"],[220,14,228,12],[220,17,228,15],[220,18,228,16],[220,20,228,18,"i"],[220,21,228,19],[220,24,228,22,"data"],[220,28,228,26],[220,29,228,27,"length"],[220,35,228,33],[220,37,228,35,"i"],[220,38,228,36],[220,40,228,38],[220,42,228,40],[221,6,229,4,"binary"],[221,12,229,10],[221,16,229,14,"String"],[221,22,229,20],[221,23,229,21,"fromCharCode"],[221,35,229,33],[221,36,229,34,"data"],[221,40,229,38],[221,41,229,39,"i"],[221,42,229,40],[221,43,229,41],[221,44,229,42],[222,4,230,2],[223,4,231,2],[223,11,231,9,"btoa"],[223,15,231,13],[223,16,231,14,"binary"],[223,22,231,20],[223,23,231,21],[224,2,232,0],[225,0,232,1],[225,3]],"functionMap":{"names":["<global>","startRecording","recording.setOnRecordingStatusUpdate$argument_0","stopRecording","_webStream.getTracks.forEach$argument_0","isRecording","_startWebRecording","ondataavailable","setInterval$argument_0","_startSimulatedRecording","_arrayBufferToBase64","_uint8ToBase64"],"mappings":"AAA;OCiC;2CC8C;ODW;CDY;OGK;mCCkB,aD;CHoB;OKE;CLE;AMM;6BCS;GDY;6BEI;GFO;CNI;ASG;+BDC;GCiB;CTC;AUG;CVO;AWE;CXM"},"hasCjsExports":false},"type":"js/module"}]}